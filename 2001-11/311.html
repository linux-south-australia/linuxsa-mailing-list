<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Internet Connection Sharing" -->
<!-- FromName="'Michael T. Cheshire'" -->
<!-- FromEmail="michael.cheshire@microarts.com.au" -->
<!-- ToName="'Joshua Cowdrey'" -->
<!-- ToEmail="jcowdrey@pcpro.net.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 13 Nov 2001 08:57:36 +1030" -->
<!-- Id="1678A60022973E4E936ABA52D4D86A61023C1D@martsex.microarts.microarts.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Internet Connection Sharing</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael T. Cheshire &lt;<I><A HREF="mailto:michael.cheshire@microarts.com.au">michael.cheshire@microarts.com.au</A></I>&gt;
  To  : Joshua Cowdrey &lt;<I><A HREF="mailto:jcowdrey@pcpro.net.au">jcowdrey@pcpro.net.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 13 Nov 2001 08:57:36 +1030
</PRE>
<H1>RE: Internet Connection Sharing</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Here's the quick way of doing it :)

OK, assuming you have your Redhat box dialed up to the internet, type
the following lines :

        modprobe iptable_nat
        iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
        echo 1 &gt; /proc/sys/net/ipv4/ip_forward

You will then have to go and setup the clients you want to use the
shared connection and set the address of the linux box as the default
gateway your network setup. You will also need to setup your clients to
use a DNS server, just use your ISPs, this should be easiest.

You should then be able to ping internet addresses and get on the net
from your client machines.

You could then shove these lines into a script and run it whenever you
dial up!

---

Regards,

-----------------------------------------------------------------------
Michael Cheshire
Network Engineer
Microarts Pty Ltd
mailto:<A HREF="mailto:michael.cheshire@microarts.com.au">michael.cheshire@microarts.com.au</A>
<A HREF="http://www.microarts.com.au">http://www.microarts.com.au</A>
PH : 8373 7000 / 0402 277 092
-----------------------------------------------------------------------

Disclaimer:

Confidentiality
This  message  contains  privileged  and/or  confidential  information
intended only for the use of the addressee named above. If you are not
the  intended recipient of  this message you are  hereby notified that
you must  not  disseminate,  re-transmit, copy  or take any  action in
reliance  on it. If you have  received this message  in  error  please
delete  the document  and  notify  Microarts  immediately.  Any  views 
expressed in this  message are those of the individual sender,  except 
where the sender specifically states them to be the views of Microarts.

Viruses
Any  loss/damage incurred by using  this material is not  the sender's
responsibility.   Microarts  entire   liability  will  be  limited  to
re-supplying  the material.  No warranty is made that this material is 
free from computer virus or any other defect.

-----------------------------------------------------------------------


&gt; -----Original Message-----
&gt; From: Joshua Cowdrey [mailto:<A HREF="mailto:jcowdrey@pcpro.net.au">jcowdrey@pcpro.net.au</A>]
&gt; Sent: Monday, 12 November 2001 11:24 PM
&gt; To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
&gt; Subject: Internet Connection Sharing
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; I am new to the list and would like to introduce myself. I have been 
&gt; interested in linux for a few years now but I find I have a 
&gt; few problems. I 
&gt; am hoping that this mailing list will be able to help me 
&gt; solve some of them.
&gt; 
&gt; I am running Red Hat 7.1 and I would like to share it's 
&gt; internet connection 
&gt; on my local home network with two windows machines. I am not 
&gt; sure how to go 
&gt; about it. If anyone could provide me with clear, easy to understand 
&gt; information I would greatly appreciate it.
&gt; 
&gt; Regards,
&gt; 
&gt; Josh
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on 
&gt; irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as 
&gt; the subject
&gt; 
&gt; 

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
