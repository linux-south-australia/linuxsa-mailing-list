<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Samba, NFS, Linux and UNIX SysV" -->
<!-- FromName="Nick Morrison" -->
<!-- FromEmail="nickm@lynx.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 10 Feb 1999 23:05:02 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.04.9902102241100.12037-100000@stubsy.process9.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Samba, NFS, Linux and UNIX SysV</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Nick Morrison &lt;<I><A HREF="mailto:nickm@lynx.net.au">nickm@lynx.net.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Wed, 10 Feb 1999 23:05:02 +1030 (CST)
</PRE>
<H1>Samba, NFS, Linux and UNIX SysV</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hello everyone :)

Firstly, I'd like to say just how much I enjoyed the dinner last night and
the Peacock .. place.. (err..) - the food was delicious and plentiful, and
many an interesting conversation could be heard.  Just like the mailing
list, but a lot faster :)  (One particular conversation I almost (almost)
took part in could quite easily have taken up several megabytes of e-mail
and many weeks to complete, so I am grateful ;)

Now to my problem...

Picture this.

  +----+
  | :( |  Windows 95 box, shared directories (file server)
  +----+

  +----+
  | :) |  My Linux box
  +----+

  +----+
  | :/ |  SysV UNIX (Supports -export- of SMB but no -import-)
  +----+

All are linked up via LAN and TCP/IP.

Basically:  I need to let SysV mount an SMB share in a directory on its
filesystem.  Why, you ask?  Backups, I reply.  Backups.

Easy!  Just mount the SMB shares in SysV using smbmount, because the rest
of the samba package is there, so why wouldn't smbmount be.

Well it's not.  There is currently (to my knowledge) no version of
smbmount for SysV systems.

SysV -will-, however, import NFS.

Windows 95 won't export it.

Bah.

"Easy, " I thinks to meself, "install Linux, mount the SMB share in
/mnt/windows or something, and export /mnt/windows as NFS.  Shouldn't be
a problem."

so...

LINUX$ smbmount //health/cdrive /mnt/windows/cdrive -c stubsy -n -I
192.168.0.2

*ping* All done.  Beautiful.  Exciting.

/etc/exports:

  /mnt/windows   unixserver(ro)

Then on Mr SysV:

SYSV$ mount -F nfs stubsy:/mnt/windows /mnt/windows

*ping* All done.  Happy.  Skipping about.

SysV again:

SYSV$ ls -la /mnt/windows/cdrive

gives me an error about a stale NFS point when it tries to read "./." 
(sorry - can't give you the exact message - it's at work, I am not - but
you get the idea).  Everything under LINUX$ /mnt/windows that's actually
on Linux's physical disk can be read without a hassle.

I am assuming that this is because stubsy:/mnt/windows is not really -on-
stubsy, it's sort of being shared twice.  Being highly naiive, I thought
it would work straight off, and it didn't.  *sobs*

So can anyone help me?  You'd be saving us about $2000 on a tape drive, or
me a headache from writing a script to use tar+gz+ftp to make a mess and
waste valuable disk space.

If you read this far through this e-mail, you're a beautiful person and
I'm grateful for your time and thought.

Thankyou most kindly :)

--
Nick Morrison
<A HREF="mailto:nickm@lynx.net.au">nickm@lynx.net.au</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
