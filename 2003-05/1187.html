<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="C programming problem - stdout output goes AWOL" -->
<!-- FromName="'Alan Kennington'" -->
<!-- FromEmail="ak.linuxsa@topology.org" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 30 May 2003 16:47:03 +0930" -->
<!-- Id="20030530164703.A14208@dog.topology.org" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: C programming problem - stdout output goes AWOL</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:ak.linuxsa@topology.org">ak.linuxsa@topology.org</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 30 May 2003 16:47:03 +0930
</PRE>
<H1>C programming problem - stdout output goes AWOL</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Sorry about the banality of this.
But it's so trivial, it's annoying me like mad.

I write an ANSI C program which just whips great chunks of
data to the screen - just ascii in nice little lines less than
80 characters long, once every 4 seconds.
But the last 10-20 lines of each screenful just disappear completely,
broken in the middle of a line.
Clearly some buffer is overflowing somewhere.
I've tried using fflush(), setbuf(), with no success.
Even fflush after every line has no effect.
The stdio man-manuals tell me nothing inspirational.
They say that stdout to a terminal should be line-buffered.
In this case, the bytes are clearly being sent but just getting lost.

This happens on a KDE console window on the same machine, and also
on and xterm over ethernet with ssh to the machine running the program.
The only thing I've done that's even slightly odd is that I've
set stdin to non-blocking. All my line outputs use printf().

I must be missing something obvious. Can anyone tell me how I can make
sure that if I print 200 lines to stdout, all 200 lines get to the screen?

Cheers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
