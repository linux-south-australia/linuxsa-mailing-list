<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ALSA not included in standard kernel" -->
<!-- FromName="'Alan Kennington'" -->
<!-- FromEmail="ak.linuxsa@topology.org" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 6 May 2003 05:34:09 +0930" -->
<!-- Id="20030506053409.A6590@dog.topology.org" -->
<!-- Reference="3EB6BADF.9050707@netscape.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ALSA not included in standard kernel</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:ak.linuxsa@topology.org">ak.linuxsa@topology.org</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 6 May 2003 05:34:09 +0930
</PRE>
<H1>Re: ALSA not included in standard kernel</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Mon, May 05, 2003 at 12:26:23PM -0700, James Leone wrote:
&gt; <A HREF="mailto:ak.linuxsa@topology.org">ak.linuxsa@topology.org</A> wrote:
&gt; 
&gt; &gt;---------------------------------------------------------------
&gt; &gt;My sound card problems resolved: ALSA not in standard kernel.
&gt; &gt;
&gt; &gt;Referring back to a problem or two which I had aeons ago with sound
&gt; &gt;card configuration, I think I've found a simple explanation for my problems.
&gt; &gt;No, it's not my brain... It's the fact that the machines that I was
&gt; &gt;trying to get sound going on both had linux kernel 2.4.20 downloaded
&gt; &gt;fresh from the net (from AARNet actually) and therefore did not contain ALSA!
&gt; &gt;
&gt; I am curious, when you run 'make xconfig' or whatever, is there an alsa 
&gt; option under sound? I thought it was there...

It is at the end of the drivers/sound config buttons in "make xconfig"
for the SuSE modified kernels, but not for the standard kernel.
I looked in both. I'd imagine that the redhat kernels also have the ALSA
already installed in the kernel.
Here I'm talking only about kernel 2.4.20.
I have no idea if ALSA has been incorporated into the 2.5.x series.
When ALSA is added to the kernel the patch causes a new button at the
end of the sound menu, and you click on that single last button to
get a whole menu of ALSA-specific buttons. That single last button is just
not there in the standard kernel.

&gt; There was one thing that I noticed related to Alsa that may not apply if 
&gt; you had OSS working...
&gt; 
&gt; I saw a message while I set up Alsa manually that said something 
&gt; like...'change the names of your modules in /ect/modules.conf.  The 
&gt; names of our modules have changed, so even if you have the modules 
&gt; compiled and installed, you will not hear any sound untill you change 
&gt; the way the names read in /ect/modules.conf.'

In my modules.conf file, there's this:

-----------------------------------------------------
# Aliases for OSS
#
# These aliases will be changed by YaST2 sound configurator.
# If you would like to configure OSS drivers by yourself, please
# take a look at the files on /usr/src/linux/Documentation/sound.
#
########################################################################

alias char-major-14 off
alias sound off
alias midi off
-----------------------------------------------------

These get commented out for using OSS.
From this I infer (quite possibly incorrectly) that OSS drivers means
the drivers which come with the standard kernel, and that means you
use the /etc/modules.conf entries - uncommented and configured in
accordance with whatever one has on one's machine du jour - to inform
modprobe as to what is needed for the abstract driver names "sound", 
"midi" etc.

&gt; &gt;In my case, I've now wasted a lot of
&gt; &gt;valuable time because I wasn't aware of this.
&gt; &gt;(A related problem is the lack of a .config file in the SuSE kernel
&gt; &gt;
&gt; For me, the hidden .config file did not appear until after I ran make 
&gt; xconfig once, and then closed the GUI.

Indeed. The .config file is created by "make xconfig" etc., and it is
deleted by "make mrproper". So you can easily lose an hour of focussed 
energy by typing "make mrproper" after you've made your .config.
The trouble is that it is very unlikely you'll guess all 1300
config variables the same as what the distro-monger did.

Whenever I download a new kernel and install it, I always want the
original .config file so that I can use that as a starting point
for my own with the new kernel. If there isn't one, I have to
go through all 1300 variables, and that it somewhat tiring when
you've done it a few dozens of times already.

What _is_ a thrill though is writing your own kernel module and
seeing your very own button show up in "make xconfig" with your very
own help message, and being able to press it and choose the "module" option.

Cheers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
