<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="FreeBSD blues... Tape drive... not even google knows why :(" -->
<!-- FromName="'Daniel A Moore'" -->
<!-- FromEmail="danielm@gropep.com.au" -->
<!-- ToName="'linuxsa'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 07 May 2003 14:59:51 +0930" -->
<!-- Id="3EB899CF.5060302@gropep.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: FreeBSD blues... Tape drive... not even google knows why :(</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daniel A Moore &lt;<I><A HREF="mailto:danielm@gropep.com.au">danielm@gropep.com.au</A></I>&gt;
  To  : linuxsa &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 07 May 2003 14:59:51 +0930
</PRE>
<H1>FreeBSD blues... Tape drive... not even google knows why :(</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hello all... I have been trying to solve this problem for weeks and 
there doesn't seem anywhere on the net that can help.

I seem to be having a "little" trouble with my tape drive. I "aquired" a 
SONY AIT SDX-S300C tape drive and am trying to put it to use on my 
FreeBSD 4.4. I installed the SCSI card and that works, I have some 
mounted SCSI drives running off it. I have put all the jumpers to the 
positions that the Sony page says are for Unix... they don't say 
anything about FreeBSD in particular. I can access the tape drive 
through the mt command. I can rewind the tape, I can delete the tape. 
But here's where the trouble starts:

dump -0u -b 512 -f  /dev/sa0 /home

I found on the Sony site that the block size was meant to be 512 so I 
put it just in case (-b 512). However this outputs :

DUMP: Date of this level 0 dump: Wed May 7 13:55:15 2003
DUMP: Date of last level 0 dump: the epoch
DUMP: Dumping /home to /dev/sa0
DUMP: bad sblock magic number
DUMP: The ENTIRE dump is aborted.

I read somewhere that FreeBSD only does dumps to entire devices... I 
didn't really believe this but I tried it anyway:

dump -0u -b 512 -f  /dev/sa0 /

DUMP: Date of this level 0 dump: Wed May 7 14:09:07 2003
DUMP: Date of last level 0 dump: the epoch
DUMP: Dumping /home to /dev/sa0
DUMP: mapping (Pass I) [regular files]
DUMP: mapping (Pass II) [directories]
DUMP: estimated 462375 tape blocks on 10.61 tape(s).
DUMP: 0.11% done, finished in 0:00
DUMP: dumping (Pass III) [directories]
DUMP: dumping (Pass IV) [regular files]
DUMP: Closing /dev/sa0
DUMP: Change Volumes: Mount volume #2
DUMP: Is the new volume mounted and ready to go?: ("yes" or "no")

This process takes about 5 minutes to get to this point. Now this can't 
be right. I am using the SDX1-25C tape media and that has an 
uncompressed capacity of 25 GB! With hardware compression that's 50. 
Perhaps it's dumping data to the contents information portion of the 
tape or something. I don't know what's going on. I have read about 
someone getting it working by installing an MX driver but I have no idea 
what that is or even where to look for it.

So can anyone give me a little insight into what's going on or even just 
give me some ideas as to where to go to next? Apart from this using 
FreeBSD has been a dream.

Oh yeah and when I try a restore (just for the heck of it, I've never 
tried to complete the 10 tape series, as I don't have 10 tapes :( ):

restore -if /dev/sa0

It makes some whirring noise and the busy light goes on...

(sa0:sym0:0:0): 65536-byte tape record bigger than supplied buffer
tape read error: Input/output error
May 7 14:23:29 testbed /kernel: (sa0:sym0:0:0): 65536-byte tape record 
bigger than supplied buffer
May 7 14:23:29 testbed /kernel: (sa0:sym0:0:0): 65536-byte tape record 
bigger than supplied buffer

please help... my pII FreeBSD system is about to go head to head with 
the latest Windows 2003 server running Exchange, if I can back it up 
I'll win :-) if not our systems might fall into the dark domain of 
microsoft forever.....................&lt;/chilling thought&gt;


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
