<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: CVS, SSH, secure, chroot etc" -->
<!-- FromName="'Andrew Reid'" -->
<!-- FromEmail="andrew.reid@plug.cx" -->
<!-- ToName="'jonathan soong'" -->
<!-- ToEmail="jon.soong@imvs.sa.gov.au" -->
<!-- Date="23 May 2003 20:48:47 +0930" -->
<!-- Id="1053688727.22072.7.camel@keetoo.alfred.cx" -->
<!-- Reference="3ECC42E7.6070502@imvs.sa.gov.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: CVS, SSH, secure, chroot etc</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew Reid &lt;<I><A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A></I>&gt;
  To  : jonathan soong &lt;<I><A HREF="mailto:jon.soong@imvs.sa.gov.au">jon.soong@imvs.sa.gov.au</A></I>&gt;
  Date: 23 May 2003 20:48:47 +0930
</PRE>
<H1>Re: CVS, SSH, secure, chroot etc</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, 2003-05-22 at 12:54, jonathan soong wrote:

&gt;  &gt;&gt;The Problem:
&gt; CVS on a public server, that we want external developers to be able to 
&gt; access - securely.

You know about SourceForge, right? They run one of the biggest public
CVS servers going around, and they give secure access to developers
through SSH.

&gt;  &gt;&gt;Conditions:
&gt; _Cannot_ have multiple shell accounts on the machine.

Is this a security thing? You can tie the account down such that it can
only execute CVS and SSH.

&gt; Must have read/write access on the machine
&gt; 
&gt;  &gt;&gt;Current Thinking:
&gt; 1. Chroot CVS. - (done)
&gt; 2. Use pserver, but somehow secure it - (working on..)
&gt;     I have setup pserver, and will use pserver's user management to 
&gt; avoid lots of shell accounts.
&gt;     I want to use an ssh tunnel to protect pserver's passwords.

But there's the thing -- you'll need local accounts (or something PAM
compatible) for users to be able to SSH in.

I'd be having a look at the way SourceForge have done it and seeing if
you can apply similar principles to your setup.

&gt;     Hence, i want users to be able to create an ssh tunnel into my 
&gt; machine with a public password.
&gt;     (i.e. a generic account, which can't do anything - once on the 
&gt; machine, i want the users to be
&gt;     forced to login via pserver's authentication and be restricted to 
&gt; cvs commands).

See, this is where I don't see why you'd bother. All this achieves is
secure transmission of the CVS data. Why not just take the extra step
and use SSH alone for doing CVS? It's not that hard to setup -- I'd
argue that it's easier to setup than pserver.

You're already going to be going to some lengths to secure the account
and limit it to SSH/CVS. It'd be just as easy (if not easier) to
continue along that line.

[ ... ]

&gt;     Anyone have any  thoughts about this? Am i missing something glaring 
&gt; obvious.

I feel you're making the situation harder than it needs to be. Have a
look at the way SourceForge provide developer access and see if that's
got any merit for your situation.

   - andrew

-- 
| Andrew Reid [mailto:<A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A>]
| Overworked and Underpaid Network Monkey
| C: +61-401-946-813  F: +61-8-8379-1093
| Finger <A HREF="mailto:andrew@keetoo.plug.cx">andrew@keetoo.plug.cx</A> for PGP Public Key

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
