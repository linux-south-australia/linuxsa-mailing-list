<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Putting it all together / office multifunctionals & Linux" -->
<!-- FromName="'Daryl Tester'" -->
<!-- FromEmail="Daryl.Tester@iocane.com.au" -->
<!-- ToName="'James Leone'" -->
<!-- ToEmail="linuxcpa@netscape.net" -->
<!-- Date="Sat, 10 May 2003 19:41:02 +0930" -->
<!-- Id="3EBCD036.53A43736@iocane.com.au" -->
<!-- Reference="3EBB38A5.7020303@netscape.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Putting it all together / office multifunctionals & Linux</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;
  To  : James Leone &lt;<I><A HREF="mailto:linuxcpa@netscape.net">linuxcpa@netscape.net</A></I>&gt;
  Date: Sat, 10 May 2003 19:41:02 +0930
</PRE>
<H1>Re: Putting it all together / office multifunctionals & Linux</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
James Leone wrote:

&gt; Arp broadcast using IP #'s from Multi to Win2k:  Who has 192.168.x.xxx?
&gt;    (Who has win2k?)

Note: This is from multi to *anyone*, not Win2k - it's a broadcast,
and it's literally saying "what Ethernet address do I need to send
traffic ip address &lt;blah&gt; to".

&gt; 0. SYN TCP broadcast from Multi (1081) to Win2k (3670) Seq=big number;
&gt; Ack,Win & Len=0
&gt; 1. Arp broadcast using IP #'s from Multi to Win2k:  Who has
&gt; 192.168.x.xxx?   (Who has win2k?)

Again, broadcast, not directed at anyone.

&gt; ARP response from Win2k to Multi:   192.168.x.xxx is at
&gt; 00:44:k4:64:77:6f   (Ethernet card number)
&gt; (See the bottom of my last post for the remainder of this sniff...)

You can safely ignore the ARP side of things - ARP is required for all
IP traffic over broadcast medium such as Ethernet, and you'd be getting
ARP packets for other IP traffic as well.

&gt; 2. A bunch of TCP communications take place between both machines, at 5
&gt; sets of ports; (1081 & 3670),(1082 & 1085),(1086 & 1083),(1087 &
&gt; 1084),(1088 & 1085) but the data section of the frame is missing.  This
&gt; packet sniff is on the bottom of my past post. (This sniff is on the
&gt; last post I made where I say a lot more is going on here)

Those additional connections appear to be the actual files being transferred.
The verbose debug you posted before was only the control portion of the
dialog.

&gt; 3. The Win2k machine sends a message to M:  "220 server ready" and then
&gt; the multifunctional ftp's into the win2k machine and gets 3 copies of
&gt; files from Win2k delivering it to M (That sniff is included in the
&gt; message where I said that this was fun, so I am not going to LA yet.)

It's the other way around - the first step in FTP is that banner message,
and that's the w2k machine telling the client (multifunctional) that it's
now expecting commands, the first of which is usually a login command.

&gt; 4. M delivers the scanned document to win2k as described last night.

And from the longer debug you posted, yes that looks like a straight
forward FTP transfer.  However, *something* has to be telling, or have
already told, the multifunctional to go to that IP address that it's
connecting to (and that *isn't* ARP) and expect an FTP server on port
3670.  Otherwise, you're going to have to keep swapping out the W2K
box for the Linux one as it shares the same IP address.

&gt; (Yeah I now have a switch)

Can you get it into a port monitor mode?  I presume you can, otherwise
you wouldn't have got these logs so far.


-- 
Regards,
  Daryl Tester,  Software Wrangler and Bit Herder, IOCANE Pty. Ltd.

"The philosophy exam was a piece of cake -- which was a bit of a surprise,
 actually, because I was expecting some questions on a sheet of paper."
  -- Smith & Jones

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
