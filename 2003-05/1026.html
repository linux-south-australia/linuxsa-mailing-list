<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Linux Routing" -->
<!-- FromName="'Matthew Moyle-Croft'" -->
<!-- FromEmail="mmc@mmc.com.au" -->
<!-- ToName="'Jasper Leonidas'" -->
<!-- ToEmail="justlink21@hotpop.com" -->
<!-- Date="Tue, 27 May 2003 21:01:00 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.44.0305272059180.18168-100000@tsunami.mmc.com.au" -->
<!-- Reference="1054028806.3954.18.camel@LinuxServ" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Linux Routing</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Moyle-Croft &lt;<I><A HREF="mailto:mmc@mmc.com.au">mmc@mmc.com.au</A></I>&gt;
  To  : Jasper Leonidas &lt;<I><A HREF="mailto:justlink21@hotpop.com">justlink21@hotpop.com</A></I>&gt;
  Date: Tue, 27 May 2003 21:01:00 +0930 (CST)
</PRE>
<H1>RE: Linux Routing</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Got to turn on IP forwarding (not on by default on most distributions).

On Redhat Linux 8 and 9 do:

- look at /etc/sysctl.conf

See if "net.ipv4.ip_forward = 1" if not set it to 1 (or add that in to the 
file) then do:

# sysctl -p

- Try it again.

MMC


On 27 May 2003, Jasper Leonidas wrote:

&gt; hey guys
&gt;     i need someone's help. to those who only want to help.
&gt; &gt; &gt; my linux box have 2 nics and set to join different subnet. 
&gt; &gt; &gt; the following is the ifconfig output of my linux box. 
&gt; &gt; &gt; 
&gt; &gt; &gt; [<A HREF="mailto:root@LinuxServ">root@LinuxServ</A> root]# ifconfig
&gt; &gt; &gt; eth0      Link encap:Ethernet  HWaddr 00:00:E8:86:03:ED
&gt; &gt; &gt;           inet addr:192.168.1.1  Bcast:192.168.1.255  
&gt; &gt; &gt; Mask:255.255.255.0
&gt; &gt; &gt;           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
&gt; &gt; &gt;           RX packets:3134 errors:0 dropped:0 overruns:0 frame:0
&gt; &gt; &gt;           TX packets:2838 errors:0 dropped:0 overruns:0 carrier:0
&gt; &gt; &gt;           collisions:0 txqueuelen:100
&gt; &gt; &gt;           RX bytes:334085 (326.2 Kb)  TX bytes:1879658 (1.7 Mb)
&gt; &gt; &gt;           Interrupt:11 Base address:0x7000
&gt; &gt; &gt; 
&gt; &gt; &gt; eth1      Link encap:Ethernet  HWaddr 00:60:67:74:81:AE
&gt; &gt; &gt;           inet addr:192.168.2.1  Bcast:192.168.2.255  
&gt; &gt; &gt; Mask:255.255.255.0
&gt; &gt; &gt;           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
&gt; &gt; &gt;           RX packets:1031 errors:0 dropped:0 overruns:0 frame:0
&gt; &gt; &gt;           TX packets:33 errors:0 dropped:0 overruns:0 carrier:0
&gt; &gt; &gt;           collisions:0 txqueuelen:100
&gt; &gt; &gt;           RX bytes:124805 (121.8 Kb)  TX bytes:3716 (3.6 Kb)
&gt; &gt; &gt;           Interrupt:10 Base address:0x9000
&gt; &gt; &gt; 
&gt; &gt; &gt; lo        Link encap:Local Loopback
&gt; &gt; &gt;           inet addr:127.0.0.1  Mask:255.0.0.0
&gt; &gt; &gt;           UP LOOPBACK RUNNING  MTU:16436  Metric:1
&gt; &gt; &gt;           RX packets:49 errors:0 dropped:0 overruns:0 frame:0
&gt; &gt; &gt;           TX packets:49 errors:0 dropped:0 overruns:0 carrier:0
&gt; &gt; &gt;           collisions:0 txqueuelen:0
&gt; &gt; &gt;           RX bytes:3799 (3.7 Kb)  TX bytes:3799 (3.7 Kb)
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; my DNS server has 192.168.1.5(set by DHCP server as a static) 
&gt; &gt; &gt; and my client has 192.168.2.254(set by DHCP Server).  
&gt; &gt; &gt; Checking the connectivity, my DNS server can ping both eth0 
&gt; &gt; &gt; and eth1 of my linux box and the client can do it as well. 
&gt; &gt; &gt; but when i try to check the connectivity between the DNS and 
&gt; &gt; &gt; the client, it seems that they can't see each other. My DNS' 
&gt; &gt; &gt; gateway is set to 192.168.1.1 and the client's gateway is set 
&gt; &gt; &gt; to 192.168.2.1. my ip_forward file is set to "1" already.
&gt; &gt; &gt; I even try to add static route but still it doesnt make any 
&gt; &gt; &gt; difference. Here's the list of my routing table;
&gt; &gt; &gt; 
&gt; &gt; &gt; [<A HREF="mailto:root@LinuxServ">root@LinuxServ</A> root]# route -n
&gt; &gt; &gt; Kernel IP routing table
&gt; &gt; &gt; Destination     Gateway         Genmask         Flags Metric 
&gt; &gt; &gt; Ref    Use
&gt; &gt; &gt; Iface
&gt; &gt; &gt; 139.134.59.227  0.0.0.0         255.255.255.255 UH    0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; ppp0
&gt; &gt; &gt; 192.168.2.0     192.168.2.1     255.255.255.0   UG    0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; eth1
&gt; &gt; &gt; 192.168.2.0     0.0.0.0         255.255.255.0   U     0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; eth1
&gt; &gt; &gt; 192.168.1.0     192.168.1.1     255.255.255.0   UG    0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; eth0
&gt; &gt; &gt; 192.168.1.0     0.0.0.0         255.255.255.0   U     0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; eth0
&gt; &gt; &gt; 127.0.0.0       0.0.0.0         255.0.0.0       U     0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; lo
&gt; &gt; &gt; 0.0.0.0         139.134.59.227  0.0.0.0         UG    0      
&gt; &gt; &gt; 0        0
&gt; &gt; &gt; ppp0
&gt; &gt; &gt; 
&gt; &gt; &gt; Note: 139.134.59.224 is the IP address of the ISP.  i tried to read man pages 
&gt; &gt; &gt; about linux routing and turned my firewall off but still they cant 
&gt; &gt; &gt; talk.  some documentations just made me confuse. HELP!!
&gt;  
&gt;  
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Matthew
--
<A HREF="mailto:Matthew@Moyle-Croft.com">Matthew@Moyle-Croft.com</A>    | <A HREF="mailto:mmc@mmc.com.au">mmc@mmc.com.au</A>        |    <A HREF="mailto:mmc@206gti.net">mmc@206gti.net</A>
<A HREF="http://www.Moyle-Croft.com">http://www.Moyle-Croft.com</A> | <A HREF="http://www.mmc.com.au">http://www.mmc.com.au</A> | <A HREF="http://206gti.net">http://206gti.net</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
