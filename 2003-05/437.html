<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Nat and Iptables" -->
<!-- FromName="'Jordan Noblet'" -->
<!-- FromEmail="linuxsa@madaz.com" -->
<!-- ToName="'Trevor Tregoweth'" -->
<!-- ToEmail="trevor@txc.net.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 13 May 2003 21:46:09 +0930" -->
<!-- Id="000a01c31949$7682b390$0a27a8c0@home.madaz.net" -->
<!-- Reference="01a901c31942$53d06c90$3501010a@toads" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Nat and Iptables</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jordan Noblet &lt;<I><A HREF="mailto:linuxsa@madaz.com">linuxsa@madaz.com</A></I>&gt;
  To  : Trevor Tregoweth &lt;<I><A HREF="mailto:trevor@txc.net.au">trevor@txc.net.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 13 May 2003 21:46:09 +0930
</PRE>
<H1>RE: Nat and Iptables</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
You might also want to consider some of the pre-rolled iptables scripts
out there.  Generally they just require a couple of quick modifications
at the start of the script to identify which interface does what.   

As Richard suggested, make sure your system is configured to allow
forwarding packets between interfaces:

  cat /proc/sys/net/ipv4/ip_forward

  If it comes back with 1, great - you're good to go.
  If it comes back with 0, then you'll need to make sure this is run at
startup:

  echo 1 &gt; /proc/sys/net/ipv4/ip_forward

  Adding it to /etc/rc.d/rc.local will be fine

Monmotha is a popular script and is arguably more secure than a standard
masquerade setup.  It also makes forwarding ports to internal machines
nice'n'easy.

Here is the stable branch:  <A HREF="http://freshmeat.net/branches/12430/">http://freshmeat.net/branches/12430/</A>
Here is the homepage:       <A HREF="http://monmotha.mplug.org/firewall/index.php">http://monmotha.mplug.org/firewall/index.php</A>

Good luck and have fun :-)

jordan.

-----Original Message-----
From: Trevor Tregoweth [mailto:<A HREF="mailto:trevor@txc.net.au">trevor@txc.net.au</A>] 
Sent: Tuesday, 13 May 2003 8:55 PM
To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Subject: Nat and Iptables


Hi all 

was wondering if someone out there would be able to give me a hand with
so iptables stuff......

i have a Redhat 8 machine, have 2 network cards, eth0 and eth1, and want
the machine to act as a gateway and doing so nat transalations, using
iptables 

outside ip address      gateway machine              internal ip address

203.203.203.203   -&gt;     192.168.20.1     -&gt;      192.168.20.10,
192.168.20.12 


Thanks for any help there

Cheers

Trevor

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
