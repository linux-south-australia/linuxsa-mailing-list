<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="MAC addresses and DHCP/BOOTP" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 01 Apr 1999 22:02:02 +0900" -->
<!-- Id="" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: MAC addresses and DHCP/BOOTP</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Thu, 01 Apr 1999 22:02:02 +0900
</PRE>
<H1>MAC addresses and DHCP/BOOTP</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

At 05:32 PM 4/1/99 +0930, Robert Wuttke &lt;<A HREF="mailto:robert.wuttke@disc.com.au">robert.wuttke@disc.com.au</A>&gt; wrote:
&gt;Could somebody then tell me how DHCP or BOOTP can work if the mac address of
&gt;a NIC can change.

DREKnet used to change the MAC address to an address based on the Phase IV
node number. 

Thus you could not start IP until after DREKnet, or ARP would fail.

However, once DREKnet is running, you could easily do a BOOTP or DHCP
request, you simply have to have the correct MAC address in your BOOTP tables.

&gt;                   The IP address is bound to the TCP/IP stack of the
&gt;computer, not the MAC address, 

Can't agree with this. If a system has multiple Ethernet interfaces, like
the one sitting next to me, it has multiple IP addresses.  The IP address
is bound to the interface, which in the case of Ethernet, really means that
there is a 1-1 relationship between IP and MAC, which is what ARP is about.

&gt;                               this is used at the Data Link Layer (on the
&gt;NIC itself). DHCP and BOOTP require that the MAC address be sent to them via
&gt;a broadcast packet, which returns a packet via to the broadcasting MAC
&gt;address for configuring the TCP/IP stack. Woe behold a network admin that
&gt;has a person who decides, "Hmm let's change the MAC address on this card"
&gt;and they use the MAC address of another machine currently existing on this
&gt;network, where does the DHCP/BOOTP response go to ? Does it configure both
&gt;machines to the same address, name, etc ??

No. You simply cannot have two cards with the same MAC address. It will not
work. You also cannot have two machines with the same IP address. Strange
things can happen if you do.

&gt;This makes no sense. The MAC is supposedly unique across the planet, exactly
&gt;for this purpose. 

Umm, it only needs to be locally unique, since MAC addresses do not,
generally, get beyond the router. 

Thus, it is perfectly workable to have two cards on opposite sides of a
router having the same MAC address.

However, anyone doing that is asking for grief, as, when they move cards
around, they are likely to end up with two cards on the same network with
the same MAC address.

&gt;                 Image two machines on the internet with the same MAC
&gt;address. Note that packets travelling across a network are based on the MAC
&gt;address. Remember an IP address identifies a machine not a NIC, to prove
&gt;this 127.0.0.1 is loopback, there is no physical NIC, the data link layer
&gt;reads the MAC address from the packet, this is unwrapped for the ip address
&gt;and then this is unwrapped for the protocol port that the packet is bound
&gt;for. The IP address is convenient for us to read, ie 32 bit, the mac address
&gt;is significantly bigger (can remember exactly, I think it's 48 bits).
&gt;
&gt;I have never heard of an application talking directly to the network using
&gt;the MAC address, come-on even IP (generally considered the lowest layer you
&gt;can program on) uses IP addresses (hmmm, hence the name I suppose). The only
&gt;thing that I know of that uses MAC addresses is DHCP and BOOTP.

Well, there are other protocols out there. NetBEUI, which uses NetBIOS
names, talks to MAC addresses. Although, of course, a case could be made
that NetBIOS names are kind of like IP addresses.  Hmmm, of course, they
are really a flat names space, unlike DNS, and there is no intermediate IP
stage, but that is because NetBEUI was not designed for internetworks.

&gt;Rob.


Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>, NIC-Handle:RJS96
NS Computer Software and Services P/L, 
Ph: +61-8-8281-0063, FAX: +61-8-8250-2080, 
Samba (Team member), Linux, Apache, Digital UNIX, AIX, C, ...

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
