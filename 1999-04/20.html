<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Quick mail distribution question (samba/fetchmail?)" -->
<!-- FromName="Toby Corkindale" -->
<!-- FromEmail="tjcorkin@steadycom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 01 Apr 1999 04:11:09 +0000" -->
<!-- Id="3702F1DD.4E281521@steadycom.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Quick mail distribution question (samba/fetchmail?)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@steadycom.com.au">tjcorkin@steadycom.com.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Thu, 01 Apr 1999 04:11:09 +0000
</PRE>
<H1>Quick mail distribution question (samba/fetchmail?)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Heyas
Just a quickie, I worked most of this out for myself at home, but
couldn't figure the last bit out.
I can get all mail sent to (for example) <A HREF="mailto:anyusername@toby.com">anyusername@toby.com</A> to arrive
in one mail box.
That is, <A HREF="mailto:user1@toby.com">user1@toby.com</A> and <A HREF="mailto:user2@toby.com">user2@toby.com</A>, etc. will all arrive in a
single POP mailbox at an ISP.
I set up /etc/sendmail.cf so that it handles this virtual hosting, so
that <A HREF="mailto:user1@toby.com">user1@toby.com</A> gets delivered to the local user1 mailbox, and
<A HREF="mailto:user2@toby.com">user2@toby.com</A> goes to local user2 mailbox, and anything that doesn't
match the virtual user mapping goes to the 'other' local mailbox.

This works fine, if I post the mail locally...ie. if a machine has my
linux box as it's mailserver, then sending mail goes to the right place.
This shows that sendmail is working right, and is doing the virtual
username mapping (ie. <A HREF="mailto:user1@toby.com">user1@toby.com</A> could go to <A HREF="mailto:admin@localhost">admin@localhost</A> if I
set it to. This works also.)

However, currently I am fetching mail from the ISP with fetchmail -u
toby -d 180 mail.isp.net 
(to check for mail under username toby ever 180 seconds)

I am running fetchmail as a root daemon, and I thought that it would get
the messages and post them thru the local sendmail, which would sort
things out and deliver things to the correct mailboxes according to the
virtual user mappings. 
However, it doesn't. Everything seems to end up under the root user's
mailbox. 

Take it for granted that sendmail is correctly configured, and that if
mail is posted to it, it will give it destined for <A HREF="mailto:someone@toby.com">someone@toby.com</A>, it
will go to the correct user.

I guess fetchmail isn't passing it thru sendmail though, despite my
attempts to play with it last night. Should I use a different mail
transfer program that is better designed for this, or am I missing
something with fetchmail?

Thanks,
Toby

-- 
...Veni, Vidi, VC++. (I came, I saw, I kludged)

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
