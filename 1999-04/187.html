<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Passing Options to loadable modules" -->
<!-- FromName="Alex Garner" -->
<!-- FromEmail="linuxsa@bourbon.lynx.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 12 Apr 1999 10:54:47 +0930" -->
<!-- Id="4.1.19990412104032.00c4f460@mail.lynx.net.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Passing Options to loadable modules</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alex Garner &lt;<I><A HREF="mailto:linuxsa@bourbon.lynx.net.au">linuxsa@bourbon.lynx.net.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Mon, 12 Apr 1999 10:54:47 +0930
</PRE>
<H1>Passing Options to loadable modules</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I have an IDE cdrom (/dev/hdc) and a soundblaster cdrom running on the
soundblaster card IDE port (/dev/sbpcd). I have both running happily in the
same machine, one for data cds, and one for audio cds.

Both cdroms work fine for both data discs and audio discs, even in X.

The soundblaster cdrom is accessed via a loadable module. When a system
call for the drive occurs (eg `mount /dev/sbpcd /mnt/cdrom`) the module
starts to look for the drive with it's built-in auto probing sequence. Once
it finds it (after about 2 minutes) everything is fine. If I want to I can
pre-load the module and specify parameters manually `insmod
/lib/modules/preferred/cdrom/sbpcd.o sbpcd=0x230,1` and this works fine
without having to autoprobe, thus saving lots of time.

A simple fix for this would be to compile the module as a driver into the
kernel, and specify the options at compile time OR pass the parameters
through lilo. However I would prefer to leave it as a module.

I want to know how to specify parameters so that when kerneld load the
module automatically, it looks for the soundblaster at 0x230 straight away.

I've tried a few variations on "options sbpcd io=0x230 type=1" etc etc in
/etc/conf.modules, but this just causes the module to dump out saying that
it couldn't locate the module.

Any ideas?

Cheers

Alex!

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
