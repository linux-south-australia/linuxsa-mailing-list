<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Duplicate MAC addresses" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 06 Apr 1999 22:52:39 +0900" -->
<!-- Id="" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Duplicate MAC addresses</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Tue, 06 Apr 1999 22:52:39 +0900
</PRE>
<H1>Duplicate MAC addresses</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

Robert Wutke and I were having a lively discussion about the possibility of
duplicate MAC addresses. As a result, I have a question that perhaps some
of the more experienced people out there may know the answer to.

Now, in general, I say do not allow duplicate MAC addresses anywhere near
your network.  

However, having said that, how unique do MAC addresses need to be?

I had asserted that they only need to be locally unique.

There are three situations I can think of:

1. Duplicate MAC addresses on the same segment. Danger Will Robinson.

2. Duplicate MAC addresses on different segments separated by a router:

    11:22:33:44:55:66                      11:22:33:44:55:66
           -----------------[Router]------------------ 

   Here, whether or not this will work depends on how ARP is implemented,
   it seems. A check on a Linux 2.0.3x system I have access to shows that
   ARP keeps the interface with the MAC address and IP in the ARP table.

   So, it suggests that this situation will work, but without looking at
   the code, I cannot be sure.

3. Duplicate MAC addresses with two or more routers between them:

  11:22:33:44:55:66                                        11:22:33:44:55:66
   ------------------[Router1]---------------------[Router2]----------------
	Segment1 		     Segment2				Segment3

   This should work, but I would not suggest trying it. Hopefully, I have not
   chosen MAC addresses that are used for something else.

   This should work for IP because Router 1 does not care about MAC addresses
   when it receives an IP datagram from 11:22:33:44:55:66 on Segment 1,
   even if it is destined for 11:22:33:44:55:66 on segment 3, because it
   only looks at the IP address.  When the IP datagram gets to Router2,
   Router2 does an ARP and discovers that the MAC address is 11:22:33:44:55:66
   and does all the right ethernet framing stuff and send the frame
   on its way.  It has no knowledge that the IP datagram came from 
   11:22:33:44:55:66 on segment1.

So, my question is, can anyone state that 2 above will not work (in some
cases)?


Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>, NIC-Handle:RJS96
NS Computer Software and Services P/L, 
Ph: +61-8-8281-0063, FAX: +61-8-8250-2080, 
Samba (Team member), Linux, Apache, Digital UNIX, AIX, C, ...

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
