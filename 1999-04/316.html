<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="The MindCruft Benchmark: The Samba Team responds" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 17 Apr 1999 07:37:19 +0900" -->
<!-- Id="" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: The MindCruft Benchmark: The Samba Team responds</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Sat, 17 Apr 1999 07:37:19 +0900
</PRE>
<H1>The MindCruft Benchmark: The Samba Team responds</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

for those who have not seen this information already, here is a summary of
the response from various members of the Samba team (mainly Andrew Tridgell
and Jeremy Allison):

1. MindCruft set "wide links = no". This has a huge performance impact
because Samba is forced to essentially stat every component of a path to
check if it is a link to another file system.

2. They did not tune Linux at all. Anyone doing a real benchmark will want
to extract the most performance out of the systems under test. They should
have changed the memory use characteristics of the machine by modifying
bdflush's behaviour to force it to use most of memory as a file system
cache, and they should have increased the max open files and max inodes.

However, anyone who has had to look at performance on a Digital UNIX
machine will understand that using most of memory as a file system cache is
a double edged sword and best only done on a machine that is dedicated for
file serving.

For the un-initiated, DU (Tru64 UNIX now, boy that name sux :-) employs a
unifed buffer cache, which means that file system caching and VM compete
for all of memory. The default behaviour of DU is to allow 100% of memory
to be used for file system caching. This can cause slugish response on a
machine that is used as a heavy applications server (like an Oracle
machine, or whatever) because the system has to throw files out of memory
to find space to load programs.

So now you know how MindCruft was able to make Linux perform so badly.


Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>, NIC-Handle:RJS96
NS Computer Software and Services P/L, 
Ph: +61-8-8281-0063, FAX: +61-8-8250-2080, 
Samba (Team member), Linux, Apache, Digital UNIX, AIX, C, ...

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
