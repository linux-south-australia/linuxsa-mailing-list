<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Major NAT headaches" -->
<!-- FromName="'Craig Mead'" -->
<!-- FromEmail="craig@australianwireless.org" -->
<!-- ToName="'John Edwards'" -->
<!-- ToEmail="isplist@adam.com.au" -->
<!-- Date="Tue, 04 Nov 2003 08:55:41 +1100" -->
<!-- Id="" -->
<!-- Reference="001201c39c3e$3ee4bff0$0a01a8c0@dolphin" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Major NAT headaches</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Craig Mead &lt;<I><A HREF="mailto:craig@australianwireless.org">craig@australianwireless.org</A></I>&gt;
  To  : John Edwards &lt;<I><A HREF="mailto:isplist@adam.com.au">isplist@adam.com.au</A></I>&gt;
  Date: Tue, 04 Nov 2003 08:55:41 +1100
</PRE>
<H1>Re: Major NAT headaches</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Have a look at this:
&gt;
&gt; <A HREF="http://lartc.org/howto/lartc.cookbook.mtu-mss.html">http://lartc.org/howto/lartc.cookbook.mtu-mss.html</A>
&gt;
&gt; Some of those reselling the connect.com service have issues with
&gt; tunnelling connections over ethernet, which restrict the MTU. One
&gt; possible solution at the ISP end is tampering with the MSS of customer
&gt; tcp data to try and ensure that pmtu problems can't occur.
&gt;
&gt; If this is happening and something with your setup is conflicting with
&gt; that method, it could explain the problem. If so, use the method
&gt; outlined in the above URL to clamp the MSS of your packets before
&gt; someone else does - at least you can then control packet mangling rather
&gt; than guess about what's going on upstream.
&gt;
&gt; If you've already tried lower MTU's then fiddling with MSS shouldn't
&gt; make any difference, but give it a go if you've run out of things to try!
&gt;
&gt; John Edwards

John,

Thanks for the link.
After reading up on MSS, it describes my problem exactly....however....doing
what it suggests doesn't fix it!

FreeBSD clamps by default
pppoeconf reduces mss by default (have played with a few values)
and I've also explicitly stated in my iptables script that I want it clamped
automatically and also set it manually at a few different levels and to no
avail.

Out of interest, I fired up a `doze box and installed WinRoute and all was
fine to windows machines.


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
