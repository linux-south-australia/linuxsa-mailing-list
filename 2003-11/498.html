<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Samba query" -->
<!-- FromName="'Matthew Geddes'" -->
<!-- FromEmail="mgeddes@tellurian.com.au" -->
<!-- ToName="'Tim Aslat'" -->
<!-- ToEmail="tim@spyderweb.com.au" -->
<!-- Date="26 Nov 2003 12:53:23 +1030" -->
<!-- Id="1069813403.2293.161.camel@hilarious" -->
<!-- Reference="20031126123944.4d7b2e1b.tim@spyderweb.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Samba query</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@tellurian.com.au">mgeddes@tellurian.com.au</A></I>&gt;
  To  : Tim Aslat &lt;<I><A HREF="mailto:tim@spyderweb.com.au">tim@spyderweb.com.au</A></I>&gt;
  Date: 26 Nov 2003 12:53:23 +1030
</PRE>
<H1>Re: Samba query</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 2003-11-26 at 12:39, Tim Aslat wrote:
&gt; Hi All,
&gt; 
&gt; I've just been asked by a client to set up a shared file server
&gt; (naturally Samba) but they asked for filtering filenames, eg: no
&gt; mp3/mpg/ogg files to be saved on there.  

man 5 smb.conf:

veto files(S)
   This is a list of files and directories that are neither visible
   nor  accessible.  Each  entry in the list must be separated by a
   ’/’, which allows spaces to be included in the  entry.  ’*’  and
   ’?’  can  be used to specify multiple files or directories as in
   DOS wildcards.

You may find that users can still save the veto'd files to the share
(can't remember), in which case, you'd also have a cron job to remove
them.

If you want a much cleaner solution, you're using a recent version of
Samba and you can write some fairly basic C code, you may be interested
in the Samba VFS layer. You'd be able to write yourself a Samba VFS
module which sits between the network and the file system and you could
control which files were accessed from there.

Hope it helps,
Matt


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
