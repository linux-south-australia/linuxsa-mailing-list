<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="How to do  what ?" -->
<!-- FromName="Jacob kriek" -->
<!-- FromEmail="jacob_kriek@msn.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 21 May 1999 13:48:47 +0930" -->
<!-- Id="000101bea371$6b8283a0$258d868b@com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: How to do  what ?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jacob kriek &lt;<I><A HREF="mailto:jacob_kriek@msn.com.au">jacob_kriek@msn.com.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Fri, 21 May 1999 13:48:47 +0930
</PRE>
<H1>How to do  what ?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
This is a multi-part message in MIME format.

------=_NextPart_000_0005_01BEA390.A6942F60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable






Disk Access ?

By default, Linux allows only the root user to mount or unmount disk =
devices. There are times, however, when these security measures are not =
helpful. To allow a filesystem to be mounted by everyone, the system =
administrator (hopefully you) needs to append the "user" flag to the =
options field for a specific device in the /etc/fstab file. The only way =
to mount a CD-ROM drive is to become root and then to issue the =
following command:=20

mount -t iso9660 /dev/cdrom /cdrom

Similarly, the only way to mount a floppy is to type this:=20

mount -t fs /dev/fd0 /floppy

Once mounted, such a device would not be publicly writable. Let's add =
some entries to the end of the /etc/fstab file to allow for more free =
disk device access:=20

/dev/cdrom /cdrom iso9660 user,noauto 0 0

/dev/fd0 /floppy auto umask=3D0000,user,noauto 0 0

The first line above allows everyone to mount and/or umount the device =
(user) while at the same time, preventing the system from mounting the =
device automatically at boot-up (noauto). The second line does the same =
for the floppy device, but also autodetecting the filesystem type (auto) =
and allowing public write access (umask=3D0000). Once these changes have =
been made, the floppy and cd-rom drives can be mounted and unmounted by =
all using the following commands:=20

mount /cdrom

umount /cdrom

mount /floppy

umount /floppy

The Windows filesystem can also be amended to allow for public write =
access:=20

/dev/hda1 /win98 vfat umask=3D0000 0 0

It can make copying files to and from Windows much more convenient.=20


Access With KDE ?

Once you've made the necessary changes to your /etc/fstab file,=20

Get the icons on the KDE desktop working -- by clicking on a device icon =
representing the floppy drive, for example, KDE will mount it, open a =
window, and display its contents.=20

Here are the steps to follow:=20

Right-click on your KDE desktop to bring up the root menu. Select "New" =
and then a dialog will appear, asking you to supply a name for the link =
file. For a floppy, the name "Floppy.kdelink". For a CD-ROM drive, =
"CD-ROM.kdelink" Keep the ".kdelnk" file extension=20

The new device dialog allows you to create a new device icon.A new icon =
will appear on your desktop with the name you selected. The icon appears =
as a question mark to indicate that the device hasn't been configured =
yet. Right-click on the new icon and select "Properties" from the pop-up =
menu which appears. A kfm properties window will appear and allow you to =
configure the device.=20

Select the "Device" tab in the kfm properties dialog. You'll see one =
changable box labeled "Device" and two icons labeled "Mounted Icon" and =
"Unmounted Icon" at the bottom of the box. In the Device box, enter the =
name of the device as it appears in the /etc/fstab file. In our example =
above, we could enter "/dev/fd0" for the floppy drive. Click on the =
"Mounted Icon" button. A "Select Icon" dialog box will appear, allowing =
you to choose an icon for the device when not mounted. For a floppy =
drive, select the icon which looks like a floppy disk with a green light =
next to it. For a CD-ROM drive, choose the icon that looks like a CD =
player with a green light next to it. The Select Icon dialog allows you =
to select an icon for the floppy device in both mounted and unounted =
states.Click on the "Unmounted Icon" button. The "Select Icon" dialog =
box appears a second time. Click "OK" in the kfm dialog box to accept =
the changes. The icon on your desktop should now change from a question =
mark to either a floppy disk or a CD player, depending on the icons you =
chose.=20

To test out your new device icon, insert a floppy disk or CD-ROM disk =
and click on the icon. KDE will now attempt to mount the disk or CD-ROM =
and display the contents in a window. Note that a little green light =
appears next to the device icon to indicate that it is now mounted and =
can be interacted with just as you would any other mounted device. To =
unmount the device, right-click on the icon and select "Unmount" from =
the popup which appears. Once you have successfully unmounted the =
device, you can eject it.=20

Always remember to look at manual pages for more information:=20

man mount

man fstab

man umount

Public access to disk devices can be a security problem on systems =
accessible by untrusted users.=20

Now I must try if it all works.=20



------=_NextPart_000_0005_01BEA390.A6942F60
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type&gt;
&lt;META content=3D"MSHTML 5.00.2614.3401" name=3DGENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=3D#ffffff&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;
&lt;P align=3Djustify&gt;&lt;/P&gt;
&lt;P align=3Djustify&gt;&nbsp;&lt;/P&gt;
&lt;P align=3Djustify&gt;&nbsp;&lt;/P&gt;&lt;B&gt;&lt;I&gt;&lt;U&gt;
&lt;P align=3Djustify&gt;Disk Access ?&lt;/P&gt;&lt;/B&gt;&lt;/I&gt;&lt;/U&gt;
&lt;P align=3Djustify&gt;By default, Linux allows only the root user to mount =
or unmount=20
disk devices. There are times, however, when these security measures are =
not=20
helpful. To allow a filesystem to be mounted by everyone, the system=20
administrator (hopefully you) needs to append the "user" flag to the =
options=20
field for a specific device in the /etc/fstab file. The only way to =
mount a=20
CD-ROM drive is to become root and then to issue the following command: =
&lt;/P&gt;
&lt;P align=3Djustify&gt;mount -t iso9660 /dev/cdrom /cdrom&lt;/P&gt;
&lt;P align=3Djustify&gt;Similarly, the only way to mount a floppy is to type =
this: &lt;/P&gt;
&lt;P align=3Djustify&gt;mount -t fs /dev/fd0 /floppy&lt;/P&gt;
&lt;P align=3Djustify&gt;Once mounted, such a device would not be publicly =
writable.=20
Let's add some entries to the end of the /etc/fstab file to allow for =
more free=20
disk device access: &lt;/P&gt;
&lt;P align=3Djustify&gt;/dev/cdrom /cdrom iso9660 user,noauto 0 0&lt;/P&gt;
&lt;P align=3Djustify&gt;/dev/fd0 /floppy auto umask=3D0000,user,noauto 0 =
0&lt;/P&gt;
&lt;P align=3Djustify&gt;The first line above allows everyone to mount and/or =
umount the=20
device (user) while at the same time, preventing the system from =
mounting the=20
device automatically at boot-up (noauto). The second line does the same =
for the=20
floppy device, but also autodetecting the filesystem type (auto) and =
allowing=20
public write access (umask=3D0000). Once these changes have been made, =
the floppy=20
and cd-rom drives can be mounted and unmounted by all using the =
following=20
commands: &lt;/P&gt;
&lt;P align=3Djustify&gt;mount /cdrom&lt;/P&gt;
&lt;P align=3Djustify&gt;umount /cdrom&lt;/P&gt;
&lt;P align=3Djustify&gt;mount /floppy&lt;/P&gt;
&lt;P align=3Djustify&gt;umount /floppy&lt;/P&gt;
&lt;P align=3Djustify&gt;The Windows filesystem can also be amended to allow =
for public=20
write access: &lt;/P&gt;
&lt;P align=3Djustify&gt;/dev/hda1 /win98 vfat umask=3D0000 0 0&lt;/P&gt;
&lt;P align=3Djustify&gt;It can make copying files to and from Windows much =
more=20
convenient. &lt;/P&gt;
&lt;P align=3Djustify&gt;&lt;/P&gt;&lt;B&gt;&lt;I&gt;&lt;U&gt;
&lt;P align=3Djustify&gt;Access With KDE ?&lt;/P&gt;&lt;/B&gt;&lt;/I&gt;&lt;/U&gt;
&lt;P align=3Djustify&gt;Once you've made the necessary changes to your =
/etc/fstab file,=20
&lt;/P&gt;
&lt;P align=3Djustify&gt;Get the icons on the KDE desktop working -- by =
clicking on a=20
device icon representing the floppy drive, for example, KDE will mount =
it, open=20
a window, and display its contents. &lt;/P&gt;
&lt;P align=3Djustify&gt;Here are the steps to follow: &lt;/P&gt;
&lt;P align=3Djustify&gt;Right-click on your KDE desktop to bring up the root =
menu.=20
Select "New" and then a dialog will appear, asking you to supply a name =
for the=20
link file. For a floppy, the name "Floppy.kdelink". For a CD-ROM drive,=20
"CD-ROM.kdelink" Keep the ".kdelnk" file extension &lt;/P&gt;
&lt;P align=3Djustify&gt;The new device dialog allows you to create a new =
device icon.A=20
new icon will appear on your desktop with the name you selected. The =
icon=20
appears as a question mark to indicate that the device hasn't been =
configured=20
yet. Right-click on the new icon and select "Properties" from the pop-up =
menu=20
which appears. A kfm properties window will appear and allow you to =
configure=20
the device. &lt;/P&gt;
&lt;P align=3Djustify&gt;Select the "Device" tab in the kfm properties dialog. =
You'll=20
see one changable box labeled "Device" and two icons labeled "Mounted =
Icon" and=20
"Unmounted Icon" at the bottom of the box. In the Device box, enter the =
name of=20
the device as it appears in the /etc/fstab file. In our example above, =
we could=20
enter "/dev/fd0" for the floppy drive. Click on the "Mounted Icon" =
button. A=20
"Select Icon" dialog box will appear, allowing you to choose an icon for =
the=20
device when not mounted. For a floppy drive, select the icon which looks =
like a=20
floppy disk with a green light next to it. For a CD-ROM drive, choose =
the icon=20
that looks like a CD player with a green light next to it. The Select =
Icon=20
dialog allows you to select an icon for the floppy device in both =
mounted and=20
unounted states.Click on the "Unmounted Icon" button. The "Select Icon" =
dialog=20
box appears a second time. Click "OK" in the kfm dialog box to accept =
the=20
changes. The icon on your desktop should now change from a question mark =
to=20
either a floppy disk or a CD player, depending on the icons you chose. =
&lt;/P&gt;
&lt;P align=3Djustify&gt;To test out your new device icon, insert a floppy =
disk or=20
CD-ROM disk and click on the icon. KDE will now attempt to mount the =
disk or=20
CD-ROM and display the contents in a window. Note that a little green =
light=20
appears next to the device icon to indicate that it is now mounted and =
can be=20
interacted with just as you would any other mounted device. To unmount =
the=20
device, right-click on the icon and select "Unmount" from the popup =
which=20
appears. Once you have successfully unmounted the device, you can eject =
it. &lt;/P&gt;
&lt;P align=3Djustify&gt;Always remember to look at manual pages for more =
information:=20
&lt;/P&gt;
&lt;P align=3Djustify&gt;man mount&lt;/P&gt;
&lt;P align=3Djustify&gt;man fstab&lt;/P&gt;
&lt;P align=3Djustify&gt;man umount&lt;/P&gt;
&lt;P align=3Djustify&gt;Public access to disk devices can be a security =
problem on=20
systems accessible by untrusted users. &lt;/P&gt;
&lt;P align=3Djustify&gt;Now I must try if it all works. &lt;/P&gt;
&lt;P align=3Djustify&gt;&lt;/P&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------=_NextPart_000_0005_01BEA390.A6942F60--

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
