<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Strang ipchains problems....." -->
<!-- FromName="MWP" -->
<!-- FromEmail="hirm@chariot.net.au" -->
<!-- ToName="Linux SA Newsgroup" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 23 May 1999 01:15:36 +0930" -->
<!-- Id="003b01bea46a$23364380$0201a8c0@comp" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Strang ipchains problems.....</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: MWP &lt;<I><A HREF="mailto:hirm@chariot.net.au">hirm@chariot.net.au</A></I>&gt;
  To  : Linux SA Newsgroup &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sun, 23 May 1999 01:15:36 +0930
</PRE>
<H1>Strang ipchains problems.....</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi all....

Using ipchains, I'm getting a very intermittent problem (almost random)....

I have 2 computer linked by LAN on 192.168.1.x.
192.168.1.1 is my gateway to the Internet (via modem dialup using chariot
ISP)
192.168.1.2 is my linux/win98 machine that I want access the net with.

At the moment security isn't a concern (I just want to get it working
first).
Now.... when dialled to the web, both computers can ping external sites okay
(indicating routing and gateway settings are correct).
The gateway machine can access the web in every way it should (eg, web
pages).

Using the ipchains options below on the gateway machine, from what I
understand, should allow my Win98 machine to access the web perfectly. But,
of course, it doesn't. As I said I can ping fine, but the HTTP data doesn't
get passed on from the web back to the Win98 machine. These rules basically
came straight from the ipchains HOWTO (with a few discarded).

ipchains -N ppp-out
ipchains -A output -I ppp0 -j ppp-out
ipchains -A ppp-out -p TCP -d 0.0.0.0 telnet -t 0x01 0x10
ipchains -A ppp-out -p TCP -d 0.0.0.0/0 ftp-data -t 0x01 0x02
ipchains -A ppp-out -p TCP -d 0.0.0.0/0 nntp -t 0x01 0x02
ipchains -A ppp-out -p TCP -d 0.0.0.0/0 pop-3 -t 0x01 0x02
ipchains -A input -I lo -j ACCEPT
ipchains -A forward -j MASQ -s 192.168.1.0/24 -d 0.0.0.0/0

Any ideas as to why I would have probs with these rules?

Thanks,
Mark Williams


-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
