<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: thi has me stumped" -->
<!-- FromName="David Newall" -->
<!-- FromEmail="davidn@rebel.net.au" -->
<!-- ToName="Mark Newton" -->
<!-- ToEmail="newton@atdot.dotat.org" -->
<!-- Date="Mon, 10 May 1999 20:56:32 +0930 (CST)" -->
<!-- Id="199905101126.UAA20665@rebel.net.au" -->
<!-- Reference="199905101051.UAA18212@atdot.dotat.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: thi has me stumped</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Newall &lt;<I><A HREF="mailto:davidn@rebel.net.au">davidn@rebel.net.au</A></I>&gt;
  To  : Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  Date: Mon, 10 May 1999 20:56:32 +0930 (CST)
</PRE>
<H1>Re: thi has me stumped</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt;  As far as the major UNIX variants are concerned, they all consider
&gt; that they implement a superset of POSIX.  AFAIK, they all support
&gt; envp as a third argument to main() too.

Calm down!  For the third time (and I'll say it backwards): envp is
probably allowed, even though the standard says it's better to stop
using it.

&gt; I'm not entirely sure that it's "more efficient" either -- Stack popping
&gt; still occurs, it's just a question of where.

Sure.  In C the code occurs immediately after every function call.  In
Pascal the code occurs immediately at the end of the function.  If the
function is called from 100 different places in your program, that's
100 pops for C and 1 pop for Pascal.

&gt; If you want to cast main() to void your program will still work, for
&gt; all the reasons outlined in my last email message.

There are machines which do very strict typechecking.  (Yes, *type*
checking.)  Your logic is fairy-floss, and assumes exactly a machine
that works the way you expect.  If you declare main as void then crt0
will end up by grabbing uninitialised data.  On those strict machines
the program will stop running at that point.  Even on less strict
machines, for example those which settle for just range checking,
void main() will crash.

I don't understand this insistence that the standard doesn't apply.
It does apply and if you don't like it then read Greg's comment more
carefully.

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
