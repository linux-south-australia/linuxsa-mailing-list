<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Couple of strange problems." -->
<!-- FromName="Toby Corkindale" -->
<!-- FromEmail="tjcorkin@steadycom.com.au" -->
<!-- ToName="Andrew Pullin" -->
<!-- ToEmail="drewp@bigpond.com" -->
<!-- Date="Wed, 05 May 1999 08:38:56 +0000" -->
<!-- Id="373003A0.E05AA594@steadycom.com.au" -->
<!-- Reference="000201be96ce$60b8b660$fe89868b@Drewp" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Couple of strange problems.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@steadycom.com.au">tjcorkin@steadycom.com.au</A></I>&gt;
  To  : Andrew Pullin &lt;<I><A HREF="mailto:drewp@bigpond.com">drewp@bigpond.com</A></I>&gt;
  Date: Wed, 05 May 1999 08:38:56 +0000
</PRE>
<H1>Re: Couple of strange problems.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Okay, for the first problem, can you help us by doing this:
Re-configure your printer again, and then record all the values you used
here. Also, dump the contents of your /etc/printcap file here as well.
try doing an `echo this is a test &gt;&gt; /dev/lp0` and a `lpr README.TXT` as
well, and see what happens...(replacing lp0 with correct device);
Report on the results here.
Is your HP a postscript compatible printer, or not?

Next, for the second problem, can you remove the XF86Config file, and
recreate it using the XF86Setup or something, and try loading X with
startx. if it still fails, can you `ls -ls /usr/X11R6/bin/X*` and paste
the results in here too. The contents of the RELEVANT sections of the
XF86Config file would be useful too.

Toby


Andrew Pullin wrote:
&gt; 
&gt; Hi Guys,
&gt;     I posted the below a couple of weeks ago, but it seems
&gt; to have been buried in other stuff. The only response I got
&gt; was the one also below, but I still don't have a
&gt; satisfactory answer to my problems. Thanks to Toby for his
&gt; effort, but if "M$ redefining ascii" or "booting a Sun 3/60"
&gt; gets multiple responses, do you think that a real Linux
&gt; question could get more than 1. I really am still stuck with
&gt; these problems, particularly the printer problem.
&gt;     Thanks,
&gt;         Andrew.
&gt; 
&gt; &gt;I don't know about your first problem, but the second one
&gt; sounds
&gt; &gt;suspiciously like X is no longer SUID root. I'm not sure
&gt; where the suid
&gt; &gt;root is supposed to be though, but maybe someone else will.
&gt; &gt;I don't see how this could really have occured though. But
&gt; it's just a
&gt; &gt;thought that X DOES need to be suid root to access the
&gt; video card
&gt; &gt;directly, and so if a user can't run it, it looks like it
&gt; doesnt have
&gt; &gt;it's root priveleges.
&gt; &gt;
&gt; &gt;Toby
&gt; &gt;
&gt; &gt;Andrew Pullin wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; Hi Guys,
&gt; &gt;&gt;     Couple of problems, unrelated on two different
&gt; machines.
&gt; &gt;&gt;
&gt; &gt;&gt; Problem 1.
&gt; &gt;&gt;
&gt; &gt;&gt;     Machine running Redhat 5.2, has been running
&gt; perfectly
&gt; &gt;&gt; no problems. Just upgraded video card to a Diamond
&gt; Viper550
&gt; &gt;&gt; AGP card. Was running XFree86 3.1 or whatever was default
&gt; &gt;&gt; with the APC disk, and this didn't like the new Video
&gt; card
&gt; &gt;&gt; so I downloaded  the latest X 3.3 and it now runs fine,
&gt; no
&gt; &gt;&gt; problems. Now here is the strange bit, the Printer, an HP
&gt; &gt;&gt; DeskJet 670C, was running fine, but now it will only
&gt; print
&gt; &gt;&gt; Postscript. It will NOT print standard output or a text
&gt; &gt;&gt; file. Went to the printer tool in X, printed PS, ascii to
&gt; &gt;&gt; the port, ie dev/lpt0, this worked fine. Tried to print
&gt; &gt;&gt; ascii test page and the error light on the printer
&gt; started
&gt; &gt;&gt; flashing and no output. Cannot pipe cat text to lp, ie.
&gt; &gt;&gt;         cat .bashrc | lpr -lp
&gt; &gt;&gt; weird. Can print PS through Ghostview. I just don't
&gt; &gt;&gt; understand how this can happen when I have not changed
&gt; &gt;&gt; anything remotely to do with the printer. The same
&gt; symptoms
&gt; &gt;&gt; occur if I am running X or not.
&gt; &gt;&gt;
&gt; &gt;&gt; Problem 2.
&gt; &gt;&gt;
&gt; &gt;&gt;     Machine is completely isolated from machine 1.
&gt; Machine 2
&gt; &gt;&gt; is an Intel Celeron 333, 128Mb RAM, Diamond Viper 330 AGP
&gt; &gt;&gt; Video card. Installed a virgin copy of Redhat 5.2 from
&gt; the
&gt; &gt;&gt; APC disk. Machine appeared to set up fine, appeared to be
&gt; &gt;&gt; working fine. X runs perfectly under root. Strange
&gt; &gt;&gt; occurrence number 2 - created 1 user in the normal
&gt; fashion,
&gt; &gt;&gt; gave him a passwd etc. Logged in as that user, no
&gt; problems.
&gt; &gt;&gt; That user CANNOT run X. runs startx command and gets the
&gt; &gt;&gt; initial grey screen with a cursor, and then it appears to
&gt; &gt;&gt; hang. Fire off a trusty Ctrl-Alt-F1 and get the following
&gt; &gt;&gt; message :
&gt; &gt;&gt;
&gt; &gt;&gt; The XKEYBOARD keymap compiler (xkbcomp) reports :
&gt; &gt;&gt; &gt; Error    bad length in Geometry
&gt; &gt;&gt; &gt;            Output File "var/temp/Server-0.xkm" removed
&gt; &gt;&gt; Errors from xkbcomp are not fatal to the X server
&gt; &gt;&gt; Couldn't load XKB keymap, falling back to pre-XKB keymap
&gt; &gt;&gt; xinit : unexpected error 2
&gt; &gt;&gt;
&gt; &gt;&gt; Waiting for X server to shutdown
&gt; &gt;&gt;
&gt; &gt;&gt; O.K. now I expect the last 2 lines were me when I Ctrl-C
&gt; to
&gt; &gt;&gt; kill the process. But how can it work fine for root but
&gt; not
&gt; &gt;&gt; a user in this case. The setup was a virgin install onto
&gt; a
&gt; &gt;&gt; virgin hard disk and was done in exactly the same way as
&gt; I
&gt; &gt;&gt; setup other machines that have no problems. I am a bit
&gt; out
&gt; &gt;&gt; of my depth here so basically help guys.
&gt; &gt;&gt;
&gt; &gt;&gt;     Cheers!
&gt; &gt;&gt;         Andrew
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; Check out the LinuxSA web pages at
&gt; <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; &gt;&gt; To unsubscribe from the LinuxSA list:
&gt; &gt;&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe"
&gt; as the subject
&gt; &gt;
&gt; &gt;--
&gt; &gt;...Failure is not an option - It comes bundled with Windows
&gt; &gt;
&gt; &gt;--
&gt; &gt;Check out the LinuxSA web pages at
&gt; <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; &gt;To unsubscribe from the LinuxSA list:
&gt; &gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as
&gt; the subject
&gt; &gt;
&gt; 
&gt; --
&gt; Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
..I started out with nothing...and I still have most of it left

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
