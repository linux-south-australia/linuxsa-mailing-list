<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: 7.2 Dial Up PPPD Server Stuffed?" -->
<!-- FromName="'nik [tm]'" -->
<!-- FromEmail="tmcruisin@sond.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="mwestern@affairs.net.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 3 Apr 2002 15:48:39 +0930" -->
<!-- Id="003d01c1dad7$65b5c680$0301a8c0@nick" -->
<!-- Reference="FD14944A4C95D211AF350004AC4C55A4058605A2@MX" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: 7.2 Dial Up PPPD Server Stuffed?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: nik [tm] &lt;<I><A HREF="mailto:tmcruisin@sond.com.au">tmcruisin@sond.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 3 Apr 2002 15:48:39 +0930
</PRE>
<H1>Re: 7.2 Dial Up PPPD Server Stuffed?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
<A HREF="http://groups.google.com/groups?hl">http://groups.google.com/groups?hl</A>=en&threadm=linux.ppp.F832b0Jpc05IXgThLoF0
0003d2c%40hotmail.com&rnum=2&prev=/groups%3Fq%3DIPCP:%2Btimeout%2Bsending%2B
Config-Requests%2Bpppd%26hl%3Den%26scoring%3Dd%26selm%3Dlinux.ppp.F832b0Jpc0
5IXgThLoF00003d2c%2540hotmail.com%26rnum%3D2

apparently redhat broke ppd in 7.2,
&lt;quote&gt;
Redhat broke pppd in 7.2. Get the fixed version from
ftp.redhat.com/pub/redhat/linux/rawhide/i386/RedHat/RPMS/ppp-2.4.1-3.i386.rp
m
&lt;/quote&gt;

nik [tm]

·´¯`·.¸¸..&gt;&lt;((((º&gt;.·´¯`·.¸¸.·´¯`·.¸
 &gt;&lt;((((º&gt;`·.¸¸.·´¯`·.¸&gt;&lt;((((º&gt;`·.¸

----- Original Message -----
From: "Matthew Western" &lt;<A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A>&gt;
To: &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
Sent: Wednesday, April 03, 2002 3:49 PM
Subject: 7.2 Dial Up PPPD Server Stuffed?


&gt; Hi People,
&gt; I'm trying to get ppp version 2.4.1 that is bundled with redhat 7.2 discs
&gt; going to act as a dial up server for windows clients using PAP.  I've
worked
&gt; thru a couple of howtos and the the best one seems to be
&gt; <A HREF="http://www.gue-tech.org/unix/ppp/sol_autoppp.html">http://www.gue-tech.org/unix/ppp/sol_autoppp.html</A> .
&gt;
&gt; I've almost go it going i think as it's at the stage where it verifies
&gt; username password, but it stays there for about 30 secs and drops.  the
&gt; error log entry that is relivant is (full error log at bottom of message):
&gt;
&gt; Apr  3 12:17:20 dial pppd[1050]: IPCP: timeout sending Config-Requests
&gt; Apr  3 12:17:21 dial pppd[1050]: Hangup (SIGHUP)
&gt;
&gt; I've (actually my linux friend) found a message on the redhat list for a
way
&gt; around it but fails at step 5 with the message 'No such file or directory'
&gt; (way to fix is also at the bottom of message).  so rather than bash my
head
&gt; against my keyboard any longer i thought i'd ask the gurus...
&gt;
&gt; Do i need to downgrade to 2.4.0 to get things working?
&gt; Regards
&gt; Matthew
&gt;
&gt; ------------------Fix 2.4.1-------------------
&gt; (Grab the src rpm from here)
&gt; <A HREF="ftp://rpmfind.net/linux/redhat/7.2/en/os/i386/SRPMS/ppp-2.4.1-2.src.rpm">ftp://rpmfind.net/linux/redhat/7.2/en/os/i386/SRPMS/ppp-2.4.1-2.src.rpm</A>
&gt;
&gt; (i didn't have this problem but its running on RH 6.2 still, this seems
&gt; to be RH 7.2 only.......)
&gt;
&gt; &gt;
&gt; &gt; &gt;As far I could find, there is no new ppp version to install, so,
&gt; &gt; &gt;must I downgrade to PPP 2.4.0?
&gt; &gt;
&gt; &gt; =======================
&gt; &gt; 1) grab the .src.rpm file that corresponds to your ppp.  (As of the
&gt; &gt;    time I did it, that was ppp-2.4.1-2.src.rpm)
&gt; &gt; 2) type "rpm -Uvh ppp*.src.rpm" to put the pieces where Red Hat likes
&gt; &gt;    to compile them.
&gt; &gt; 3) change to the /usr/src/redhat/SPECS directory
&gt; &gt; 4) edit /usr/src/redhat/SPEC/ppp.spec and remove the cbcp patches.
&gt; &gt;    (There will be 4 lines that you need to delete.  All were pretty
&gt; &gt;    obvious.)
&gt; &gt; 5) type "rpm -ba ppp.spec"
&gt; &gt; 6) with any luck, it will create
&gt; &gt;           /usr/src/redhat/SRPMS/ppp-2.4.1-2.src.rpm
&gt; &gt;    and    /usr/src/redhat/RPMS/i386/ppp-2.4.1-2.i386.rpm
&gt; &gt; 7) change to the /usr/src/redhat/RPMS/i386 directory
&gt; &gt; 8) type either "rpm -Uvh --force ppp*.rpm"
&gt; &gt;    or "rpm -e ppp" then "rpm -Uvh ppp*.rpm"
&gt; &gt;
&gt; &gt; DISCLAIMER: That worked for me.  Your milage may vary.  Contents may
&gt; &gt; settle upon shipping. Void where prohibited by law.
&gt;
&gt; Messages log ------------------
&gt; [<A HREF="mailto:root@dial">root@dial</A> log]# more error.log
&gt; Apr  3 12:16:47 dial mgetty[1050]: data dev=ttyS1, pid=1050,
caller='none',
&gt; conn
&gt; ='19200', name='', cmd='/usr/sbin/pppd', user='/AutoPPP/'
&gt; Apr  3 12:16:47 dial pppd[1050]: pppd 2.4.1 started by LOGIN, uid 0
&gt; Apr  3 12:16:47 dial pppd[1050]: Using interface ppp0
&gt; Apr  3 12:16:47 dial pppd[1050]: Connect: ppp0 &lt;--&gt; /dev/ttyS1
&gt; Apr  3 12:16:47 dial pppd[1050]: Warning - secret file
/etc/ppp/pap-secrets
&gt; has
&gt; world and/or group access
&gt; Apr  3 12:16:50 dial pppd[1050]: Warning - secret file
/etc/ppp/pap-secrets
&gt; has
&gt; world and/or group access
&gt; Apr  3 12:16:50 dial pppd[1050]: user mwestern logged in
&gt; Apr  3 12:17:20 dial pppd[1050]: IPCP: timeout sending Config-Requests
&gt; Apr  3 12:17:21 dial pppd[1050]: Hangup (SIGHUP)
&gt; Apr  3 12:17:21 dial pppd[1050]: Modem hangup
&gt; Apr  3 12:17:21 dial pppd[1050]: Connection terminated.
&gt; Apr  3 12:17:21 dial pppd[1050]: Connect time 0.6 minutes.
&gt; Apr  3 12:17:21 dial pppd[1050]: Sent 310 bytes, received 0 bytes.
&gt; Apr  3 12:17:21 dial pppd[1050]: Exit.
&gt; --------------------------------
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;
&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
