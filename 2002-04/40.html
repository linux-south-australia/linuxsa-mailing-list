<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: iptables books / GOOD howtos (LONG)" -->
<!-- FromName="'James Leone Home'" -->
<!-- FromEmail="jleone@pacbell.net" -->
<!-- ToName="'David de Groot','Matthew Western'" -->
<!-- ToEmail="david@viking.org.au,mwestern@affairs.net.au" -->
<!-- Date="Tue, 02 Apr 2002 08:21:30 -0800" -->
<!-- Id="" -->
<!-- Reference="FD14944A4C95D211AF350004AC4C55A404AD58F5@MX" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: iptables books / GOOD howtos (LONG)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone Home &lt;<I><A HREF="mailto:jleone@pacbell.net">jleone@pacbell.net</A></I>&gt;
  To  : David de Groot &lt;<I><A HREF="mailto:david@viking.org.au">david@viking.org.au</A></I>&gt;<BR>        Matthew Western &lt;<I><A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A></I>&gt;
  Date: Tue, 02 Apr 2002 08:21:30 -0800
</PRE>
<H1>Re: iptables books / GOOD howtos (LONG)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Thanks for the conf file David.

James "a humble observer of a great board in Australia" Leone



----- Original Message -----
From: "David de Groot" &lt;<A HREF="mailto:david@viking.org.au">david@viking.org.au</A>&gt;
To: "Matthew Western" &lt;<A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A>&gt;
Cc: &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
Sent: Monday, April 01, 2002 10:30 PM
Subject: RE: iptables books / GOOD howtos (LONG)


&gt;
&gt; Tuesday, April 02, 2002, 3:17:41 PM, Matthew wrote:
&gt;
&gt; &gt; if you could, that'd be much appreciated...  is SuSE another free
variant of
&gt; &gt; linux or does it cost a little?
&gt;
&gt; Below is a SuSE 7.3 SuSEFirewall2 config <A HREF="file:">file:</A>
&gt;
&gt; <A HREF="mailto:david@bambi">david@bambi</A>:~&gt; cat /etc/rc.config.d/firewall2.rc.config
&gt;
&gt; # Copyright (c) 2001 SuSE GmbH Nuernberg, Germany.  All rights reserved.
&gt; #
&gt; # Author: Marc Heuse &lt;<A HREF="mailto:marc@suse.de">marc@suse.de</A>&gt;, 2001
&gt; # Please contact me directly if you find bugs.
&gt; #
&gt; # If you have problems getting this tool configures, please read this file
&gt; # carefuly and take also a look into
&gt; #  -&gt; /usr/share/doc/packages/SuSEfirewall2/EXAMPLES !
&gt; #  -&gt; /usr/share/doc/packages/SuSEfirewall2/FAQ !
&gt; #  -&gt; /usr/share/doc/packages/SuSEfirewall2/firewall2.rc.config.EXAMPLE !
&gt; #
&gt; # /etc/rc.config.d/firewall2.rc.config
&gt; #
&gt; # for use with /sbin/SuSEfirewall2 version 1.7 which is for 2.4 kernels!
&gt; #
&gt; # ------------------------------------------------------------------------
#
&gt; # PLEASE NOTE THE FOLLOWING:
&gt; #
&gt; # Just by configuring these settings and using the SuSEfirewall2 you are
&gt; # not secure per se! There is *not* such a thing you install and hence you
&gt; # are safed from all (security) hazards.
&gt; #
&gt; # To ensure your security, you need also:
&gt; #
&gt; #   * Secure all services you are offering to untrusted networks
(internet)
&gt; #     You can do this by using software which has been designed with
&gt; #     security in mind (like postfix, apop3d, ssh), setting these up
without
&gt; #     misconfiguration and praying, that they have got really no holes.
&gt; #     SuSEcompartment can help in most circumstances to reduce the risk.
&gt; #   * Do not run untrusted software. (philosophical question, can you
trust
&gt; #     SuSE or any other software distributor?)
&gt; #   * Harden your server(s) with the harden_suse package/script
&gt; #   * Recompile your kernel with the openwall-linux kernel patch
&gt; #     (former secure-linux patch, from Solar Designer) www.openwall.com
&gt; #   * Check the security of your server(s) regulary
&gt; #   * If you are using this server as a firewall/bastion host to the
internet
&gt; #     for an internal network, try to run proxy services for everything
and
&gt; #     disable routing on this machine.
&gt; #   * If you run DNS on the firewall: disable untrusted zone transfers and
&gt; #     either don't allow access to it from the internet or run it
split-brained.
&gt; #
&gt; # Good luck!
&gt; #
&gt; # Yours,
&gt; #       SuSE Security Team
&gt; #
&gt; # ------------------------------------------------------------------------
&gt; #
&gt; # Configuration HELP:
&gt; #
&gt; # If you have got any problems configuring this file, take a look at
&gt; # /usr/share/doc/packages/SuSEfirewall2/EXAMPLES for an example.
&gt; #
&gt; #
&gt; # All types have to set START_FW2 in /etc/rc.config to "yes" ;-)
&gt; #
&gt; # If you are a end-user who is NOT connected to two networks (read: you
have
&gt; # got a single user system and are using a dialup to the internet) you
just
&gt; # have to configure (all other settings are OK): 2) and maybe 9).
&gt; #
&gt; # If this server is a firewall, which should act like a proxy (no direct
&gt; # routing between both networks), or you are an end-user connected to the
&gt; # internet and to an internal network, you have to setup your proxys and
&gt; # reconfigure (all other settings are OK): 2), 3), 9) and maybe 7), 11),
14)
&gt; #
&gt; # If this server is a firewall, and should do routing/masquerading between
&gt; # the untrusted and the trusted network, you have to reconfigure (all
other
&gt; # settings are OK): 2), 3), 5), 6), 9), and maybe 7), 10), 11), 12), 13),
&gt; # 14), 20)
&gt; #
&gt; # If you want to run a DMZ in either of the above three standard setups,
you
&gt; # just have to configure *additionally* 4), 9), 12), 13), 17), 19).
&gt; #
&gt; # If you know what you are doing, you may also change 8), 11), 15), 16)
&gt; # and the expert options 19), 20), 21), 22) and 23) at the far end, but
you
&gt; # should NOT.
&gt; #
&gt; # If you use diald or ISDN autodialing, you might want to set 17).
&gt; #
&gt; # To get programs like traceroutes to your firewall to work is a bit
tricky,
&gt; # you have to set the following options to "yes" : 11 (UDP only), 18 and
19.
&gt; #
&gt; # Please note that if you use service names, that they exist in
/etc/services.
&gt; # There is no service "dns", it's called "domain"; email is called "smtp"
etc.
&gt; #
&gt; # *Any* routing between interfaces except masquerading requires to set
FW_ROUTE
&gt; # to "yes" and use FW_FORWARD or FW_ALLOW_CLASS_ROUTING !
&gt; #
&gt; # If you just want to do masquerading without filtering, ignore this
script
&gt; # and run this line (exchange "ippp0" "ppp0" if you use a modem, not
isdn):
&gt; #   iptables -A POSTROUTING -t nat -j MASQUERADE -o ippp0
&gt; #   echo 1 &gt; /proc/sys/net/ipv4/ip_forward
&gt; # and additionally the following lines to get at least a minimum of
security:
&gt; #   iptables -A INPUT -j DROP -m state --state NEW,INVALID -i ippp0
&gt; #   iptables -A FORWARD -j DROP -m state --state NEW,INVALID -i ippp0
&gt; # ------------------------------------------------------------------------
&gt;
&gt; #
&gt; # 1.)
&gt; # Should the Firewall be started?
&gt; #
&gt; # This setting is done in /etc/rc.config (START_FW2="yes")
&gt;
&gt; #
&gt; # 2.)
&gt; # Which is the interface that points to the internet/untrusted networks?
&gt; #
&gt; # Enter all the network devices here which are untrusted.
&gt; #
&gt; # Choice: any number of devices, seperated by a space
&gt; # e.g. "eth0", "ippp0 ippp1 eth0:1"
&gt; #
&gt; FW_DEV_EXT="eth0"
&gt;
&gt; #
&gt; # 3.)
&gt; # Which is the interface that points to the internal network?
&gt; #
&gt; # Enter all the network devices here which are trusted.
&gt; # If you are not connected to a trusted network (e.g. you have just a
&gt; # dialup) leave this empty.
&gt; #
&gt; # Choice: leave empty or any number of devices, seperated by a space
&gt; # e.g. "tr0", "eth0 eth1 eth1:1" or ""
&gt; #
&gt; FW_DEV_INT=""
&gt;
&gt; #
&gt; # 4.)
&gt; # Which is the interface that points to the dmz or dialup network?
&gt; #
&gt; # Enter all the network devices here which point to the dmz/dialups.
&gt; # A "dmz" is a special, seperated network, which is only connected to the
&gt; # firewall, and should be reachable from the internet to provide services,
&gt; # e.g. WWW, Mail, etc. and hence are at risk from attacks.
&gt; # See /usr/share/doc/packages/SuSEfirewall2/EXAMPLES for an example.
&gt; #
&gt; # Special note: You have to configure FW_FORWARD to define the services
&gt; # which should be available to the internet and set FW_ROUTE to yes.
&gt; #
&gt; # Choice: leave empty or any number of devices, seperated by a space
&gt; # e.g. "tr0", "eth0 eth1 eth1:1" or ""
&gt; #
&gt; FW_DEV_DMZ=""
&gt;
&gt; #
&gt; # 5.)
&gt; # Should routing between the internet, dmz and internal network be
activated?
&gt; # REQUIRES: FW_DEV_INT or FW_DEV_DMZ
&gt; #
&gt; # You need only set this to yes, if you either want to masquerade internal
&gt; # machines or allow access to the dmz (or internal machines, but this is
not
&gt; # a good idea). This option supersedes IP_FORWARD from /etc/rc.config!
&gt; #
&gt; # Setting this option one alone doesn't do anything. Either activate
&gt; # massquerading with FW_MASQUERADE below if you want to masquerade your
&gt; # internal network to the internet, or configure FW_FORWARD to define
&gt; # what is allowed to be forwarded!
&gt; #
&gt; # Choice: "yes" or "no", defaults to "no"
&gt; #
&gt; FW_ROUTE="no"
&gt;
&gt; #
&gt; # 6.)
&gt; # Do you want to masquerade internal networks to the outside?
&gt; # REQUIRES: FW_DEV_INT or FW_DEV_DMZ, FW_ROUTE
&gt; #
&gt; # "Masquerading" means that all your internal machines which use services
on
&gt; # the internet seem to come from your firewall.
&gt; # Please note that it is more secure to communicate via proxies to the
&gt; # internet than masquerading. This option is required for FW_MASQ_NETS and
&gt; # FW_FORWARD_MASQ.
&gt; #
&gt; # Choice: "yes" or "no", defaults to "no"
&gt; #
&gt; FW_MASQUERADE="no"
&gt; #
&gt; # You must also define on which interface(s) to masquerade on. This is
&gt; # normally your external device(s) to the internet.
&gt; # Most users can leave the default below.
&gt; #
&gt; # e.g. "ippp0" or "$FW_DEV_EXT"
&gt; FW_MASQ_DEV="$FW_DEV_EXT"
&gt; #
&gt; # Which internal computers/networks are allowed to access the internet
&gt; # directly (not via proxys on the firewall)?
&gt; # Only these networks will be allowed access and will be masqueraded!
&gt; #
&gt; # Choice: leave empty or any number of hosts/networks seperated by a
space.
&gt; # Every host/network may get a list of allowed services, otherwise
everything
&gt; # is allowed. A target network, protocol and service is appended by a
comma to
&gt; # the host/network. e.g. "10.0.0.0/8" allows the whole 10.0.0.0 network
with
&gt; # unrestricted access. "10.0.1.0/24,0/0,tcp,80 10.0.1.0/24,0/0tcp,21"
allows
&gt; # the 10.0.1.0 network to use www/ftp to the internet.
&gt; # "10.0.1.0/24,tcp,1024:65535 10.0.2.0/24" is OK too.
&gt; # Set this variable to "0/0" to allow unrestricted access to the internet.
&gt; #
&gt; FW_MASQ_NETS=""
&gt;
&gt; #
&gt; # 7.)
&gt; # Do you want to protect the firewall from the internal network?
&gt; # REQUIRES: FW_DEV_INT
&gt; #
&gt; # If you set this to "yes", internal machines may only access services on
&gt; # the machine you explicitly allow. They will be also affected from the
&gt; # FW_AUTOPROTECT_SERVICES option.
&gt; # If you set this to "no", any user can connect (and attack) any service
on
&gt; # the firewall.
&gt; #
&gt; # Choice: "yes" or "no", defaults to "yes"
&gt; #
&gt; # "yes" is a good choice
&gt; FW_PROTECT_FROM_INTERNAL="yes"
&gt;
&gt; #
&gt; # 8.)
&gt; # Do you want to autoprotect all running network services on the firewall?
&gt; #
&gt; # If set to "yes", all network access to services TCP and UDP on this
machine
&gt; # will be prevented (except to those which you explicitly allow, see
below:
&gt; # FW_SERVICES_{EXT,DMZ,INT}_{TCP,UDP})
&gt; #
&gt; # Choice: "yes" or "no", defaults to "yes"
&gt; #
&gt; FW_AUTOPROTECT_SERVICES="yes"
&gt;
&gt; #
&gt; # 9.)
&gt; # Which services ON THE FIREWALL should be accessible from either the
internet
&gt; # (or other untrusted networks), the dmz or internal (trusted networks)?
&gt; # (see no.13 & 14 if you want to route traffic through the firewall) XXX
&gt; #
&gt; # Enter all ports or known portnames below, seperated by a space.
&gt; # TCP services (e.g. SMTP, WWW) must be set in FW_SERVICES_*_TCP, and
&gt; # UDP services (e.g. syslog) must be set in FW_SERVICES_*_UDP.
&gt; # e.g. if a webserver on the firewall should be accessible from the
internet:
&gt; # FW_SERVICES_EXT_TCP="www"
&gt; # e.g. if the firewall should receive syslog messages from the dmz:
&gt; # FW_SERVICES_DMZ_UDP="syslog"
&gt; # For IP protocols (like GRE for PPTP, or OSPF for routing) you need to
set
&gt; # FW_SERVICES_*_IP with the protocol name or number (see /etc/protocols)
&gt; #
&gt; # Choice: leave empty or any number of ports, known portnames (from
&gt; # /etc/services) and port ranges seperated by a space. Port ranges are
&gt; # written like this: allow port 1 to 10 -&gt; "1:10"
&gt; # e.g. "", "smtp", "123 514", "3200:3299", "ftp 22 telnet 512:514"
&gt; # For FW_SERVICES_*_IP enter the protocol name (like "igmp") or number
("2")
&gt; #
&gt; # Common: smtp domain
&gt; FW_SERVICES_EXT_TCP="22 ftp ftp-data 123 23 6000:6064"
&gt; # Common: domain
&gt; FW_SERVICES_EXT_UDP="123"       # Common: domain
&gt; # For VPN/Routing which END at the firewall!!
&gt; FW_SERVICES_EXT_IP=""
&gt; #
&gt; # Common: smtp domain
&gt; FW_SERVICES_DMZ_TCP=""
&gt; # Common: domain
&gt; FW_SERVICES_DMZ_UDP=""
&gt; # For VPN/Routing which END at the firewall!!
&gt; FW_SERVICES_DMZ_IP=""
&gt; #
&gt; # Common: ssh smtp domain
&gt; FW_SERVICES_INT_TCP=""
&gt; # Common: domain syslog
&gt; FW_SERVICES_INT_UDP=""
&gt; # For VPN/Routing which END at the firewall!!
&gt; FW_SERVICES_INT_IP=""
&gt;
&gt; #
&gt; # 10.)
&gt; # Which services should be accessible from trusted hosts/nets?
&gt; #
&gt; # Define trusted hosts/networks (doesnt matter if they are internal or
&gt; # external) and the TCP and/or UDP services they are allowed to use.
&gt; #
&gt; # Choice: leave FW_TRUSTED_NETS empty or any number of computers and/or
&gt; # networks, seperated by a space. e.g. "172.20.1.1 172.20.0.0/16"
&gt; # Optional, enter a protocol after a comman, e.g. "1.1.1.1,icmp"
&gt; # Optional, enter a port after a protocol, e.g. "2.2.2.2,tcp,22"
&gt; #
&gt; FW_TRUSTED_NETS=""
&gt;
&gt; #
&gt; # 11.)
&gt; # How is access allowed to high (unpriviliged [above 1023]) ports?
&gt; #
&gt; # You may either allow everyone from anyport access to your highports
("yes"),
&gt; # disallow anyone ("no"), anyone who comes from a defined port (portnumber
or
&gt; # known portname) [note that this is easy to circumvent!], or just your
&gt; # defined nameservers ("DNS").
&gt; # Note that if you want to use normal (active) ftp, you have to set the
TCP
&gt; # option to ftp-data. If you use passive ftp, you don't need that.
&gt; # Note that you can't use rpc requests (e.g. rpcinfo, showmount) as root
&gt; # from a firewall using this script (well, you can if you include range
&gt; # 600:1023 in FW_SERVICES_EXT_UDP ...).
&gt; #
&gt; # Choice: "yes", "no", "DNS", portnumber or known portname, defaults to
"no"
&gt; #         if not set
&gt; #
&gt; # Common: "ftp-data", better is "yes" to be sure that everything else
works :-(
&gt; FW_ALLOW_INCOMING_HIGHPORTS_TCP="yes"
&gt; # Common: "DNS" or "domain ntp", better is "yes" to be sure ...
&gt; FW_ALLOW_INCOMING_HIGHPORTS_UDP="yes"
&gt;
&gt; #
&gt; # 12.)
&gt; # Are you running some of the services below?
&gt; # They need special attention - otherwise they won´t work!
&gt; #
&gt; # Set services you are running to "yes", all others to "no", defaults to
"no"
&gt; #
&gt; FW_SERVICE_AUTODETECT="yes"     # Autodetect the services below when
starting
&gt; #
&gt; # If you are running bind/named set to yes. Remember that you have to open
&gt; # port 53 (or "domain") as udp/tcp to allow incoming queries.
&gt; # Also FW_ALLOW_INCOMING_HIGHPORTS_UDP needs to be "yes"
&gt; FW_SERVICE_DNS="no"
&gt; #
&gt; # if you use dhclient to get an ip address you have to set this to "yes" !
&gt; FW_SERVICE_DHCLIENT="no"
&gt; #
&gt; # set to "yes" if this server is a DHCP server
&gt; FW_SERVICE_DHCPD="no"
&gt; #
&gt; # set to "yes" if this server is running squid. You still have to open the
&gt; # tcp port 3128 to allow remote access to the squid proxy service.
&gt; FW_SERVICE_SQUID="no"
&gt; #
&gt; # set to "yes" if this server is running a samba server. You still have to
open
&gt; # the tcp port 139 to allow remote access to SAMBA.
&gt; FW_SERVICE_SAMBA="no"
&gt;
&gt; #
&gt; # 13.)
&gt; # Which services accessed from the internet should be allowed to the
&gt; # dmz (or internal network - if it is not masqueraded)?
&gt; # REQUIRES: FW_ROUTE
&gt; #
&gt; # With this option you may allow access to e.g. your mailserver. The
&gt; # machines must have valid, non-private, IP addresses which were assigned
to
&gt; # you by your ISP. This opens a direct link to your network, so only use
&gt; # this option for access to your dmz!!!!
&gt; #
&gt; # Choice: leave empty (good choice!) or use the following explained syntax
&gt; # of forwarding rules, seperated each by a space.
&gt; # A forwarding rule consists of 1) source IP/net and 2) destination IP
&gt; # seperated by a comma. e.g. "1.1.1.1,2.2.2.2 3.3.3.3/16,4.4.4.4/24"
&gt; # Optional is a protocol, seperated by a comma, e.g.
"5.5.5.5,6.6.6.6,igmp"
&gt; # Optional is a port after the protocol with a comma, e.g.
"0/0,0/0,udp,514"
&gt; #
&gt; FW_FORWARD=""           # Beware to use this!
&gt;
&gt; #
&gt; # 14.)
&gt; # Which services accessed from the internet should be allowed to
masqueraded
&gt; # servers (on the internal network or dmz)?
&gt; # REQUIRES: FW_ROUTE
&gt; #
&gt; # With this option you may allow access to e.g. your mailserver. The
&gt; # machines must be in a masqueraded segment and may not have public IP
addesses!
&gt; # Hint: if FW_DEV_MASQ is set to the external interface you have to set
&gt; # FW_FORWARD from internal to DMZ for the service as well to allow access
&gt; # from internal!
&gt; #
&gt; # Please note that this should *not* be used for security reasons! You are
&gt; # opening a hole to your precious internal network. If e.g. the webserver
there
&gt; # is compromised - your full internal network is compromised!!
&gt; #
&gt; # Choice: leave empty (good choice!) or use the following explained syntax
&gt; # of forward masquerade rules, seperated each by a space.
&gt; # A forward masquerade rule consists of 1) source IP/net, 2) destination
IP
&gt; # (dmz/intern), 3) a protocol (tcp/udp only!) and 4) destination port,
&gt; # seperated by a comma (","), e.g. "4.0.0.0/8,1.1.1.1,tcp,80"
&gt; # Optional is a port after the destination port, to redirect the request
to
&gt; # a different destination port on the destination IP, e.g.
&gt; # "4.0.0.0/8,1.1.1.1,tcp,80,81"
&gt; #
&gt; FW_FORWARD_MASQ=""              # Beware to use this!
&gt;
&gt; #
&gt; # 15.)
&gt; # Which accesses to services should be redirected to a localport on the
&gt; # firewall machine?
&gt; #
&gt; # This can be used to force all internal users to surf via your squid
proxy,
&gt; # or transparently redirect incoming webtraffic to a secure webserver.
&gt; #
&gt; # Choice: leave empty or use the following explained syntax of redirecting
&gt; # rules, seperated by a space.
&gt; # A redirecting rule consists of 1) source IP/net, 2) destination IP/net,
&gt; # 3) protocol (tcp or udp) 3) original destination port and 4) local port
to
&gt; # redirect the traffic to, seperated by a colon. e.g.:
&gt; # "10.0.0.0/8,0/0,tcp,80,3128 0/0,172.20.1.1,tcp,80,8080"
&gt; #
&gt; FW_REDIRECT=""
&gt;
&gt; #
&gt; # 16.)
&gt; # Which logging level should be enforced?
&gt; # You can define to log packets which were accepted or denied.
&gt; # You can also the set log level, the critical stuff or everything.
&gt; # Note that logging *_ALL is only for debugging purpose ...
&gt; #
&gt; # Choice: "yes" or "no", FW_LOG_*_CRIT defaults to "yes",
&gt; # FW_LOG_*_ALL defaults to "no"
&gt; #
&gt; FW_LOG_DROP_CRIT="yes"
&gt; #
&gt; FW_LOG_DROP_ALL="no"
&gt; #
&gt; FW_LOG_ACCEPT_CRIT="yes"
&gt; #
&gt; FW_LOG_ACCEPT_ALL="no"
&gt; #
&gt; # only change/activate this if you know what you are doing!
&gt; FW_LOG="--log-level warning --log-tcp-options --log-ip-option --log-prefix
SuSE-
&gt; FW"
&gt;
&gt; #
&gt; # 17.)
&gt; # Do you want to enable additional kernel TCP/IP security features?
&gt; # If set to yes, some obscure kernel options are set.
&gt; # (icmp_ignore_bogus_error_responses, icmp_echoreply_rate,
&gt; #  icmp_destunreach_rate, icmp_paramprob_rate, icmp_timeexeed_rate,
&gt; #  ip_local_port_range, log_martians, mc_forwarding, mc_forwarding,
&gt; #  rp_filter, routing flush)
&gt; # Tip: Set this to "no" until you have verified that you have got a
&gt; # configuration which works for you. Then set this to "yes" and keep it
&gt; # if everything still works. (It should!) ;-)
&gt; #
&gt; # Choice: "yes" or "no", defaults to "yes"
&gt; #
&gt; FW_KERNEL_SECURITY="yes"
&gt;
&gt; #
&gt; # 18.)
&gt; # Keep the routing set on, if the firewall rules are unloaded?
&gt; # REQUIRES: FW_ROUTE
&gt; #
&gt; # If you are using diald, or automatic dialing via ISDN, if packets need
&gt; # to be sent to the internet, you need to turn this on. The script will
then
&gt; # not turn off routing and masquerading when stopped.
&gt; # You *might* also need this if you have got a DMZ.
&gt; # Please note that this is *insecure*! If you unload the rules, but are
still
&gt; # connected, you might your internal network open to attacks!
&gt; # The better solution is to remove "/sbin/SuSEfirewall2 stop" or
&gt; # "/sbin/init.d/firewall stop" from the ip-down script!
&gt; #
&gt; #
&gt; # Choices "yes" or "no", defaults to "no"
&gt; #
&gt; FW_STOP_KEEP_ROUTING_STATE="no"
&gt;
&gt; #
&gt; # 19.)
&gt; # Allow (or don't) ICMP echo pings on either the firewall or the dmz from
&gt; # the internet? The internet option is for allowing the DMZ and the
internal
&gt; # network to ping the internet.
&gt; # REQUIRES: FW_ROUTE for FW_ALLOW_PING_DMZ and FW_ALLOW_PING_INTERNET
&gt; #
&gt; # Choice: "yes" or "no", defaults to "no" if not set
&gt; #
&gt; FW_ALLOW_PING_FW="yes"
&gt; #
&gt; FW_ALLOW_PING_DMZ="no"
&gt; #
&gt; FW_ALLOW_PING_EXT="no"
&gt;
&gt; ##
&gt; # END of rc.firewall
&gt; ##
&gt;
&gt; #
#
&gt;
#-------------------------------------------------------------------------#
&gt; #
#
&gt; # EXPERT OPTIONS - all others please don't change these!
#
&gt; #
#
&gt;
#-------------------------------------------------------------------------#
&gt; #
#
&gt;
&gt; #
&gt; # 20.)
&gt; # Allow (or don't) ICMP time-to-live-exceeded to be send from your
firewall.
&gt; # This is used for traceroutes to your firewall (or traceroute like
tools).
&gt; #
&gt; # Please note that the unix traceroute only works if you say "yes" to
&gt; # FW_ALLOW_INCOMING_HIGHPORTS_UDP, and windows traceroutes only if you say
&gt; # additionally "yes" to FW_ALLOW_PING_FW
&gt; #
&gt; # Choice: "yes" or "no", defaults to "no"
&gt; #
&gt; FW_ALLOW_FW_TRACEROUTE="yes"
&gt;
&gt; #
&gt; # 21.)
&gt; # Allow ICMP sourcequench from your ISP?
&gt; #
&gt; # If set to yes, the firewall will notice when connection is choking,
however
&gt; # this opens yourself to a denial of service attack. Choose your poison.
&gt; #
&gt; # Choice: "yes" or "no", defaults to "yes"
&gt; #
&gt; FW_ALLOW_FW_SOURCEQUENCH="yes"
&gt;
&gt; #
&gt; # 22.)
&gt; # Allow/Ignore IP Broadcasts?
&gt; #
&gt; # If set to yes, the firewall will not filter broadcasts by default.
&gt; # This is needed e.g. for Netbios/Samba, RIP, OSPF where the broadcast
&gt; # option is used.
&gt; # If you do not want to allow them however ignore the annoying log
entries,
&gt; # set FW_IGNORE_FW_BROADCAST to yes.
&gt; #
&gt; # Choice: "yes" or "no", defaults to "no"
&gt; #
&gt; FW_ALLOW_FW_BROADCAST="no"
&gt; #
&gt; FW_IGNORE_FW_BROADCAST="yes"
&gt;
&gt; #
&gt; # 23.)
&gt; # Allow same class routing per default?
&gt; # REQUIRES: FW_ROUTE
&gt; #
&gt; # Do you want to allow routing between interfaces of the same class
&gt; # (e.g. between all internet interfaces, or all internal network
interfaces)
&gt; # be default (so without the need setting up FW_FORWARD definitions)?
&gt; #
&gt; # Choice: "yes" or "no", defaults to "no"
&gt; #
&gt; FW_ALLOW_CLASS_ROUTING="no"
&gt;
&gt; #
&gt; # 25.)
&gt; # Do you want to load customary rules from a file?
&gt; #
&gt; # This is really an expert option. NO HELP WILL BE GIVEN FOR THIS!
&gt; # READ THE EXAMPLE CUSTOMARY FILE AT
/etc/rc.config.d/firewall2-custom.rc.config
&gt; #
&gt; #FW_CUSTOMRULES="/etc/rc.config.d/firewall2-custom.rc.config"
&gt;
&gt;
&gt; Dave
&gt; --
&gt; David de Groot                          mailto:<A HREF="mailto:david@viking.org.au">david@viking.org.au</A>
&gt; <A HREF="http://vikings.homeip.net/~david">http://vikings.homeip.net/~david</A>
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
