<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Makefile Newbie" -->
<!-- FromName="'Richard Russell'" -->
<!-- FromEmail="richard@yellowgoanna.com" -->
<!-- ToName="'Andrew Hill'" -->
<!-- ToEmail="list@fornax.net,linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 12 Apr 2002 16:25:37 +0930" -->
<!-- Id="005f01c1e1ef$0d487410$0f00a8c0@skink" -->
<!-- Reference="3CB680D2.70405@fornax.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Makefile Newbie</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Russell &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  To  : Andrew Hill &lt;<I><A HREF="mailto:list@fornax.net">list@fornax.net</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 12 Apr 2002 16:25:37 +0930
</PRE>
<H1>RE: Makefile Newbie</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Is there a more elegant way to do the following in a Makefile?
&gt; 
&gt;    make test:
&gt;      make test-1
&gt;      make test-2
&gt; 
&gt;    make: test-1
&gt;      tests....
&gt; 
&gt;    make test-2
&gt;      tests....

Well... there's certainly a more syntactically correct way :)

----
# Makefile for tests

test:
	make test-1
	make test-2

test-1:
	&lt;tests&gt;

test-2:
	&lt;tests&gt;
----

Note that they are tabs before each line of code after the target...
spaces won't work. Make is notoriously fussy about the format of the
Makefile.

But, apart from that, it would seem that you may want something like
this:

----
# Makefile for tests

test: test-1 test-2

test-1:
	&lt;tests&gt;

test-2:
	&lt;tests&gt;
----

make sure that you don't (in either case) have any files in that
directory called "test", "test-1" or "test-2", or those tests won't be
run (but creating a "test-2" file could be a convenient way of skipping
test-2, if you desired)...

Does that help?

You can have a lot more fun with things when you get more intricate
dependancies, too... for eg, you could make test-2 depend on test-1
(change the line "test-2:" to "test-2: test-1") to make sure that test-1
is run first...


etc...

HTH

rr

-- 
Richard Russell
Yellow Goanna Pty Ltd
e: <A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>
m: +61 412 827 805
f: +61 8 8462 2362

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
