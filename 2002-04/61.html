<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: 7.2 Dial Up PPPD Server Stuffed?" -->
<!-- FromName="'Matthew Western'" -->
<!-- FromEmail="mwestern@affairs.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 3 Apr 2002 17:11:14 +0930" -->
<!-- Id="FD14944A4C95D211AF350004AC4C55A4058605B5@MX" -->
<!-- Reference="FD14944A4C95D211AF350004AC4C55A404BB16B4@MX" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: 7.2 Dial Up PPPD Server Stuffed?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Western &lt;<I><A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 3 Apr 2002 17:11:14 +0930
</PRE>
<H1>RE: 7.2 Dial Up PPPD Server Stuffed?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hmm, several people suggested i should be using chap not pap as this is the
defacto standard nowadays.  i can now dial in using pap, but i turned on
chap and disabled pap in the login.config file and now i get an error in the
log saying:

Apr  3 17:00:21 dial mgetty[1050]: data dev=ttyS1, pid=1050, caller='none',
conn='19200', name='', cmd='/usr/sbin/pppd', user='/AutoPPP/'
Apr  3 17:00:21 dial pppd[1050]: The remote system is required to
authenticate itself
Apr  3 17:00:21 dial pppd[1050]: but I couldn't find any suitable secret
(password) for it to use to do so.
Apr  3 17:00:21 dial pppd[1050]: (None of the available passwords would let
it use an IP address.)

anybody have any comments about chap vs pap? and the security issues of pap?

Thanks
Matthew

-----Original Message-----
From: Matthew Western [mailto:<A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A>]
Sent: Wednesday, April 03, 2002 4:27 PM
To: 'Darryl Merritt'
Cc: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Subject: RE: 7.2 Dial Up PPPD Server Stuffed?


Ah, thanks for the replys people.  i used netcrafts rpm
<A HREF="http://www.netcraft.com.au/rpms/">http://www.netcraft.com.au/rpms/</A> and this worked a treat, no changes i just
installed it (did a force to keep it from woffling about some knot it had),
now it works a treat....
thanks.....
Matthew


-----Original Message-----
From: Darryl Merritt [mailto:<A HREF="mailto:darryl@dda.com.au">darryl@dda.com.au</A>]
Sent: Wednesday, April 03, 2002 3:46 PM
To: <A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A>
Subject: RE: 7.2 Dial Up PPPD Server Stuffed?





https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=55367



&gt; -----Original Message-----
&gt; From: Matthew Western [mailto:<A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A>]
&gt; Sent: Wednesday, 3 April 2002 3:49 PM
&gt; To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
&gt; Subject: 7.2 Dial Up PPPD Server Stuffed?
&gt;
&gt;
&gt; Hi People,
&gt; I'm trying to get ppp version 2.4.1 that is bundled with
&gt; redhat 7.2 discs
&gt; going to act as a dial up server for windows clients using
&gt; PAP.  I've worked
&gt; thru a couple of howtos and the the best one seems to be
&gt; <A HREF="http://www.gue-tech.org/unix/ppp/sol_autoppp.html">http://www.gue-tech.org/unix/ppp/sol_autoppp.html</A> .
&gt;
&gt; I've almost go it going i think as it's at the stage where it verifies
&gt; username password, but it stays there for about 30 secs and
&gt; drops.  the
&gt; error log entry that is relivant is (full error log at bottom
&gt; of message):
&gt;
&gt; Apr  3 12:17:20 dial pppd[1050]: IPCP: timeout sending Config-Requests
&gt; Apr  3 12:17:21 dial pppd[1050]: Hangup (SIGHUP)
&gt;
&gt; I've (actually my linux friend) found a message on the redhat
&gt; list for a way
&gt; around it but fails at step 5 with the message 'No such file
&gt; or directory'
&gt; (way to fix is also at the bottom of message).  so rather
&gt; than bash my head
&gt; against my keyboard any longer i thought i'd ask the gurus...
&gt;
&gt; Do i need to downgrade to 2.4.0 to get things working?
&gt; Regards
&gt; Matthew
&gt;
&gt; ------------------Fix 2.4.1-------------------
&gt; (Grab the src rpm from here)
&gt; <A HREF="ftp://rpmfind.net/linux/redhat/7.2/en/os/i386/SRPMS/ppp-2.4.1-">ftp://rpmfind.net/linux/redhat/7.2/en/os/i386/SRPMS/ppp-2.4.1-</A>
&gt; 2.src.rpm
&gt;
&gt; (i didn't have this problem but its running on RH 6.2 still,
&gt; this seems
&gt; to be RH 7.2 only.......)
&gt;
&gt; &gt;
&gt; &gt; &gt;As far I could find, there is no new ppp version to install, so,
&gt; &gt; &gt;must I downgrade to PPP 2.4.0?
&gt; &gt;
&gt; &gt; =======================
&gt; &gt; 1) grab the .src.rpm file that corresponds to your ppp.  (As of the
&gt; &gt;    time I did it, that was ppp-2.4.1-2.src.rpm)
&gt; &gt; 2) type "rpm -Uvh ppp*.src.rpm" to put the pieces where Red
&gt; Hat likes
&gt; &gt;    to compile them.
&gt; &gt; 3) change to the /usr/src/redhat/SPECS directory
&gt; &gt; 4) edit /usr/src/redhat/SPEC/ppp.spec and remove the cbcp patches.
&gt; &gt;    (There will be 4 lines that you need to delete.  All were pretty
&gt; &gt;    obvious.)
&gt; &gt; 5) type "rpm -ba ppp.spec"
&gt; &gt; 6) with any luck, it will create
&gt; &gt;           /usr/src/redhat/SRPMS/ppp-2.4.1-2.src.rpm
&gt; &gt;    and    /usr/src/redhat/RPMS/i386/ppp-2.4.1-2.i386.rpm
&gt; &gt; 7) change to the /usr/src/redhat/RPMS/i386 directory
&gt; &gt; 8) type either "rpm -Uvh --force ppp*.rpm"
&gt; &gt;    or "rpm -e ppp" then "rpm -Uvh ppp*.rpm"
&gt; &gt;
&gt; &gt; DISCLAIMER: That worked for me.  Your milage may vary.  Contents may
&gt; &gt; settle upon shipping. Void where prohibited by law.
&gt;
&gt; Messages log ------------------
&gt; [<A HREF="mailto:root@dial">root@dial</A> log]# more error.log
&gt; Apr  3 12:16:47 dial mgetty[1050]: data dev=ttyS1, pid=1050,
&gt; caller='none',
&gt; conn
&gt; ='19200', name='', cmd='/usr/sbin/pppd', user='/AutoPPP/'
&gt; Apr  3 12:16:47 dial pppd[1050]: pppd 2.4.1 started by LOGIN, uid 0
&gt; Apr  3 12:16:47 dial pppd[1050]: Using interface ppp0
&gt; Apr  3 12:16:47 dial pppd[1050]: Connect: ppp0 &lt;--&gt; /dev/ttyS1
&gt; Apr  3 12:16:47 dial pppd[1050]: Warning - secret file
&gt; /etc/ppp/pap-secrets
&gt; has
&gt; world and/or group access
&gt; Apr  3 12:16:50 dial pppd[1050]: Warning - secret file
&gt; /etc/ppp/pap-secrets
&gt; has
&gt; world and/or group access
&gt; Apr  3 12:16:50 dial pppd[1050]: user mwestern logged in
&gt; Apr  3 12:17:20 dial pppd[1050]: IPCP: timeout sending Config-Requests
&gt; Apr  3 12:17:21 dial pppd[1050]: Hangup (SIGHUP)
&gt; Apr  3 12:17:21 dial pppd[1050]: Modem hangup
&gt; Apr  3 12:17:21 dial pppd[1050]: Connection terminated.
&gt; Apr  3 12:17:21 dial pppd[1050]: Connect time 0.6 minutes.
&gt; Apr  3 12:17:21 dial pppd[1050]: Sent 310 bytes, received 0 bytes.
&gt; Apr  3 12:17:21 dial pppd[1050]: Exit.
&gt; --------------------------------
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt; irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as
&gt; the subject
&gt;
&gt;

--
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
