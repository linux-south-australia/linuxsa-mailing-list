<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Firewall" -->
<!-- FromName="Darryl Ross" -->
<!-- FromEmail="rosdr001@lux.levels.unisa.edu.au" -->
<!-- ToName="Steve Sloan" -->
<!-- ToEmail="steve@lansol.com.au" -->
<!-- Date="Sat, 13 Nov 1999 13:04:22 +1030 (GMT+10:30)" -->
<!-- Id="Pine.SOL.4.05.9911131258440.11016-100000@lux.levels.unisa.edu.au" -->
<!-- Reference="000b01bf2b73$593e1ee0$be02a8c0@stephen" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Firewall</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:rosdr001@lux.levels.unisa.edu.au">rosdr001@lux.levels.unisa.edu.au</A></I>&gt;
  To  : Steve Sloan &lt;<I><A HREF="mailto:steve@lansol.com.au">steve@lansol.com.au</A></I>&gt;
  Date: Sat, 13 Nov 1999 13:04:22 +1030 (GMT+10:30)
</PRE>
<H1>Re: Firewall</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 10 Nov 1999, Steve Sloan wrote:

&gt; I am trying to setup a firewall and I am have quite a bit of trouble with
&gt; IPCHAINS
&gt; My test setup is as follows (stand alone)
&gt; 
&gt; WinNT ----192.168.2.x ----------Linux
&gt; firewall -----------192.168.3.x ------------- Linux Apache
&gt; 
&gt; I have two nic's in the firewall with ip_forward turned on. This allows
&gt; browse the Apache server from the NT box OK
&gt; Next I set the IP Chain policy to DENY and everything stopped as you would
&gt; expect.
&gt; Now I turned on port 80 using the command
&gt; 
&gt; ipchains -A input -p tcp -s 0.0.0.0/0 80 ACCEPT
&gt; 
&gt; which I thought would have opened up port 80 and allow me to browse but
&gt; didn't.

Even thought you have opened up port 80, which means the client can make
requests to the server, you haven't opened up any other ports for the
server to send the documents back to the client. 

try:

ipchains -A forward -s 196.168.3.x/32 -p TCP ACCEPT

Where x is the host IP number of the apache server.

(That's from the top of my head, you'll probably have to experiment to get
it right.) Basically what you need to do is allow the apache machine to
make outgoing connections on any port.
 
&gt; Next I opened up icmp and ping started working again, but still no browsing.
&gt; 
&gt; What am doing wrong? I must have read the IPCHAINS howto about 10 times but
&gt; fail to see my mistake.

Hope that helps. If not, email me back directly at <A HREF="mailto:darryl@bachblue.com.au">darryl@bachblue.com.au</A>
and I'll try to help you more.

Darryl

-- 

Darryl Ross
Technical Manager
Bachblue Pty Ltd
<A HREF="mailto:darryl@bachblue.com.au">darryl@bachblue.com.au</A>

also:

Student, UniSA
LBSG
<A HREF="mailto:rosdr001@students.unisa.edu.au">rosdr001@students.unisa.edu.au</A> 

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
