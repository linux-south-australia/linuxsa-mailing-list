<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: more spooky stuff on the net!" -->
<!-- FromName="Alan Kennington" -->
<!-- FromEmail="akenning@dog.topology.org" -->
<!-- ToName="" -->
<!-- ToEmail="newton@atdot.dotat.org" -->
<!-- Date="Tue, 16 Nov 1999 14:54:59 +1030" -->
<!-- Id="199911160424.OAA18225@dog.topology.org" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: more spooky stuff on the net!</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  To  : <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
  Date: Tue, 16 Nov 1999 14:54:59 +1030
</PRE>
<H1>Re: more spooky stuff on the net!</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Mark,

This is where the idea comes from:

========================================================
emu /home/ak&gt; ls -lurt /etc/resolv.conf
-rw-r--r--   1 root     root          253 Nov 16 08:29 /etc/resolv.conf
emu /home/ak&gt; telnet geekboys.org
Trying 212.78.193.215...

emu /home/ak&gt; ls -lurt /etc/resolv.conf
-rw-r--r--   1 root     root          253 Nov 16 14:13 /etc/resolv.conf
emu /home/ak&gt; telnet www.geekboys.org
Trying 212.78.194.207...

emu /home/ak&gt; nslookup 212.78.193.215
Server:  dog.topology.org
Address:  203.38.148.51

Name:    theo.spray.se
Address:  212.78.193.215

emu /home/ak&gt; nslookup 212.78.194.207
Server:  dog.topology.org
Address:  203.38.148.51

Name:    spraydio.com
Address:  212.78.194.207
========================================================

But then if I use nslookup to determine the translations for
these names, I get:

=======================================================
emu /home/ak&gt; nslookup geekboys.org
Server:  dog.topology.org
Address:  203.38.148.51

Non-authoritative answer:
Name:    geekboys.org
Address:  212.78.193.215

emu /home/ak&gt; nslookup www.geekboys.org
Server:  dog.topology.org
Address:  203.38.148.51

Non-authoritative answer:
Name:    www.geekboys.org
Address:  212.78.193.215
=======================================================

So I'm just reporting the facts.
"telnet" is simply converting/translating/resolving/interpreting
the string "www.geekboys.org" differently to what 
"nslookup" is. Or if this is an illusion, I am happy to be
disillusioned.

The trouble is that this has been happening in a sort of
peripherally noticeable way ever since I installed SuSE 6.2.
And now I have a simple reduced example which
demonstrates the "bug", if that it be.
It's also totally repeatable.

My hunch is that maybe telnet is just going to a different
name server or something.
I'll check....

A single packet is emitted by <A HREF="telnet:">telnet:</A>

=============================================================
14:49:19.731139 emu.topology.org.2646 &gt; 212.78.194.207.<A HREF="telnet:">telnet:</A> S 2442688136:2442688136(0) win 32120 &lt;mss 1460,sackOK,timestamp 119006852[|tcp]&gt; (DF)
=============================================================

I.e. telnet does not go off and fetch the name from the local
name server at dog as it should.
This means it's being cached somewhere.

Obviously SuSE6.2 comes with some really sophisticated
facility to cache web addresses so that it doesn't
have to go out into the DNS system.

And my question is now: where is it being cached?
I'll have to read some more.....

Cheers,
Alan Kennington.

=======================================================
PS. This is what happens on the net when I run nslookup on emu:

---------------------------------------------------
tcpdump: listening on eth0
14:53:29.607772 emu.topology.org.1086 &gt; dog.topology.org.domain: 56145+ (44)
14:53:29.613014 dog.topology.org.domain &gt; emu.topology.org.1086: 56145* 1/5/5 (282)
14:53:29.624807 emu.topology.org.1086 &gt; dog.topology.org.domain: 56146+ (34)
14:53:29.628698 dog.topology.org.domain &gt; emu.topology.org.1086: 56146 1/2/2 (150)
----------------------------------------------------

I.e. emu correctly goes off to dog to find the answer.
But telnet on emu does _not_ query dog's named for the answer.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
