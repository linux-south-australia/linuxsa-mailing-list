<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ISP vandalism" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="Robert Archer" -->
<!-- ToEmail="9135397c@lux.levels.unisa.edu.au" -->
<!-- Date="Thu, 3 Dec 1998 14:42:34 +1030 (CST)" -->
<!-- Id="199812030412.OAA15289@atdot.dotat.org" -->
<!-- Reference="Pine.SOL.4.05.9812011852030.24578-100000@lux.levels.unisa.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ISP vandalism</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Robert Archer &lt;<I><A HREF="mailto:9135397c@lux.levels.unisa.edu.au">9135397c@lux.levels.unisa.edu.au</A></I>&gt;
  Date: Thu, 3 Dec 1998 14:42:34 +1030 (CST)
</PRE>
<H1>Re: ISP vandalism</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Robert Archer wrote:

 &gt; There was an article in today's Australia (p47) about The Internet Group
 &gt; in NZ.
 &gt; Someone hacked their server, damaged the boot partition, the *backup* boot
 &gt; partition, and destroyed about 4500 customer websites containing 15Gb of
 &gt; files. The security flaw was in a user's CGI script, and the ISP had no
 &gt; backups of the lost data.

I'm currently sitting in a net cafe just off Queen Street in Auckland, NZ.
During business hours I've been teaching a Sun Microsystems System Admin
course at Sun's office.  Two of my students work for Xtra, the ISP operated
by Telecom New Zealand, so this is all they've been talking about all week.

Apparently the ISP didn't back up the files because they thought 15Gbytes
would take too long to write to tape.  Apparently they've never heard of
DLTs, which will write 70 Gbytes per cartrige at 30 Mbytes per second :-)

The message above is slightly incorrect, BTW.  The flaw wasn't just
in a user's CGI script;  That's merely how the attacker gained unprivileged
access.  Once unprivileged access is obtained it is usually trivial to
exploit things like buffer-overflow bugs in setuid executables to gain
privileges, at which point the world is your oyster.

That's why running CGI scripts as "nobody" doesn't really work.  They
already run as "nobody" anyway; that's half the problem in lots of cases.

 &gt; Questions:
 &gt; 1) Should an ISP allow user scripts? Can this be done securely?

No and No, end of story.  ISPs don't usually allow shell access anymore
because it's too easy to compromise.  You should view CGI as "shell access
over HTTP without passwords".

 &gt; 2) Should an ISP be backing up their customer's files?

Of course.  They were in competant in this case, pure and simple, case
closed.

    - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1958-3414 ------------- Fax: +61-8-83034403 -----

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
