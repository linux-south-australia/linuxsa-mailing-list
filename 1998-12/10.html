<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ISP vandalism" -->
<!-- FromName="Matthew Tippett" -->
<!-- FromEmail="mtippett@ticons.com.au" -->
<!-- ToName="Alan Kennington" -->
<!-- ToEmail="Alan.Kennington@dsto.defence.gov.au" -->
<!-- Date="Tue, 1 Dec 1998 22:30:25 +1030 (CST)" -->
<!-- Id="199812011200.WAA04731@matt.ticons.com.au" -->
<!-- Reference="199812011029.UAA23072@triton.dsto.defence.gov.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ISP vandalism</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Tippett &lt;<I><A HREF="mailto:mtippett@ticons.com.au">mtippett@ticons.com.au</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:Alan.Kennington@dsto.defence.gov.au">Alan.Kennington@dsto.defence.gov.au</A></I>&gt;
  Date: Tue, 1 Dec 1998 22:30:25 +1030 (CST)
</PRE>
<H1>Re: ISP vandalism</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; SE Net do not allow CGI scripts, as far as I know -- not by customers,
&gt; and TAFE certainly do not allow individuals in their organisation
&gt; to provide them. And now I know why.

For a site where there is the possibility of people of various abilities and
intentions the safest option is to put in place restrictions on the
type of CGI or local execution on the Web Server.

Some mid points are to allow some known CGI scripts (web counters), feedback
pages/etc to give basic remote execution functionality.

&gt; But on a Unix box, surely it must be possible to make all CGI scripts
&gt; run as user "nobody", or as the user who wrote the script,
&gt; and then the damage should be very much limited.

Interactive (shell) attacks can be *Broadly* spread into two categories.

	Remote and Local.

In general Remote attacks are attempts to get local host access, and
then local attacks try to leverage priveledges.  

See below for more on this.

&gt; I can't determine from the article whether the machine was
&gt; unix or windows based, but the reference to "directories" rather than
&gt; "folders" suggests that it was unix of some sort.

Quick telnet to the telnet port yields that they are now running
Apache on homepages.ihug.co.nz and a Netscape server on www.ihug.co.nz

A quick look at the host on the really cool queso host probing utility
at 
	<A HREF="http://mailsearch.particle.net/">http://mailsearch.particle.net/</A>

yields, that www.ihug.co.nz is possibly an IRIX box, and homepages.ihug
is a Solaris box.  Besides both domains (ihug.co.nz and tig.co.nz are 
running sendmail so I think it would be safe to say they are running
unix derivatives of some sort.

&gt; My question:
&gt; If you configure the server to run CGI scripts as "nobody"
&gt; (e.g. apache can be made to always run as "nobody"), then
&gt; isn't it true that no harm can be done to anything outside
&gt; world-writable areas?

If someone can get local access (even as nobody) then they *may*
be able to leverage priveledges on a poorly secured system to get
local root access.  From there you may be able to do anything.

Stepwise increase in priveledges is the way that most hackers would
operate.  And by the wording of the article it looks like that is
the way that people got access.

&gt; In the article, they say that they didn't do backups because of
&gt; the overheads on a heavily loaded system.

No *real* excuse here.  Even if they had a heavily loaded machine
they would still be able to back up the data, albiet with the 
occassional issue of incorrect data.

There are many options that can be used for backing up data.

&gt; This story convinces me that I will have to backup any disk drive
&gt; which I expose to the net!

Security comes in multiple directions.  You are securing your data so
you need to make sure that you don't lose any (either to other people or
to yourself).  So backup your data.

Another issue to look at is security in depth.  Treat your data at the
centre and then add depths of security.  As an indication look at..

	Level 1.  Backup your data
	Level 2.  Ensure the machine is reliable (hardware and software)
	Level 3.  Ensure the machine is secure against local attacks
			(F00F bug, local root exploits, etc.)
	Level 4.  Ensure the system is secure from the outside
			(Turn extra services off,  update applications, etc).
	Level 5.  Ensure the network is secure from the outside
			(Firewalls, application proxies, etc...)

Although this is only a rough guide there are heaps of online references
to securing systems and security principles.

But the concept is the same, to get to the juicy core (your data) you must
successivly break through the outer layers, getting closer to the
data at each point.

Ultimately it comes down to how much you value your data.  The more you
value your data the more effort you should take in protecting it.  The 
Internet can be a 'dangerous' place, but you can take steps to 
securing your data.

Yours in paranoia...

Matt
--
Matthew Tippett          - +61 416 006 047     - <A HREF="mailto:mtippett@ticons.com.au">mtippett@ticons.com.au</A>
Linux Support Initiative - BETA Testers Wanted - <A HREF="http://lsi.ticons.com.au/">http://lsi.ticons.com.au/</A>
Tippett Information Consulting Pty Ltd -       - <A HREF="http://www.ticons.com.au/">http://www.ticons.com.au/</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
