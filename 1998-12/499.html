<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: System call input" -->
<!-- FromName="Michael Pearson" -->
<!-- FromEmail="alcaron@ozemail.com.au" -->
<!-- ToName="David Newall" -->
<!-- ToEmail="davidn@rebel.net.au" -->
<!-- Date="Sat, 26 Dec 1998 08:05:12 +0000 (Local time zone must be set--see zic manual page)" -->
<!-- Id="Pine.LNX.4.05.9812260754270.1445-100000@longbow.claymore" -->
<!-- Reference="Pine.BSF.3.96.981221145542.1152B-100000@hommus.rebel.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: System call input</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Pearson &lt;<I><A HREF="mailto:alcaron@ozemail.com.au">alcaron@ozemail.com.au</A></I>&gt;
  To  : David Newall &lt;<I><A HREF="mailto:davidn@rebel.net.au">davidn@rebel.net.au</A></I>&gt;
  Date: Sat, 26 Dec 1998 08:05:12 +0000 (Local time zone must be set--see zic manual page)
</PRE>
<H1>Re: System call input</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; This idea won't get much further than Michael's current version of Linux.
&gt; It's not going to make it into any "real" distribution, and while Michael
&gt; *might* complete it (but probably won't), and therefore *might* convince a
&gt; few other people to use it, too (but also probably won't), come the next
&gt; version of Linux the people who do use it will need to choose between
&gt; giving the feature up; re-implementing it for the new (and possibly quite
&gt; different) kernel; and keeping the old (and presumably less attractive)
&gt; kernel.  Ultimately everyone will choose the first option.  This, of
&gt; course, is intended to be a harsh and dismal view of the world; also it's
&gt; realistic.
I don't intend for other people to use it at this stage. They can if they
want to, but I'm not going to be held responsible if everything stuffs up.
And as for kernel porting, it's been easy sofar.

&gt; 
&gt; Replacing one open file with another, which does seem to be the nub of
&gt; the idea, is an odd idea.  I can't imagine what would happen if you started
&gt; a program on a terminal, and thus the program found out all about the
&gt; terminal, that is, number of rows, number of columns, baud rate and terminal
&gt; type, and then you replaced it with, say, a disk file.  Those ioctl() calls
&gt; won't make much sense, and many programs will proceed to fail.
I realised this about 2 hours after I made the post. What the function
will now do is "swap" two tty's. I've just about completed it, I have to
get some file descriptor issues sorted out first.

 &gt; 
&gt; Security is another issue: I won't even start on this one, except to say
&gt; that it will be one (of many) major reason why the idea won't gain wide
&gt; acceptance.
See para 1.

&gt; 
&gt; The idea sounds to me like a kernel replacement for something screen already
&gt; does.  I remind you of Newall's rule: If a problem can be solved in two (or
&gt; more) ways, pick one; don't pick them all.  Looking further, screen relies
&gt; on the fact that programs started within it are *not* talking to a terminal.
&gt; They talk to a psuedo tty.  This is important because if the user disconnects
&gt; from the real terminal (ie the modem drops out), all processes in that
&gt; terminal group are sent a hangup signal, which generally causes them to
&gt; terminate.  I believe this behaviour is non-negotiable; if Michael tries to
&gt; change it his idea is going to get even less support than I already predict.
I don't want to use screen. And if I can do some fooling around with
parent/child stuff I can probably circumvent that hangup signal. And as
for newall's rule, I want to be able to flip processes -without- running
any special program before starting said process, and there is nothing atm
that can do that short of messing with kernel sources.

Originally, I intended just to code a user space program which would call
ioctl's to perform the task. I found out that said ioctl's did not exist,
mainly for reasons that you've already stated, and I decided to code this
functionality in.

This is more or less, as stated in my previous post, a training exercise.
A challenge that I want to complete. If I can get it to work, I'll be
happy. I probably wont continue working on it after it works, unless
security/stability issues can be cleaned up, well, cleanly.

&gt; 
&gt; Most of all, what I would like to hear, is the reason why ttymigrate is
&gt; needed.  I think I heard, "because it's a great training exercise".  Perhaps
&gt; it is; however I don't think training exercises are particularly interesting
&gt; to anyone other than the people directly involved.  They certainly don't
&gt; warrant any public discussion.  So why?  What problem is being solved?
I had a problem "What would be the best way to do this?", so I posted it
to the list. When people have problems "Why won't foo work with bar?" they
post it to the list. I really don't see the difference.

Michael.

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
