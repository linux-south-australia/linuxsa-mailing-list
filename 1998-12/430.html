<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="networking, IP Forwarding, routing, samba,......." -->
<!-- FromName="Rick Marshall" -->
<!-- FromEmail="rjm@herzfeld.com.au" -->
<!-- ToName="LinuxSA" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 22 Dec 1998 15:38:49 +1100" -->
<!-- Id="367F2258.8EA78864@herzfeld.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: networking, IP Forwarding, routing, samba,.......</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Rick Marshall &lt;<I><A HREF="mailto:rjm@herzfeld.com.au">rjm@herzfeld.com.au</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 22 Dec 1998 15:38:49 +1100
</PRE>
<H1>networking, IP Forwarding, routing, samba,.......</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
OK, here's a little problem (I hope :-) )

We have a linux server (2.0.35 running ppp 2.3.5) it is configured with
one ppp link to the real world, it has a real world IP address.

Internally we have an ethernet LAN with network address 192.168.1.0/24.
It uses the real IP address as its gateway. The server uses the other
end (real IP) address of the primary ppp link as its gateway.

We also have lots of modems. Each one has another private address,
192.168.2.nnn/32.

Now the hard bit. We want the Windows networking running over TCP/IP to
see all the machines in the workgroup.

That is if you are a 192.168.1.nnn address or a 192.168.2.nnn address
shouldn't matter. You should be able to see the whole work group.

Samba is running and can see all the hosts. All the 192.168.1.0/24
addresses can see the each other.

It's just the modem connections that can't.

Routing looks fine. Each network and ppp address has an entry in the
routing tables.

ipfwadm rules:

ipfwadm -F -a accept -P all -S 192.168.1.0/24 -D 192.168.2.101/32
ipfwadm -F -a accept -P all -S 192.168.2.101/32 -D 192.168.1.0/24

etc

(There is also some masquerading rules for the external gateway)

err.... help......

TIA

Rick


-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
