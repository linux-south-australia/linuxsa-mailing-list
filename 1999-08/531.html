<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="system resources - 2" -->
<!-- FromName="Michael Wardle" -->
<!-- FromEmail="michael_wardle@hotmail.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 27 Aug 1999 17:24:05 CST" -->
<!-- Id="19990827075407.99526.qmail@hotmail.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: system resources - 2</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Wardle &lt;<I><A HREF="mailto:michael_wardle@hotmail.com">michael_wardle@hotmail.com</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Fri, 27 Aug 1999 17:24:05 CST
</PRE>
<H1>system resources - 2</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hello

Thank you to Michael Neuling, David Lloyd, Mark Newton, Glen Turner, Martin 
Sandiford and Conrad Gittins for your replies.  Sorry that I did not mail 
back sooner.  Your knowledge is very much appreciated.

Michael:
&gt;There are memory leak problems with 2.2.11.  Try 2.2.10 and see if
&gt;that fixes your problem.
As you suggested changing the kernel, I went to download 2.2.10, and noticed 
2.2.12, so I built this instead.  I have not noticed any great system 
slow-down now, although I am yet to run a lengthy X session with Netscape 
also running.

David:
&gt;I believe that the actual hard drive speed would be of much more &gt;concern 
&gt;rather than what partitions sat on the particular hard drive. &gt;Ensure that 
&gt;your swap partition is on your FASTEST hard drive.
I only have one physical disk drive which is an UATA/33 (IDE) with my swap 
partitions at the "end" of the disk, so that the swap may be as fast as 
possible.

I would like to buy another disk, as well as 64 MB RAM, but can not
afford it.

&gt;KDE and X alone will take at least 90mB of memory.
Wow, that is a lot of memory!  My system has X at about 52 MB, but the rest 
of the processes (including kwm) seem to use almost trivial amounts of 
memory -- of course all of these trivial amount do add up.

&gt;Your X seems to be bigger than mine.  If you can find a server more &gt;suited 
&gt;to your card use it.
I have tried XF86_SVGA (3.3.4) and the driver provided by Creative
specifically for the Voodoo Banshee.  Both drivers provided an X server 
using about 52 MB.  Perhaps they are both based on the same driver.

&gt;In addition, when you next rebuild the kernel, do this:
[see original message]
Thank you for the tips, these sound _very_ useful.  When I build a kernel, I 
use make xconfig and select processor type Pentium.  Would this implement 
most of the optimisations which you suggest?

Mark:
&gt;That seems very high.  Ca you provide a "top" screendump?
I have attached some top dumps as well as the output of vmstat after having 
just started X, KDE and Netscape.  The screendumps are from my system when 
using kernel 2.2.12.

Glen:
&gt;Given the huge X size, boot with the VGA16 driver and see
&gt;if the problem goes away.
I tried this at your suggestion, but my VGA16 server is not currently 
working.  It's probably as simple (?) as changing the modelines in 
XF86Config.  Having played around with the SVGA server some more, I 
anticipate that VGA16 will show a great reduction in memory use when 
compared with SVGA.  Suggestions from others in this mail have lead me to 
conclude that my SVGA server is indeed the problem, not Netscape.
I will write again when I get VGA16 working.

&gt;The SVGA driver is new and may have a memory leak.  Memory leaks &gt;usually 
&gt;show themselves by the SIZE reported by `top' increasing over &gt;time, try 
&gt;"top b d 10 | tee fred"
I tried this, but my memory stayed the same.  When I ran it I wasn't doing 
anything very intensive, though.  I tested using 2.2.12.

Martin:
&gt;The usage that X reports includes all mem mapped by X, including the
&gt;video RAM aperture.  You can probably subtract the size of your video
&gt;memory from this figure to get the amount of "core" used.
Does this not mean, however,that X is storing a copy of my video ram in my 
system RAM?  If so, I have 32 MB system RAM, and 16 MB video RAM, this would 
mean that only half of my system RAM is available for everything else.  Why 
would X do this?

&gt;Your ratio seems more than 1:3.
Admittedly 32:256 is not such a good ratio.  Is there any harm in having 
this much virtual RAM, though, other than poor peformance when memory demand 
is extremely high?

Conrad:
&gt;Try isolating the problem by running just the Xserver and a window &gt;manager 
&gt;and see what is reported.  Do you run a graphical login &gt;screen?  That 
&gt;itself wouldn't be the problem but if you don't run one &gt;(I don't) you can 
&gt;boot to just the console and start operations step &gt;by step.
I do usually use kdm, but I disabled this, rebooted and loaded _only_ the X 
server.  Top reported an extra 52 MB gone from just this process.

Thank you all.

Attached are four screendumps from top running on my system, this time
I am running kernel 2.2.12, and I have only just booted up, so the aforesaid 
memory holes may not appear.  Please note that these are just piped straight 
to a file, so there are some screendisplay control codes, and the tables may 
not be formatted correctly.

Yours
Michael Bradley Wardle

-----------------------
English Spelling Reform
-----------------------





______________________________________________________
Get Your Private, Free Email at <A HREF="http://www.hotmail.com">http://www.hotmail.com</A>
<A HREF="531_2.2.12-console">2.2.12-console</A>
<A HREF="531_2.2.12-X">2.2.12-X</A>
<A HREF="531_2.2.12-KDE">2.2.12-KDE</A>
<A HREF="531_2.2.12-netscape">2.2.12-netscape</A>
-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
