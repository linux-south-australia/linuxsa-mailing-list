<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Shell Scripts and variables (WARNING religous war may be imminent)" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="Adrian Butterworth" -->
<!-- ToEmail="adrian@econ-outlook.com.au" -->
<!-- Date="Tue, 17 Aug 1999 11:28:27 +0930 (CST)" -->
<!-- Id="199908170158.LAA68532@atdot.dotat.org" -->
<!-- Reference="99081701352904.07377@groc.econ-outlook.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Shell Scripts and variables (WARNING religous war may be imminent)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Adrian Butterworth &lt;<I><A HREF="mailto:adrian@econ-outlook.com.au">adrian@econ-outlook.com.au</A></I>&gt;
  Date: Tue, 17 Aug 1999 11:28:27 +0930 (CST)
</PRE>
<H1>Re: Shell Scripts and variables (WARNING religous war may be imminent)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Adrian Butterworth wrote:

 &gt; There are things in your message that I disagree with.
 &gt; 1. The $(...) form of command substitution is not inconsistent with
 &gt; the #!/bin/sh, and

It is, because it ain't historical /bin/sh syntax.

 &gt; 2. I don't think scripts should be confined to lowest common
 &gt; denominator syntax other than special cases. 

Like portability, for example -- Which was David's point, after all.

 &gt; There is as you know a standard for portability in the "Unix" world
 &gt; IEEE Std 1003.2 Standard for Information technology -- 
 &gt; Portable Operating Systems Interface (POSIX)
 &gt; Every document on this I have read states the POSIX shell standard
 &gt; for command substitution takes the $() form

That's great, but try making your scripts run on a SunOS 4.1.4 system
(which uses a /bin/sh which predates POSIX 1003.2 ratification) and
you'll be fresh outta luck.

For portability, you use portable syntax.  Very few people really
care about POSIX compliance if it means software won't work on their
system, after all. 

 &gt; Many systems have switched to bash as the default shell 

I think you mean "Linux has switched to bash as the default shell."  I
challenge you to show me *ONE* other UNIX which uses bash by default.
I'm hard pressed to think of one which even ships with bash as part
of the standard distribution!

A quick aside: There was once a syndrome known as "all the world's a
VAX," which caused VAX-isms to creep into software which was written
for other systems.  VAX-isms included the idea that you could
dereference a NULL pointer and get 0, you had an unimaginably huge
virtual address space at your disposal so you never needed to free()
that which you'd malloc()'ed, assumptions about byte-order, and other
architecture-specific bugs.  You were more likely to suffer from this
disorder if you learned to program on a VAX; people who learned on
other architectures understood the pitfalls of making unwarranted
assumptions about the architecture they're using.

VAX programmers didn't seem to care all that much, but the end result
of their myopia was that it was terribly and needlessly difficult to 
port their software to non-VAX architectures and/or non-UNIX operating
systems.

Nobody has really learned since then;  In the late 1990's we see exactly
the same syndrome, except it has been renamed:  "All the world's a Linux
box."

At the end of the day, there's no excuse to use bash-specific features
in a script which begins with "#!/bin/sh".  If you want to use bash
features, begin your script with "#!/bin/bash".

That being said, although most UNIXes definitely don't use bash, 
they are tending towards ksh, which does support $().  The SunOS, IRIX
and Digital UNIX systems I have looked at here have a /bin/sh's which
don't understand $() (and emit error messages like "Variable syntax.").
Solaris, FreeBSD, IRIX 6.5, and other "modern" UNIXes have replaced
/bin/sh with ksh.

    - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
