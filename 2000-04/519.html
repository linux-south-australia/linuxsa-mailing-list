<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Protecting files against power failure" -->
<!-- FromName="Matthew Tippett" -->
<!-- FromEmail="mtippett@ticons.com.au" -->
<!-- ToName="Daryl Tester" -->
<!-- ToEmail="dt@picknowl.com.au" -->
<!-- Date="Fri, 28 Apr 2000 08:42:56 +0930 (CST)" -->
<!-- Id="200004272312.IAA29864@matt.ticons.com.au" -->
<!-- Reference="3908C516.69068A67@picknowl.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Protecting files against power failure</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Tippett &lt;<I><A HREF="mailto:mtippett@ticons.com.au">mtippett@ticons.com.au</A></I>&gt;
  To  : Daryl Tester &lt;<I><A HREF="mailto:dt@picknowl.com.au">dt@picknowl.com.au</A></I>&gt;
  Date: Fri, 28 Apr 2000 08:42:56 +0930 (CST)
</PRE>
<H1>Re: Protecting files against power failure</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; [1] The file is no longer accessible from the Unix file namespace,
&gt;     but as David's demo so eloquently shows, if you still have an
&gt;     open file descriptor to the file you can access its contents.
&gt;     Once the number of links drops to zero (ie, the last descriptor
&gt;     to the deleted file has been closed), the file space is reclaimed.
&gt;     This is the magic of decoupling the name of the file from its inode,
&gt;     and gives us other joyous oddities like hard links.  One day, NTFS
&gt;     may catch up, but don't hold your breath.

Of course, this is why if you have a huge log file, and delete it without
restarting the writing process, the disk space is allocated for slightly
longer than one would expect.  Some reboot to reclaim the space, others just
restart the server :).

It is also the reason for the .nfsxxxx files when using NFS based networks.

Regards,

Matthew

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
