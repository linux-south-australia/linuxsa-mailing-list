<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Smart Redial" -->
<!-- FromName="'David Lloyd'" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="'Ryan Verner'" -->
<!-- ToEmail="vernerr@dove.net.au" -->
<!-- Date="Mon, 30 Oct 2000 19:07:41 +1030" -->
<!-- Id="39FD3355.3A71F07E@rebel.net.au" -->
<!-- Reference="000f01c04245$d797cb80$0201a8c0@festy.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Smart Redial</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : Ryan Verner &lt;<I><A HREF="mailto:vernerr@dove.net.au">vernerr@dove.net.au</A></I>&gt;
  Date: Mon, 30 Oct 2000 19:07:41 +1030
</PRE>
<H1>Re: Smart Redial</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Ryan!

&gt; My account with my ISP basically is unlimited; except I am disconnected
&gt; every 4 hours.

Do you have a link for their terms and conditions page? There are things
that can lurk like:

* if there are no modems we'll disconnect you
* if you appear to be doing nothing we'll disconnect you

&gt; However, for some reason I am sometimes disconnected randomly, in some
&gt; cases, every 2 - 20 minutes.. meaning if I wasn't at the computer at the
&gt; time, I could rack up quite a huge phone bill.  This only happens
&gt; occasionally, but my ISP have assured me it isnt them, that it is my modem,
&gt; setup, or phone line.  (interestingly this never occurs on other ISPs).  I
&gt; have tried 4 modems, a different linux box, and had Telstra look at my line
&gt; several times to no extent.

I know this sounds weird, but if you have a spare box or can dual boot
you could use Windows as soon as you notice this odd behaviour. If it
occurs under Windows then it's probably not the operating system.

&gt; I'd like to setup some kind of rule, so within a 4 hour period, it only
&gt; tries to redial twice.  This "rule" will also need to be easily stopped and
&gt; started from a telnet shell [a bash script maybe.. I really don't know,
&gt; hence why I am asking ;)].

It's really quite easy:

* get cron to run script x every 4 hours
* run it from root
* logic goes:

- get the results of ifconfig
- search to see if ppp+ (0 in your case) is there already
- if it is, do nothing
- if it isn't do an ifup ppp0

&gt; I've tried cron and ifup ppp0, but ifup will disconnect and reconnect me.
&gt; Which defeats the purpose of this in the first place; to minimise phone bill
&gt; costs.

You could use perl, but bash and sed should be able to do what you want
(man pages...).

On a byside, I would be inclined to turn on full logging for one of
these sessions. You may be able to determine which side has turned off
which side. To be perfectly honest, I'd be inclined to say that the ISP
(probably Asia Online aka Dove) is accidentally terminating you, but
that's just a thought.

DL
-- 
Quantus tremor est futurus
Quando judex est venturus
Cuncta strict discusur!

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
