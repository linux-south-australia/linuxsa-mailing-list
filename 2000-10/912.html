<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: kernel" -->
<!-- FromName="Robyn Manning" -->
<!-- FromEmail="robynman@dove.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Fri, 27 Oct 2000 15:13:00 +0930" -->
<!-- Id="39F915E4.7FB19BE2@dove.net.au" -->
<!-- Reference="3.0.1.32.20001026002800.00eb1c0c@rosemary.cs.adelaide.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: kernel</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Robyn Manning &lt;<I><A HREF="mailto:robynman@dove.net.au">robynman@dove.net.au</A></I>&gt;
  To  : <A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A>
  Date: Fri, 27 Oct 2000 15:13:00 +0930
</PRE>
<H1>Re: kernel</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi Alan

This is what I get from gcc -v

Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
gcc version 2.96 20000731 (Red Hat Linux 7.0)
[<A HREF="mailto:root@kanga">root@kanga</A> linux]#   

What do I need to do now?

I've compiled a few kernels but I'm a newbie as far as C is concerned.

Robyn


Alan Kennington wrote:
&gt; 
&gt; On Thu, Oct 26, 2000 at 11:02:12PM +0930, Robyn Manning wrote:
&gt; &gt;
&gt; &gt; I tried updating glibc, is that what I should have done?
&gt; &gt;
&gt; &gt; I'm still getting the same error.
&gt; 
&gt; Robyn,
&gt; 
&gt; Nope. Definitely updating glibc will make not a jot
&gt; of difference.
&gt; The compilation is not even getting as far as linking.
&gt; It's the fact that the .S file assembler code is not
&gt; recognized by the compiler.
&gt; You need to hcange the compiler in some way.
&gt; 
&gt; That fact that the "make" files are telling the
&gt; compiler to run in "-traditional" mode could be
&gt; a factor in this problem.
&gt; I thought the problem could be fixable by setting the right values
&gt; in the kernel configuration, but there's nothing there.
&gt; 
&gt; The /usr/src/linux/Makefile file
&gt; contains these lines:
&gt; 
&gt; -------------------------------------------------------
&gt; .S.s:
&gt;         $(CC) -D__ASSEMBLY__ $(AFLAGS) -traditional -E -o $*.s $&lt;
&gt; .S.o:
&gt;         $(CC) -D__ASSEMBLY__ $(AFLAGS) -traditional -c -o $*.o $&lt;
&gt; -------------------------------------------------------
&gt; 
&gt; So clearly "-traditional" is not an optional extra.
&gt; 
&gt; And CC is defined by:
&gt; 
&gt; -------------------------------------------------------
&gt; CC      =$(CROSS_COMPILE)gcc -D__KERNEL__ -I$(HPATH)
&gt; -------------------------------------------------------
&gt; 
&gt; So clearly it's going to use whatever is in the path as "gcc".
&gt; 
&gt; The command "gcc -v" gives this:
&gt; 
&gt; -------------------------------------------------------
&gt; Reading specs from /usr/lib/gcc-lib/i486-linux/egcs-2.91.66/specs
&gt; gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)
&gt; -------------------------------------------------------
&gt; 
&gt; What does your system give?
&gt; When I tried Linux Mandrake once, the compiler would hardly
&gt; compile anything serious at all.
&gt; I contacted the Mandrake development people, and they told me I had
&gt; to download a special development package.
&gt; Maybe something similar is happening here.
&gt; 
&gt; My guess is that as someone else commented, you need to get a better
&gt; C compiler.
&gt; 
&gt; Cheers,
&gt; Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
