<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Perplexing Problem With ETH0" -->
<!-- FromName="Tarek Heiland" -->
<!-- FromEmail="tarek@bakas.com.au" -->
<!-- ToName="'Adam Hawes'" <adam_hawes@dingoblue.net.au>, Linux SA" -->
<!-- ToEmail="adam_hawes@dingoblue.net.au" -->
<!-- Date="Mon, 2 Oct 2000 15:45:56 +0930" -->
<!-- Id="55FC8B9A5F40D3119B460090278A30311F56F8@ADELAIDENEW1" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Perplexing Problem With ETH0</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Tarek Heiland &lt;<I><A HREF="mailto:tarek@bakas.com.au">tarek@bakas.com.au</A></I>&gt;
  To  : 'Adam Hawes'" &lt;adam_hawes@dingoblue.net.au&gt;, Linux SA &lt;<I><A HREF="mailto:adam_hawes@dingoblue.net.au">adam_hawes@dingoblue.net.au</A></I>&gt;
  Date: Mon, 2 Oct 2000 15:45:56 +0930
</PRE>
<H1>RE: Perplexing Problem With ETH0</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Your comment about SAMBA is interesting. I found the opposite - Talking to
SAMBA actually improved by zillions when I went from 98 to 2K. I get
fantastic response through SAMBA now, whilst under 98 I had regularly to
wait and even reboot to regain access to lost resources. 

I have seen an eth interface cause such messages and worse cause kernel
panics. However in that case I was using a very recent NIC controller
chipset, and I even had to resort to modifying the drivers that came with it
to work at all. Later drivers fixed it outright.

I would suggest tring a another NIC to determine whether it is the hardware.
If you have another 3c509 even better as then you can retain the same
driver. Interrupt calls will be made the hardware and handled by the driver
so your infernal loop will most likely be caused by one or the other. It may
well be triggered by other software, the kernel, or certain combinations of
events , however at the firing line the driver must be able to handle all
conditions presented. (I doubt it will be the 3c509 driver which has well
and truly been hammered by lots of people :) )

I believe I may have some Etherlink III 3c509's still around. (I think one
is TP the other Thin Ethernet if I remember correctly - the TP one is a
definite and as you have a hub this one is the one you would want anyways.)

Tarek

-----Original Message-----
From: Adam Hawes [<A HREF="mailto:adam_hawes">mailto:adam_hawes</A>@dingoblue.net.au]
Sent: Friday, 29 September 2000 20:51 
To: Linux SA
Subject: Perplexing Problem With ETH0


Hi all.  Below is a cutout from my system log.  What I wish to bring to your
attention is the second-last line (Infinite loop). After the infinite loop
line, the Ethernet interface is USELESS.  Actually, the kernel appears to
shut down the card (the
active light for yoda goes out on my hub).  Logging in locally at the
terminal and restarting the eth0 interface will not cure the problem.  The
syslog says that the interface has been restarted but the light for yoda on
the hub stays out, and the other
computers cannot access it.

I have had no trouble with the system until just recently.  It has been
running for nearly 12 months and the only failures have been for power
outages.  The server is RH6.1.  Kernel is version 2.2.5-22 that shipped with
RH6.1.  There are two things that I
think might be wrong.  Recently Win2kPro was installed on one of the boxes.
Win2k is a pig, as it refuses to talk nicely to the Samba server and when
the Win2k box is on network traffic is high as the Win2k bix insists on
being master browser.

I run NFS, Samba, IP-Masq, DNS and a few other small things (seti, etc).

The other thing is that I installed autofs on my other Linux box to mount
the NFS exports from yoda automatically when I change to
/exports/yoda/&lt;certain directory&gt;.  This appears to work well however, and I
cannot see it being the cause of the problem.

Any help in sorting the problem would be useful, as I do not want to have to
reinstall the software on the server.  Actually, reinstalling is not an
option as the floppy controller in the machine is most excellently cooked
and will not let you use floppy
disks at all.  The bios does not support booting from CD-ROMS either, so if
reinstalling is the only option then I will need to get another box!

Thanks for all your help in advance,
Adam

-------------------------------------------


Sep 28 23:37:52 yoda kernel: eth0: 3c509 at 0x340 tag 1, 10baseT port,
address  00 60 8c 39 be 99, IRQ 10. 
Sep 28 23:37:52 yoda kernel: eth0: Setting Rx mode to 1 addresses. 
Sep 28 23:37:46 yoda network: Bringing up interface eth0 succeeded 
Sep 28 23:37:57 yoda named[345]: listening on [192.168.1.1].53 (eth0)
Sep 28 23:38:25 yoda local: I10/P11:          22          XT-PIC  eth0
Sep 28 23:38:50 yoda kernel: eth0: Infinite loop in interrupt, status ffff. 
Sep 28 23:39:43 yoda network: Shutting down interface eth0 succeeded
Sep 28 23:46:51 yoda kernel: eth0: 3c509 at 0x340 tag 1, 10baseT port,
address  00 60 8c 39 be 99, IRQ 10. 
Sep 28 23:46:51 yoda kernel: eth0: Setting Rx mode to 1 addresses. 
Sep 28 23:46:45 yoda network: Bringing up interface eth0 succeeded 
Sep 28 23:46:56 yoda named[345]: listening on [192.168.1.1].53 (eth0)

------------------------------------------------
-- 
Adam Hawes

Web:       <A HREF="http://overfiend.iwarp.com">http://overfiend.iwarp.com</A>
Email:     <A HREF="mailto:adam_hawes@dingoblue.com.au">adam_hawes@dingoblue.com.au</A>
ICQ:       2492016

Voicemail: +61 (08) 8219-3238
Fax:       +61 (08) 8219-3238

-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GAT dpu s+: a-- C++++ UL++ P+ L+++ E W- N+++ o+ K- w--- 
O- M V-- PS+ PE Y++ PGP++ t 5- X+++ R* tv b+ DI+ D---- 
G e* h! r--- y** 
------END GEEK CODE BLOCK------

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
