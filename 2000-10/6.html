<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: diagnosing packet loss..." -->
<!-- FromName="Dan Kortschak" -->
<!-- FromEmail="dan.kortschak@adelaide.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="David Drury <idavid@smug.adelaide.edu.au>, linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 01 Oct 2000 12:27:37 +0930" -->
<!-- Id="39D6A821.A527564B@adelaide.edu.au" -->
<!-- Reference="200009300746.e8U7kTI26314@mulder.smug.adelaide.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: diagnosing packet loss...</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Dan Kortschak &lt;<I><A HREF="mailto:dan.kortschak@adelaide.edu.au">dan.kortschak@adelaide.edu.au</A></I>&gt;
  To  : <A HREF="mailto:David Drury <idavid@smug.adelaide.edu.au>">David Drury <idavid@smug.adelaide.edu.au></A>, <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Sun, 01 Oct 2000 12:27:37 +0930
</PRE>
<H1>Re: diagnosing packet loss...</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi David,
	this is happening through the new modem pool, the old pool was fine and I have
no problems if I use a friend's Flinders dial-up account (19K but still faster
than the Adelaide 56K lines at some times). The problem with slow traffic can be
sporadic but is always bad with telnet. (I have just downloaded traceroute and
ping for MacOS so I'll see what they say when I reboot - I'll let you know).

thanks
Dan Kortschak

in linux -
tracerout says:
traceroute to bloodwood.adelaide.edu.au (129.127.222.32), 30 hops max, 38 byte
packets
 1  * 129.127.41.254 (129.127.41.254)  269.502 ms *
 2  bloodwood (129.127.222.32)  260.986 ms *  109.398 ms

traceroute to pene.science.adelaide.edu.au (129.127.85.2), 30 hops max, 38 byte
packets
 1  * 129.127.41.254 (129.127.41.254)  180.103 ms *
 2  pene.science.adelaide.edu.au (129.127.85.2)  159.994 ms *  110.049 ms

I think this looks OK.


ping says:
PING pene.science.adelaide.edu.au (129.127.85.2) from 129.127.41.7 : 56(84)
bytes of data.
64 bytes from 129.127.85.2: icmp_seq=1 ttl=63 time=120.0 ms
64 bytes from 129.127.85.2: icmp_seq=3 ttl=63 time=110.0 ms
64 bytes from 129.127.85.2: icmp_seq=5 ttl=63 time=110.8 ms
64 bytes from 129.127.85.2: icmp_seq=7 ttl=63 time=109.9 ms
64 bytes from 129.127.85.2: icmp_seq=9 ttl=63 time=110.3 ms
64 bytes from 129.127.85.2: icmp_seq=11 ttl=63 time=109.4 ms
64 bytes from 129.127.85.2: icmp_seq=13 ttl=63 time=100.0 ms
64 bytes from 129.127.85.2: icmp_seq=15 ttl=63 time=99.7 ms
64 bytes from 129.127.85.2: icmp_seq=17 ttl=63 time=100.0 ms

[snip]

64 bytes from 129.127.85.2: icmp_seq=140 ttl=63 time=110.0 ms
64 bytes from 129.127.85.2: icmp_seq=141 ttl=63 time=100.0 ms
64 bytes from 129.127.85.2: icmp_seq=142 ttl=63 time=100.0 ms
64 bytes from 129.127.85.2: icmp_seq=143 ttl=63 time=100.0 ms
64 bytes from 129.127.85.2: icmp_seq=144 ttl=63 time=110.0 ms
64 bytes from 129.127.85.2: icmp_seq=145 ttl=63 time=100.0 ms
64 bytes from 129.127.85.2: icmp_seq=146 ttl=63 time=100.0 ms
64 bytes from 129.127.85.2: icmp_seq=147 ttl=63 time=100.0 ms

--- pene.science.adelaide.edu.au ping statistics ---
148 packets transmitted, 100 packets received, 32% packet loss
round-trip min/avg/max = 99.7/102.0/160.0 ms

PING bloodwood.adelaide.edu.au (129.127.222.32) from 129.127.41.34 : 56(84)
bytes of data.
64 bytes from 129.127.222.32: icmp_seq=1 ttl=254 time=140.0 ms
64 bytes from 129.127.222.32: icmp_seq=3 ttl=254 time=120.0 ms
64 bytes from 129.127.222.32: icmp_seq=5 ttl=254 time=110.1 ms
64 bytes from 129.127.222.32: icmp_seq=7 ttl=254 time=110.1 ms
64 bytes from 129.127.222.32: icmp_seq=9 ttl=254 time=110.0 ms
64 bytes from 129.127.222.32: icmp_seq=11 ttl=254 time=100.0 ms
64 bytes from 129.127.222.32: icmp_seq=13 ttl=254 time=99.9 ms

[snip]

64 bytes from 129.127.222.32: icmp_seq=144 ttl=254 time=100.0 ms
64 bytes from 129.127.222.32: icmp_seq=145 ttl=254 time=130.0 ms
64 bytes from 129.127.222.32: icmp_seq=148 ttl=254 time=17860.1 ms
64 bytes from 129.127.222.32: icmp_seq=149 ttl=254 time=15130.0 ms
64 bytes from 129.127.222.32: icmp_seq=150 ttl=254 time=12340.0 ms
64 bytes from 129.127.222.32: icmp_seq=151 ttl=254 time=9550.1 ms

--- bloodwood.adelaide.edu.au ping statistics ---
155 packets transmitted, 100 packets received, 35% packet loss
round-trip min/avg/max = 98.8/652.7/17860.1 ms


PING 129.127.41.254 (129.127.41.254) from 129.127.41.32 : 56(84) bytes of data.
64 bytes from 129.127.41.254: icmp_seq=0 ttl=255 time=200.3 ms
64 bytes from 129.127.41.254: icmp_seq=2 ttl=255 time=120.0 ms
64 bytes from 129.127.41.254: icmp_seq=4 ttl=255 time=120.0 ms
64 bytes from 129.127.41.254: icmp_seq=6 ttl=255 time=110.0 ms
64 bytes from 129.127.41.254: icmp_seq=8 ttl=255 time=110.0 ms
64 bytes from 129.127.41.254: icmp_seq=10 ttl=255 time=110.0 ms
64 bytes from 129.127.41.254: icmp_seq=11 ttl=255 time=110.1 ms
64 bytes from 129.127.41.254: icmp_seq=13 ttl=255 time=100.0 ms

[snip]

64 bytes from 129.127.41.254: icmp_seq=142 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=143 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=144 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=145 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=146 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=147 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=148 ttl=255 time=100.0 ms
64 bytes from 129.127.41.254: icmp_seq=149 ttl=255 time=100.0 ms

--- 129.127.41.254 ping statistics ---
150 packets transmitted, 100 packets received, 33% packet loss
round-trip min/avg/max = 99.0/102.9/200.3 ms

The loss appears to be happening at the first hop judging by the ping output,
but...

ifconfig says no packets are being dropped (am I reading this right?):
ppp0      Link encap:Point-to-Point Protocol  
          inet addr:129.127.41.32  P-t-P:129.127.41.61  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1704  Metric:1
          RX packets:673 errors:0 dropped:0 overruns:0 frame:0
          TX packets:925 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10 

David Drury wrote:
&gt; 
&gt; Hi,
&gt; 
&gt; &gt; Hi, I'm experiencing a significant reduction in data rate through my
&gt; &gt; modem. I think this is a result of packet loss (I'm losing ~30-50% of
&gt; &gt; packets to local network hosts at the university network - I can't test
&gt; &gt; what kind of loss I would get within the network between machines
&gt; &gt; excluding mine so I can't give a comparison here). The slow traffic rate
&gt; &gt; only occurs only under linux (I have a dual boot MacOS/Linux box) so the
&gt; &gt; hardware seems to be working. To give an idea of how slow things are
&gt; &gt; going, it can take a few minutes to get a cli command entered and
&gt; &gt; submitted in a telnet session under linux (frustrating as you can
&gt; &gt; imagine). I'm afraid I don't know where to start looking; can anyone
&gt; &gt; point me to areas that might be worth looking at? My system is a PPC Red
&gt; &gt; Hat port (Yellowdog)&gt;
&gt; 
&gt; Is this with the new or the old modem pool ?
&gt; What does a tracerout tell you about the hops it makes ?
&gt; What does a ping to each of the points along the traceroute say about
&gt; responce times/packet loss. Compare this to the MacOS version of the same
&gt; programs.
&gt; 
&gt; cya
&gt; 
&gt; --
&gt; David Drury
&gt;    _______________________________________
&gt;    \ <A HREF="mailto:iddrury@teaching.cs.adelaide.edu.au">iddrury@teaching.cs.adelaide.edu.au</A>  \
&gt;     \    <A HREF="mailto:idavid@smug.adelaide.edu.au">idavid@smug.adelaide.edu.au</A>       \                __________ |
&gt;      \     Adelaide University Union        \        / \___-=O`/|O`/___|
&gt;       \        IT Co-ordinator.              \_______\        / | /     )
&gt;       /    Student Machine User Group        /      `/-==__ _/__|/__=--|
&gt;      /       Systems Administrator.         /         *      \  |      |
&gt;     /   "Cogito cogito ergo cogito sum."   /                  (o)
&gt;    /______________________________________/

-- 
_____________________________________________________________   .`.`o     
                                                         o| ,\__ `./`r
  Dan Kortschak                                          &lt;\/    \_O&gt; O    
  Genetics (DMB)          phone :+61 8 8303 4863          "|`...'.\
  Adelaide University     fax   :+61 8 8303 4399           `      :\ 
  Australia 5005          <A HREF="mailto:dan.kortschak">mailto:dan.kortschak</A>@adelaide.edu.au    : \

Employer required disclamier (sorry for the bandwidth):
If you were not sent this message, please forget it. If you were, be
aware that we don't guarantee it free of virus; the health of your
system is your own responsibility, do what you feel is necessary.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
