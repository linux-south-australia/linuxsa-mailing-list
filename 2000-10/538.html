<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Does GNU cp -a do any error checking as it copies?" -->
<!-- FromName="" -->
<!-- FromEmail="michaeld@senet.com.au" -->
<!-- ToName="rrussell@deh.sa.gov.au, "'michaeld@senet.com.au'" <michaeld@senet.com.au>, "'David Newall'" <davidn@rebel.net.au>, Linux SA" -->
<!-- ToEmail="michaeld@senet.com.au" -->
<!-- Date="Mon, 16 Oct 2000 07:21:52 GMT" -->
<!-- Id="200010160721.QAA23214@pluto.senet.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Does GNU cp -a do any error checking as it copies?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: <A HREF="mailto:michaeld@senet.com.au">michaeld@senet.com.au</A>
  To  : rrussell@deh.sa.gov.au, "'michaeld@senet.com.au'" <michaeld@senet.com.au>, "'David Newall'" <davidn@rebel.net.au>, Linux SA &lt;<I><A HREF="mailto:michaeld@senet.com.au">michaeld@senet.com.au</A></I>&gt;
  Date: Mon, 16 Oct 2000 07:21:52 GMT
</PRE>
<H1>RE: Does GNU cp -a do any error checking as it copies?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Richard Russell wrote:
&gt; &gt;The whole idea of a cryptographic hash (ie MD5, SHA-1, or 
&gt; &gt;nowadays SHA-256 even)
&gt; &gt;is to verify that a chunk of data has not changed by comparing 
&gt; &gt;pre- and post-
&gt; &gt;hashes.  In our case, performing a hash of all the data (tar 
&gt; &gt;it up) prior to
&gt; &gt;copying and obtaining the same hash afterwards _guarrentees_ 
&gt; &gt;that all data was
&gt; &gt;copied correctly[1].
&gt; 
&gt; no it doesn't. It gives you extraordinarily high probability that all data
&gt; was copie correctly. 

Cryptographers have been trying to crack MD5 and SHA ever since they were
proposed.  SHA especially is considered unbeatable.  Sure, it's not 100%, but's
it's more likely that you'll be hit by a meteor in the shower tomorrow morning
than a SHA digest not detecting errors.  It's simply not going to happen.

&gt;                      David also has a ood point about the caching issue --
&gt; what if i copy to disk, it goes to the cache correctly, but gets written to
&gt; disk incorrectly. Running any hash will tell you that the cache is correct,
&gt; but when the cache is flushed, the data will be wrong. 

So sync first.  Reboot your boxen.  Generate a hash between your cache and your
disk writes.  All this shows is an error in the _procedure_ for verification,
not in the verification technique itself.

&gt; Also, it is _possible_ (with _EXTREMELY_ low probability) that there were
&gt; errors all over the place, and something completely different was
&gt; transmitted, maybe with errors in the checksum, and it's valid. It is simply
&gt; NOT POSSIBLE to garantee that two items of data are the same. It's all about
&gt; probabilities (and yes, for almost any practical purpose imaginable, md5sums
&gt; give probability close enough to 100% to be thought of as 100%, but it's
&gt; still not 100%, no matter what you do).

This is theory, not practice.  MD5 has been with us 9 years, which is an
eternity.  Severe computing resources have been thrown at detecting collisions
with no success.  Seriously, if you can come up with two sets of data that
generate the same hash, using either MD5 or SHA, you'll not only be world
famous, but you'll be able to fraudulently obtain large amounts of cash from the
financial systems of the world.

Theoretically speaking there is always the possibility.  In practice you can
ALWAYS ignore that chance.

I think our positions are converging.

-- 
Michael Davies                "Do what you think is interesting, do
<A HREF="mailto:michaeld@senet.com.au">michaeld@senet.com.au</A>          something that you think is fun and
users.senet.com.au/~michaeld   worthwhile, because otherwise you won't
                               do it well anyway." -- Brian Kernighan


-------------------------------------------
This message was sent using SE Net Webmail.
<A HREF="http://webmail.senet.com.au/">http://webmail.senet.com.au/</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
