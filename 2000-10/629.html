<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Followup to C library calls on Linux" -->
<!-- FromName="Glen Turner" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Thu, 19 Oct 2000 17:58:49 +0930" -->
<!-- Id="39EEB0C1.DD6CA390@aarnet.edu.au" -->
<!-- Reference="39EE7664.DF2CE909@senet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Followup to C library calls on Linux</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : <A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A>
  Date: Thu, 19 Oct 2000 17:58:49 +0930
</PRE>
<H1>Re: Followup to C library calls on Linux</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Alan Kennington wrote:
&gt; 
&gt; Right from the very beginning, it was assumed that you could
&gt; use 16 and 32 bit ints as arguments, and that all floating point
&gt; was sent as 64-bit double float, and that you could send
&gt; whole structs on the stack.

Bugger, it's all come back to me in a flash and you're right.

The assumption was that all parameters were word-aligned, but
the return value had to be word sized (so that the caller
could blindly stack the items, as you suggested).

That's why you could pass a struct but couldn't return one.

And, of course, if you stuffed the parameters or their types,
then the program would SEGV with a stack out of bounds if you
were lucky, rather than returning a compile error as happens
with prototypes.


[massive aside follows]

&gt; I think that 32-bit machine were still a novelty when
&gt; ANSI was starting to be worked on.

Depends upon the world you lived in.  Sun, Apollo were
32-bit 68000 machines with virtual memory, although access
to them was predominately through terminals or from PCs
on thin ethernet if you were lucky.  The MicroVAX was out.
The IBM PC/AT was out, with 16-bit 80286 with real memory
and the start of the bizaare "near"/"far" addressing.
Whitesmiths and Microsoft were the major compilers for DOS,
cc and pcc for UNIX.  VMS was still the best environment.

C was still a novelty outside of the UNIX world, Turbo Pascal
ruled and was heaps easier to use.  The year before I had
been typing COBOL on a 3270 terminal, submitting the compile
to a batch compile queue, logging off, and collecting the
printout of my compile from the printery.  I'd then carefully
mark up the changes and try to do it again.  Login time, CPU
use, I/O use and print lines were limited.  A single program that
infinitely looped would usually use most of your CPU and
print lines for the semester and would usually lead to you
failing.  I passed with 1 print lines remaining, and I still
feel lucky about that.

About two years later I worked for a government department
that whilst it had a login time limit of an hour a day, had
no CPU or print lines limits.  I thought I was in heaven.

-- 
 Glen Turner                                 Network Engineer
 (08) 8303 3936      Australian Academic and Research Network
 <A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>          <A HREF="http://www.aarnet.edu.au/">http://www.aarnet.edu.au/</A>
--
 The revolution will not be televised, it will be digitised

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
