<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Getting lilo to work" -->
<!-- FromName="Mark Phillips" -->
<!-- FromEmail="mark@ist.flinders.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 16 Oct 2000 17:03:48 +0930 (CST)" -->
<!-- Id="Pine.GSO.4.10.10010161615310.29447-100000@kurango" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Getting lilo to work</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Phillips &lt;<I><A HREF="mailto:mark@ist.flinders.edu.au">mark@ist.flinders.edu.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Mon, 16 Oct 2000 17:03:48 +0930 (CST)
</PRE>
<H1>Getting lilo to work</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
My computer is currently in an unusable state.  I am borrowing my Dad's
computer to write this!


The story in summary form:

1. Purchased a new 15Gig IBM ATA/100 hard drive.  Hooked it up as
1st drive.  BIOS detects okay.

2. fdisk complains that there is no known partition table on it.  I get
fdisk to create one, as well as partitions, and write to disk.  All is
well again.

3. Many trials and tribulations later I get Debian Linux successfully
installed on new drive.  Created boot floppy for it which successfully
booted it several times.

4. I actually wanted the new drive as the third disk, so I swapped disks
and cables around.  Got BIOS to re-detect the drives, which it did okay.

5. Used Debian rescue disk to boot.  I hoped to use the rescue disk to
run lilo from in order to make the new drive bootable again.  But lilo
failed.  The rescue disk seems to use the lilo executable on the IBM
drive, and this failed.  It gave the error message:
  /target/sbin/lilo: /lib/ld-linux.so.2: version `GLIBC_2.2' 
  not found (required by /target/lib/libc.so.6)
I'm not sure what the problem is here.  It could be because on the IBM
drive installation (/target) I upgraded a few packages to woody.  I could
be because /target did not have mounted /usr or /var (and I can't mount
them without the 2.4 kernel).  Anyway, whatever the reason, I can't get
lilo to work so I can't boot the partition.  I can't even use a
commandline option to boot from the rescue disk with /dev/hdc1 as root,
because again, I need my custom 2.4 kernel so I can get LVM and ReiserFS
stuff so that /usr and /var will be mounted.

6. I swapped cables around so that my new IBM drive became the first drive
again, and got the BIOS to re-detect the disks.  This way I hoped to use
my custom boot disk for booting the new drive, which I created when it was
/dev/hda.  The kernel started booting okay with this, but it couldn't find
a partition table on the IBM drive!  "Unknown partition table" the kernel
complained.  This is the same problem it had at the very beginning of this
story.  I am not about to use fdisk to recreate a partition table and wipe
my disk.

7.  I swapped the cables over again a few times and it seems the partition
table is readable when I make the new drive /dev/hdc but unreadable when I
make it  /dev/hda.

So that it the current state of play.  I can't think what the problem is
with the partition table being unreadable.  I suspect it might be some
problem with the motherboard.  In which case the best thing to do is to
stick with /dev/hdc.  But how can I get it bootable as this?  How can I
get a lilo which will work and set up the boot sector properly?

Thanks,

Mark.

_/~~~~~~~~___/~~~~~~____________________________________________________
____/~~_____/~~__/~~__________________________Mark_Phillips____________
____/~~_____/~~<A HREF="mailto:________________________________mark@ist.flinders.edu.au_">________________________________mark@ist.flinders.edu.au_</A>
____/~~\HE___/~~__/~~\APTAIN_____________________________________________
____/~~______/~~~~~~____________________________________________________
__________________________________________________________________________
        "They told me I was gullible ... and I believed them!" 


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
