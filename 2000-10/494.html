<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Discovering RCS" -->
<!-- FromName="michael" -->
<!-- FromEmail="michael@home.lyppard.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 14 Oct 2000 11:57:35 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.10.10010141109090.26517-100000@sandwich.home.lyppard.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Discovering RCS</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: michael &lt;<I><A HREF="mailto:michael@home.lyppard.com.au">michael@home.lyppard.com.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Sat, 14 Oct 2000 11:57:35 +0930 (CST)
</PRE>
<H1>Discovering RCS</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi.

I had the unfortunate experience the other day of accidentally trashing a
perfectly good config file whilst attempting to make a minor change. I am
aware that the revision control system that is used to control versioning
in program development can be used for the same ends in configuration
files on the system, so I decided to do a bit of exploring. Here is what I
found, and I have some questions for any RCS guru's out there.

The RCS system seems to revolve (for me, anyway)  around two commands - ci
'Check in' and co 'Check out'

With a bit of experimentation, I found that I could check a file 'in'
quite easily by using 'ci -l filename', which created a RCS file in the
same directory called filename,v thus:

[<A HREF="mailto:michael@celery">michael@celery</A> michael]$ ci -l filename
RCS/filename,v  &lt;--  filename
enter description, terminated with single '.' or end of <A HREF="file:">file:</A>
NOTE: This is NOT the log message!
&gt;&gt; 

at those 2 '&gt;&gt;', I have the opportunity of describing the file or purpose
in adding it to rcs. ctrl-d or a '.' on it's own line completes the
submission, and the rcs system assigns a default version number of 1.1 to
the file.

If I accidentally trash the file, I can 'Check' it out of rcs thus:

[<A HREF="mailto:michael@celery">michael@celery</A> michael]$ co filename
RCS/filename,v  --&gt;  filename
revision 1.1
done

And it magically re-appears, exactly as it was before deletion.

Another great feature is when experimenting with changes to a file - You
know, tinkering with a config such that after a few tries, it looks
nothing like the original, and you may have forgotton how to get back to a
'sane' version that you know works.

At each revision that still works, you can check it in:

After you change filename (use vi or whatever. I prefer to use pico - I
get the job done while the others are arguing about which is better
&lt;grin&gt;)

Then check it in again: 

 ci -l filename
RCS/filename,v  &lt;--  filename
new revision: 1.2; previous revision: 1.1

then, I have the luxury of being able to get any of the rcs stored
versions back into the running system:

 co -r1.1 filename
RCS/filename,v  --&gt;  filename
revision 1.1
done

 co -r1.2 filename
RCS/filename,v  --&gt;  filename
revision 1.2
done

So, now I have some usable knowledge on this rcs thing. It's neat, and
clearly way more powerful than I will ever need for maintaining the odd
system config files.

Questions:

How do I set up rcs or my environment so that I create a central store for
the rcs files? At the moment, they are stored in the same directory, or
the RCS directory in that directory, if the RCS directory exists. That's
ok, but I have to create a RCS/ in any directory I want to use rcs in. It
would be neat to have them all in one place - I could tar the whole lot up
and keep them on another machine for backup.

When I co a file from rcs, it is set to Mode: (0444/-r--r--r--), which
means that I need to chmod it before being able to edit it. What should I
be doing here? Ideally, it should retain the original file's mode, to
protect against errors by some processes that expect a particular set of
permissions on their files.

Thanks,

Michael

ps. I didn't need to install anything on my RedHat 6.1 system. It seems
rcs is installed by default - probably with the development stuff.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
