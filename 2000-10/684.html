<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: change groups" -->
<!-- FromName="Jason Tan" -->
<!-- FromEmail="jason@rebel.rebel.net.au" -->
<!-- ToName="Kevin Waterson" -->
<!-- ToEmail="kevin@oceania.net" -->
<!-- Date="Fri, 20 Oct 2000 17:31:05 +0930 (CST)" -->
<!-- Id="Pine.LNX.3.95.1001020171601.10220F-100000@rebel.rebel.net.au" -->
<!-- Reference="39EFDEEC.D52205F1@oceania.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: change groups</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jason Tan &lt;<I><A HREF="mailto:jason@rebel.rebel.net.au">jason@rebel.rebel.net.au</A></I>&gt;
  To  : Kevin Waterson &lt;<I><A HREF="mailto:kevin@oceania.net">kevin@oceania.net</A></I>&gt;
  Date: Fri, 20 Oct 2000 17:31:05 +0930 (CST)
</PRE>
<H1>Re: change groups</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Someosrt of script I persoanlly woudl use perl.

Assuming they all have group ids in a certain range eg all over 100 or
all over 500 then you just go through the passwd file and write any grp
 in your range to be whatever you want it to be. 

I would probably do this and actually put my output into a duplicate file,
and when it ws all odoen and I was happy I woudl rename the duplicate,
and remove the original.

Something like:

#!/usr/bin/perl


$newgid=500;

open (F,"+&lt;/etc/passwd") or die "Can't open passwd $!";
open (O,"+&gt;/root/outfile") or die "Can't open output <A HREF="file:">file:</A>$!";
while(&lt;F&gt;)
{
        ($username,$passwd,$uid,$gid,$gecos,$home,$shell)=split/:/;

        if($gid&gt;100)
        {
                $gid=dwi$newgid;
        }

        print O "$username:$passwd:$uid:$gid:$gecos:$home:$shell";
}




This probably won't work straight off, I haven't tried it, but hopefully
will be enough to give you the idea.

I am sure you can do the same thing in awk, python or some other scripting
language of choice.

Hope this helps.

jason

 On Fri, 20 Oct 2000, Kevin Waterson wrote:

&gt; I have a list of 1500 users and I wish to
&gt; change their groups to a single group.
&gt; 
&gt; how do I best do this?
&gt; 
&gt; -- 
&gt; Kind regards
&gt; 
&gt; Kevin Waterson
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 

--
------------------------------------------------------------------------------
Jason Tan                                                <A HREF="mailto:jason@rebel.net.au">jason@rebel.net.au</A>
         Some people have a way about them that seems to say: "If I have
              only one life to live, let me live it as a jerk."
				           -/usr/games/fortune
------------------------------------------------------------------------------

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
