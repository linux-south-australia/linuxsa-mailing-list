<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Followup to C library calls on Linux" -->
<!-- FromName="Alan Kennington" -->
<!-- FromEmail="akenning@dog.topology.org" -->
<!-- ToName="Glen Turner" -->
<!-- ToEmail="glen.turner@aarnet.edu.au" -->
<!-- Date="Thu, 19 Oct 2000 16:12:14 +0930" -->
<!-- Id="20001019161214.A23640@dog.topology.org" -->
<!-- Reference="39EE9409.51C5F05B@aarnet.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Followup to C library calls on Linux</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  To  : Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  Date: Thu, 19 Oct 2000 16:12:14 +0930
</PRE>
<H1>Re: Followup to C library calls on Linux</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, Oct 19, 2000 at 03:56:17PM +0930, Glen Turner wrote:
&gt; Paul Malcolm Bailey wrote:
&gt; &gt; 
&gt; &gt; Now, I understand that the functions strcpy() and strlen() require me to
&gt; &gt; have the string.h header files for compilation to work.
&gt; 
&gt; This isn't strictly true.  Prototypes were an enhancement to the
&gt; language added in ANSI C.  Before then, an undeclared function
&gt; was assumed to have the prototype:
&gt; 
&gt;   int function(int, int, ...)
&gt; 
&gt; Thinking about it in assembler terms on a 32 bit machine, this means
&gt; that the caller assumed all the arguments were word (32 bit) items
&gt; and placed them onto the stack.  The function was then called.  The
&gt; function was assumed to have placed a word on the stack before it
&gt; would exit.

Glen,

I'm fairly certain that this is false, although harmlessly so.

Right from the very beginning, it was assumed that you could
use 16 and 32 bit ints as arguments, and that all floating point
was sent as 64-bit double float, and that you could send
whole structs on the stack.

All that _was_ assumed was that the calling and called routines
would have the same idea about what the types and ordering of
arguments were.
I.e. no assumptions were made by the compiler at all.
I think that 32-bit machine were still a novelty when
ANSI was starting to be worked on.

Of course, as in all things, I could be wrong.

Cheers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
