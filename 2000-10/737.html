<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IP Accounting" -->
<!-- FromName="Matthew Geddes" -->
<!-- FromEmail="mgeddes@xavier.sa.edu.au" -->
<!-- ToName="Damien Wilson" -->
<!-- ToEmail="dwilson@ep.com.au" -->
<!-- Date="Mon, 23 Oct 2000 13:42:51 +0930" -->
<!-- Id="39F3BAC3.1AF13F3D@xavier.sa.edu.au" -->
<!-- Reference="61A91C710062D41187740080C8FE25E001199D@ws1-n0.hq.ep.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IP Accounting</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@xavier.sa.edu.au">mgeddes@xavier.sa.edu.au</A></I>&gt;
  To  : Damien Wilson &lt;<I><A HREF="mailto:dwilson@ep.com.au">dwilson@ep.com.au</A></I>&gt;
  Date: Mon, 23 Oct 2000 13:42:51 +0930
</PRE>
<H1>Re: IP Accounting</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Damien Wilson wrote:
&gt; 
&gt; Hi guys and girls...
&gt; 
&gt; I have a client that would like to do accounting for the internet time of
&gt; their clients.
&gt; 
&gt; I was wondering what the easiest way of doing this is?
&gt; 
&gt; Quick summary of clients network:
&gt; 
&gt;                 Internet
&gt;                     |
&gt;                     |
&gt;   Proprietry router/mail server/web server
&gt;           (absolutley useless)
&gt;                     |
&gt;                     | &lt;-- Accounting server here?

Assuming you can't replace the router with a Linux box, I would assign
the router's ethernet IP address to the Accounting server, Configure
both the router's ethernet interface and the Accounting server's second
interface to have a private IP address that is on a different subnet to
everything else, but both on the same subnet. Turn on IP forwarding on
the Accounting box, configure the default gateway of both the router's
ethernet interface and the accounting server to point to each other.
Finally, configure your accounting chains on the Linux box.

You can use just a crossover cable between the router and the Accounting
box (a good idea). You'd use ipchains to configure the accounting chains
based on source IP address and you could add rules to block certain
traffic, etc, etc...

Hope it helps,
Matt

-- 

Matthew Geddes
Network Manager
Xavier College
Gawler, SA

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
