<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Does GNU "cp -a" do any error checking as it copies?" -->
<!-- FromName="Daryl Tester" -->
<!-- FromEmail="dt@picknowl.com.au" -->
<!-- ToName="Mark Phillips" -->
<!-- ToEmail="mark@ist.flinders.edu.au" -->
<!-- Date="Fri, 13 Oct 2000 19:43:59 +0930" -->
<!-- Id="39E6E067.F2A1F8E7@picknowl.com.au" -->
<!-- Reference="20001013115413.N413@destiny.ist.flinders.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Does GNU "cp -a" do any error checking as it copies?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:dt@picknowl.com.au">dt@picknowl.com.au</A></I>&gt;
  To  : Mark Phillips &lt;<I><A HREF="mailto:mark@ist.flinders.edu.au">mark@ist.flinders.edu.au</A></I>&gt;
  Date: Fri, 13 Oct 2000 19:43:59 +0930
</PRE>
<H1>Re: Does GNU "cp -a" do any error checking as it copies?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Mark Phillips wrote:

&gt; But surely at disk I/O driver or hardware level, only a certain amount
&gt; of integrity checking can be done?

Perhaps, but you're not gaining that much by having cp do a verify after
write either.  Take your first suggestion (I think it was yours) where
you do a checksum of a block, then compare that.  Any algorithm that
reduces 'x' bits to 'y' (where y &lt; x) suffers from information loss, and
stands a very small (but non-zero) chance of not detecting corruption, so
now you have this safe and cozy feeling while several bits of your data
have changed state, possibly rendering someone to the opposite sex or
increasing their bank balance by several orders of magnitude.

Even if you do compare the data immediately, what about spontaneous
disk decay?  Your data has been copied and verified as correct, _then_
your data goes faulty (admittedly this takes a while to happen, but
again it's a non-zero chance).  Normally, disk block checksums pick
that up, but see above.

&gt; For example if you have RAM corruption happening (and don't have
&gt; parity RAM), then disk I/O won't pick it up.

Isn't the moral here to run parity RAM?  (Actually, the moral is
to run ECC; see above ...).

&gt; And besides, what if you don't know how good your disk
&gt; I/O driver and hardward do things?

So you'll be reading the cached contents of what you've just written.
Cosy.  Or you'll trust the driver that just wrote the block incorrectly
to read it back correctly.  Cosier.

Risk in computing is a funny thing.

&gt; Michael Neuling just sent me (and to the list) a good way of doing an
&gt; integrity check by hand using md5sum.  Why not have cp do something
&gt; like this itself, or at least have it as an option?

Because Michael's method is built from tools that makes Unix king
over NT.  Or is this a trick question designed to flush out my fake
MCSE?

&gt; I can't see why the idea is absurd and warrants a beating!

David is probably itching to try out his new cat o' nine tails
he smuggled back through customs.


-- 
Regards,
  Daryl Tester,  Software Wrangler and Bit Herder, IOCANE Pty. Ltd.

"MS Linux is released under the provisions of the Gates Private License, which
 means you can freely use this Software on a single machine without warranty
 after having paid the purchase price and annual renewal fees." -- mslinux.org

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
