<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: change groups" -->
<!-- FromName="David Newall" -->
<!-- FromEmail="davidn@rebel.net.au" -->
<!-- ToName="Kevin Waterson" -->
<!-- ToEmail="kevin@oceania.net" -->
<!-- Date="Sat, 21 Oct 2000 22:25:44 +0930 (CST)" -->
<!-- Id="Pine.BSF.4.21.0010212219254.33884-100000@augustus.tellurian.com.au" -->
<!-- Reference="39EFDEEC.D52205F1@oceania.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: change groups</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Newall &lt;<I><A HREF="mailto:davidn@rebel.net.au">davidn@rebel.net.au</A></I>&gt;
  To  : Kevin Waterson &lt;<I><A HREF="mailto:kevin@oceania.net">kevin@oceania.net</A></I>&gt;
  Date: Sat, 21 Oct 2000 22:25:44 +0930 (CST)
</PRE>
<H1>Re: change groups</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; I have a list of 1500 users and I wish to change their groups to a
&gt; single group.

Perhaps try vipw.  It sounds like you want to change all accounts except
for a dozen system accounts, and that's a cinch to do using vi.  You'll be
editting a file somthing like this:

  root:xxxhiddenxxx:0:0::0:0:Charlie &:/root:/bin/sh
  daemon:*:1:1::0:0:Owner of many system processes:/root:/sbin/nologin
  operator:*:2:5::0:0:System &:/:/sbin/nologin
  nobody:*:65534:65534::0:0:Unprivileged user:/nonexistent:/sbin/nologin
  davidn:xxxhiddenxxx:1001:20::0:0:David Newall:/home/davidn:/bin/sh
  martin:xxxhiddenxxx:1002:20::0:0:Martin Leadbeater:/home/martin:/bin/sh
  slide:xxxhiddenxxx:1000:1000::0:0:Sean Burford:/home/slide:/bin/sh
  grant:xxxhiddenxxx:1003:1003::0:0:Grant Jackson:/home/grant:/bin/sh

I have it sorted with all of the system accounts at the front, and the user
accounts at the end.  The fourth field is the gid.  Suppose you wanted to
change all user accounts to group 1234, you would place the cursor on the
davidn entry (the first user entry) and use the following vi magic:

  :,$s/^\([^:]*:[^:]*:[^:]*:\)[^:]*/\1:1234/

Press enter, blink once (but be quick about it) and then save your file and
exit.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
