<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="smbd file/folder creation permissions" -->
<!-- FromName="'Nik [TM]'" -->
<!-- FromEmail="tmcruisin@sond.com.au" -->
<!-- ToName="'LinuxSA \(E-mail\)'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 15 Aug 2001 10:09:44 +0930" -->
<!-- Id="002b01c12522$c791a010$0301a8c0@nick" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: smbd file/folder creation permissions</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Nik [TM] &lt;<I><A HREF="mailto:tmcruisin@sond.com.au">tmcruisin@sond.com.au</A></I>&gt;
  To  : LinuxSA \(E-mail\) &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 15 Aug 2001 10:09:44 +0930
</PRE>
<H1>smbd file/folder creation permissions</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi all,
I need to get some advice with smbd.
I have setup smbd 2.0.7 on a redhat 6.2 install to make a file server
for our windows network.
all is working fine with getting the shares working using swat,
everything sweet.

what I notice is that when it creates the files/folders they are all
given permissions for root.%user

now this hasnt been a problem until now, as its a private network, but I
have just made another smbd share which is also mounted using nfs, to a
folder on our firewall, so we can then sftp in and transfer files
between home and our private network. (couldnt be bothered with VPN or
port forwarding as I was trying to reduce external services/open ports)

what I have been trying to do is to change the default permissions smbd
applies to new files (probably all files/folders) so as to not be
transferring any files with root permissions.
I have create a user and group, smbnoone.smbnogrp and then tried using
the users map feature of samba so all users were then mapped to the one
user. the file is very simple and is written like;

smbnoone = nick brett dave luke

I have added the user smbnoone and a suitable passwd to samba and set it
as active, but when I then tell samba to use the smbusers.map file all
the shares stop and smbd doesnt accept any passwords for any users
nick brett dave luke or smbnoone
as soon as I remove the reference to the smbusers.map file from the
smb.conf everything back to normal.

can anyone suggest a better way of making samba create files with
minimal permissions or spot what I may be doing wrong here

thanks
nik [tm]

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
