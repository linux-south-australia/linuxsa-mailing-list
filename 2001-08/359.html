<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Slow "Internet" (was: [OT] Can't Think of a Subject)" -->
<!-- FromName="'Alan Kennington'" -->
<!-- FromEmail="akenning@topology.org" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 9 Aug 2001 15:01:11 +0930" -->
<!-- Id="20010809150111.A31877@dog.topology.org" -->
<!-- Reference="20010809144308.A58938@atdot.dotat.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Slow "Internet" (was: [OT] Can't Think of a Subject)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:akenning@topology.org">akenning@topology.org</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 9 Aug 2001 15:01:11 +0930
</PRE>
<H1>Re: Slow "Internet" (was: [OT] Can't Think of a Subject)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, Aug 09, 2001 at 02:43:08PM +0930, Mark Newton wrote:
&gt; On Thu, Aug 09, 2001 at 02:29:14PM +0930, Alan Kennington wrote:
&gt; 
&gt;  &gt; &gt; We're getting a lot more than that.  Maybe you don't have as high 
&gt;  &gt; &gt; a density of IIS servers on your network &lt;shrug&gt;
&gt;  &gt; 
&gt;  &gt; The rate is almost certainly determined by the number of IP
&gt;  &gt; addresses you have exposed to the net, not the bit-rate
&gt;  &gt; of the pipe.
&gt;  
&gt; Consider the case of a customer with a NAT gateway with a static mapping
&gt; on port 80 pointing to an IIS server on 192.168.x.x.
&gt; 
&gt; Let's propose that that IIS server gets infested by a CodeRed worm 
&gt; on the Internet, through the NAT gateway.  So it'll start merrily
&gt; spamming the crap out of the entire Internet -- Including that portion
&gt; of the entire Internet that shares the first 16 bits of its IP address,
&gt; which is 192.168.x.y.
&gt; 
&gt; So, very quickly, all the *other* IIS servers, which aren't publically
&gt; accessible to The Internet at large, also get infested.  
&gt; 
[....]

Mark,

That's truly fascinating. That clears up something odd I've been
seeing on my logs. From time to time, a single IP address seems
to make up to 10 HTTP probes of the same IP address in my space.
That's illogical if that was intended by the author fo the worm,
because if the first probe fails, why should they bother trying
10 times. I thought that maybe this ws a bug in the worm
(so to speak) or an attempt to mazimize irritation.

But now your explanation makes it most likely that these
"10 probes from the same IP to a single one of my IPs" events
are actually 10 machines behind a NAT box simultaneously
coming online at the same time, using the same starting
address for their probes.

In fact, thinking about this more, this seems to indicate that
the sequence of IP addresses probed must be deterministic.
So if you see one machine probe 10 of your addresses
in a sequence, then all other machines should probe
them in the same sequence.
That would be straightforward to test from the logs - but
I really can't be bothered.

By the way, I estimate that my bills are going to go up
by about A$50 per month as a result of my 20 IPs with
port 80 in use.
Bigpond is going to make a big packet out of Code Red.
In fact, the Code Red thing should help the ISP industry
generally.
But some subscribers are going to have to approach their
banks for a new loan, I think!

And just one last point, this scenario is exactly what
my concept of "budget shaper" is all about.
If every subscriber had a budget shaper, it would
automatically but back bandwidth and set off alarms when
the bank balance is being threatened by unforeseen circumstances.

Now would be a good time to buy shares in an ISP, I reckon.

Cheers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
