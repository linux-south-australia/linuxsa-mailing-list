<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Perl and IP Chains" -->
<!-- FromName="'Matthew Geddes'" -->
<!-- FromEmail="mgeddes@tellurian.com.au" -->
<!-- ToName="'Sam Silvester'" -->
<!-- ToEmail="ssilvest@bigpond.net.au" -->
<!-- Date="Wed, 22 Aug 2001 09:12:48 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.21.0108220909590.9712-100000@huachuca.tellurian.com.au" -->
<!-- Reference="005501c12a2d$f89df180$010115ac@onlinetech.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Perl and IP Chains</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@tellurian.com.au">mgeddes@tellurian.com.au</A></I>&gt;
  To  : Sam Silvester &lt;<I><A HREF="mailto:ssilvest@bigpond.net.au">ssilvest@bigpond.net.au</A></I>&gt;
  Date: Wed, 22 Aug 2001 09:12:48 +0930 (CST)
</PRE>
<H1>Re: Perl and IP Chains</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 21 Aug 2001, Sam Silvester wrote:

&gt; Hi Everyone -
&gt; 
&gt; I've been trying to make a Perl CGI script run ipchains on the webserver but
&gt; I can't seem to make it work properly. I've been using the following
&gt; statement:
&gt; 
&gt; system("/usr/sbin/ipchains -A forward -j MASQ -s
&gt; $ipaddress/255.255.255.255 -d ! 172.21.0.0/255.255.0.0");
&gt; 
&gt; If anyone has any suggestions I'd really like to hear them! If you need any
&gt; more information let me know.

As well as the other suggestions posted, I'd probably look at who your web
server is running as and who is allowed to insert ipchains rules. Most
Apache web servers will run as the user apache or nobody by default and I
believe you're supposed to be root when you insert firewall rules.

I personally prefer to have my rules written to a file or shell script
first and then executed later. It makes it easier to find any problems.

Hope it helps,
Matt


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
