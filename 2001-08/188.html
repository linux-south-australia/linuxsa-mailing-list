<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ipchains & www surfing" -->
<!-- FromName="'Michael Neuling'" -->
<!-- FromEmail="Michael.Neuling@keyworks.com.au" -->
<!-- ToName="'Dave Fitch'" -->
<!-- ToEmail="davidf@parachilna.com" -->
<!-- Date="Sun, 05 Aug 2001 12:49:34 +0800" -->
<!-- Id="20010805044934.A502F9D15@vodka.keyworks.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ipchains & www surfing</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Neuling &lt;<I><A HREF="mailto:Michael.Neuling@keyworks.com.au">Michael.Neuling@keyworks.com.au</A></I>&gt;
  To  : Dave Fitch &lt;<I><A HREF="mailto:davidf@parachilna.com">davidf@parachilna.com</A></I>&gt;
  Date: Sun, 05 Aug 2001 12:49:34 +0800
</PRE>
<H1>Re: ipchains & www surfing</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; &gt; These will break other things like active ftp and real player so it's
&gt; &gt; not perfect
&gt; 
&gt; what's the solution for active ftp?
&gt; I'm just using passive ftp at the moment, but I would like "normal"
&gt; ftp to work too (without opening giant holes in the ipchains rules).

A baseball bat...  really.  It's actually fairly difficult to control
active ftp as it needs to connect back to your machine and therefore
you need to allow connections into your box which in general is a bad
thing wrt security

You need to allow TCP connections to ports &gt; 1024.   I believe that
this normally comes from the ftp-data port but it doesn't have to.  So
replace the first command I gave you with.

  ipchains -A input -i $EXTIF -p tcp --dport 1024: -j ACCEPT

If you are going to do this make sure you block port 6000 (for X) and
anything else running on a port &gt; 1024.  Try doing a port scan on your
box to see what is open &gt; 1024.  This is not a great solution but if
you have to do active ftp then it's all you can do with a stateless
filter.

Regards,
Michael

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
