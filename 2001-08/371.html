<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Arrrgh, another RedHat screwup in 7.1: /usr/include/linux?" -->
<!-- FromName="" -->
<!-- FromEmail="michaeld@senet.com.au" -->
<!-- ToName="'Christopher Yeoh'," -->
<!-- ToEmail="cyeoh@samba.org,LinuxSA@linuxsa.org.au" -->
<!-- Date="Thu, 9 Aug 2001 07:47:26 GMT" -->
<!-- Id="200108090746.f797kLF85720@pluto.senet.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Arrrgh, another RedHat screwup in 7.1: /usr/include/linux?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:michaeld@senet.com.au">michaeld@senet.com.au</A></I>&gt;
  To  : Christopher Yeoh &lt;<I><A HREF="mailto:cyeoh@samba.org">cyeoh@samba.org</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:LinuxSA@linuxsa.org.au">LinuxSA@linuxsa.org.au</A></I>&gt;
  Date: Thu, 9 Aug 2001 07:47:26 GMT
</PRE>
<H1>Re: Arrrgh, another RedHat screwup in 7.1: /usr/include/linux?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Christopher Yeoh writes:
&gt; Richard Sharpe writes:
&gt; &gt; 
&gt; &gt; On my vanilla RH7.1 system, /usr/include/linux is a directory, not a 
&gt; &gt; link to ../src/linux/include/linux or wherever ...
&gt; 
&gt; Applications (generally) should compile against the version of the
&gt; kernel headers that were used to compile glibc, and not the ones used
&gt; to compile the kernel. What they have done is correct.

This makes sense, but the RH dependencies could possibly be done better, ie:

&gt; rpm -qf /usr/include/linux
kernel-headers-2.4.0-0.26

&gt; rpm -qi kernel-headers
Name        : kernel-headers               Relocations: (not relocateable)
Version     : 2.4.0                             Vendor: Red Hat, Inc.
Release     : 0.26                          Build Date: Fri 25 Aug 2000 
10:13:59 PM CST
Install date: Mon 30 Apr 2001 02:57:42 PM CST      Build Host: 
test148.test.redhat.com
Group       : Development/System            Source RPM: 
kernel24-2.4.0-0.26.src.rpm
Size        : 3145486                          License: GPL
Packager    : Red Hat, Inc. &lt;<A HREF="http://bugzilla.redhat.com/bugzilla&gt">http://bugzilla.redhat.com/bugzilla&gt</A>;
Summary     : Header files for the Linux kernel.
Description :
Kernel-headers includes the C header files for the Linux kernel.  The
header files define structures and constants that are needed for
building most standard programs and are also needed for rebuilding the
kernel.

&gt; rpm -qi glibc
Name        : glibc                        Relocations: (not relocateable)
Version     : 2.2                               Vendor: Red Hat, Inc.
Release     : 9                             Build Date: Sat 16 Dec 2000 
12:14:09 AM CST
Install date: Mon 30 Apr 2001 03:29:55 PM CST      Build Host: 
porky.devel.redhat.com
Group       : System Environment/Libraries   Source RPM: glibc-2.2-9.src.rpm
Size        : 48246224                         License: LGPL
Packager    : Red Hat, Inc. &lt;<A HREF="http://bugzilla.redhat.com/bugzilla&gt">http://bugzilla.redhat.com/bugzilla&gt</A>;
Summary     : The GNU libc libraries.
Description :
The glibc package contains standard libraries which are used by
multiple programs on the system. In order to save disk space and
memory, as well as to make upgrading easier, common system code is
kept in one place and shared between programs. This particular package
contains the most important sets of shared libraries: the standard C
library and the standard math library. Without these two libraries, a
Linux system will not function.  The glibc package also contains
national language (locale) support and timezone databases.

&gt;rpm -q --whatrequires kernel-headers
glibc-devel-2.2-9   ****** But not glibc :-(

&gt;rpm -q -R glibc
basesystem  
/usr/sbin/glibc_post_upgrade  
/sbin/ldconfig  
rpmlib(PayloadFilesHavePrefix) &lt;= 4.0-1
rpmlib(CompressedFileNames) &lt;= 3.0.4-1

There's no link in RPM's dependencies between kernel-headers (which provides 
/usr/include/linux) and glibc (except the link to glibc-devel), and no 
indication of this link in the doco either :-(

Hmmm.  I like Chris' suggestion, but the deps don't support it, and I 
sympathise with Richard's annoyance.

Michael...
-- 
<A HREF="mailto:michaeld@senet.com.au">michaeld@senet.com.au</A>


-------------------------------------------
This message was sent using SE Net Webmail.
<A HREF="http://webmail.senet.com.au/">http://webmail.senet.com.au/</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
