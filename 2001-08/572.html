<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Damn you dhcpd" -->
<!-- FromName="'Craig Keogh'" -->
<!-- FromEmail="oxydian@optusnet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 14 Aug 2001 23:10:57 +0930" -->
<!-- Id="000c01c124c6$c06a48c0$a700a8c0@mshome.net" -->
<!-- Reference="1dcdd2157b.2157b1dcdd@bigpond.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Damn you dhcpd</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Craig Keogh &lt;<I><A HREF="mailto:oxydian@optusnet.com.au">oxydian@optusnet.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 14 Aug 2001 23:10:57 +0930
</PRE>
<H1>Damn you dhcpd</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Greetings,

I am trying to use dhcpd, but it refuses to play ball.
I have linux redhat 7.1 as the server, running dhcpd version 2.0pl5-4. I
wish to assign an IP address to a windows ME client.

My dhcpd configuration file is simple. It looks like:

# /etc/dhcpd.conf
subnet 192.168.0.0 netmask 255.255.255.0 {
   range 192.168.0.10 192.168.0.100;
}


As per the DHCP Howto I run:

route add -host 255.255.255.255 dev eth0


I run dhcpd.conf as such:

dhcpd -d -f -lf /etc/dhcpd.leases -cf /etc/dhcpd.conf eth0

-d is debug mode, -f is run in forground, -lf is to specify lease file, -cf
is to specify configuration file. /etc/dhcpd.leases does exist, and has
sufficient permissions.


The WinME machine never gets assigned an IP. dhcpd never displays anything
other than the welcoming message.

tcpdump on the linux machine says:

B 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: xid:0x5606b648 flags:0x8000
[|bootp]
B 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: xid:0x5606b648 secs:54735
flags:0x8000 [|bootp]
B 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: xid:0x5606b648 secs:54735
flags:0x8000 [|bootp]
B 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: xid:0x5606b648 secs:54735
flags:0x8000 [|bootp]


The WinME machine is broadcasting a request, but dhcpd seems to ignore it.
I have also tried:
- with and without the route add line above.
- specifiying default-lease-time, max-lease-time, subnet-mask & routers
options in the dhcpd.conf
all with no luck.

Any suggestions, recommended documents or links would be greatly
appreciated.


Craig Keogh


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
