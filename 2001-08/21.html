<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Robust date parsers" -->
<!-- FromName="" -->
<!-- FromEmail="dan@tellurian.com.au" -->
<!-- ToName="'John Edwards'" -->
<!-- ToEmail="isplist@adam.com.au" -->
<!-- Date="Wed, 1 Aug 2001 13:56:32 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.21.0108011344020.32119-100000@huachuca.tellurian.com.au" -->
<!-- Reference="3B677BE4.95870EE0@adam.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Robust date parsers</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A></I>&gt;
  To  : John Edwards &lt;<I><A HREF="mailto:isplist@adam.com.au">isplist@adam.com.au</A></I>&gt;
  Date: Wed, 1 Aug 2001 13:56:32 +0930 (CST)
</PRE>
<H1>Re: Robust date parsers</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 1 Aug 2001, John Edwards wrote:

&gt; <A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A> wrote:
&gt; 
&gt; &gt; &gt; How is this a problem? My experience with maildir is that you can put
&gt; &gt; &gt; any old file in there and it will be treated as a message
&gt; &gt; 
&gt; &gt; What works and what is according to the standard are two different
&gt; &gt; things. See <A HREF="http://www.qmail.org/man/man5/maildir.html.">http://www.qmail.org/man/man5/maildir.html.</A>
&gt; 
&gt; A message only needs the date in the filename for the purpose of
&gt; reliable delivery into the mailbox. To read the message, the format
&gt; specifies that the filename only need be 'unique'. Furthermore, it says
&gt; that the reader should not attempt to parse the filename.

So it does! I had overlooked the "should not", which rather changes
things. I still have a problem, but it is a slightly different one.

The problem with ignoring dates is this: if you have 20k messages in a
single folder (not uncommon) and if you are using IMAP (not uncommon), and
if the IMAP daemon sends the result of LIST commands in inode order, then
you avoid a very expensive sorting operation. If you are not using IMAP,
but instead something like a Maildir-aware mutt directly reading the
Maildir, then the same can be true.

If you use top-end Alphas or quad-2-GHz Intels then none of the above
matters and maybe you would like to give me your old hardware.

&gt; &gt; But you often just have a collection of RFC822 messages whose filesystem
&gt; &gt; dates mean nothing. They weren't created by a system that cares about the
&gt; &gt; dates, remember.
&gt; 
&gt; If filesystem dates are acceptable, why not just use the date in the
&gt; first Received: line in the message? At least then you should get a
&gt; consistent date format.

Yes, this is what I'm trying. It doesn't solve the problem well, but it is
much better.

&gt; &gt; &gt; The filename nature leads to another neat thing you can do with maildir
&gt; &gt; &gt; message, you can place a symbolic link to a file. Great for bulletins
&gt; &gt; &gt; that you might want to recall or modify at a later date.
&gt; &gt; 
&gt; &gt; And many more things, like running harvest_ng for instance to search
&gt; &gt; inside messages and index the contents.
&gt; 
&gt; And the rather nifty scalability and ease of use for large applications
&gt; .. I have over 10,000 mailboxes on a qmail server

A modern filesystem improves performance a lot on some operations with
Maildirs. I get astonishing improvements with Reiserfs.

--
Dan Shearer
Open Source Manager
Mob: +61 411 49 1800
Tel: +61 8 8130 3104
<A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
