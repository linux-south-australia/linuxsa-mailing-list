<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: MOTD" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="'H. Raghavan'" -->
<!-- ToEmail="hraghav@omni.mahyco.com" -->
<!-- Date="Thu, 02 Aug 2001 16:14:48 +0930" -->
<!-- Id="3B68F6E0.E1A94D41@sa.pracom.com.au" -->
<!-- Reference="AB3A10198A@lsrc.mahyco.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: MOTD</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : H. Raghavan &lt;<I><A HREF="mailto:hraghav@omni.mahyco.com">hraghav@omni.mahyco.com</A></I>&gt;
  Date: Thu, 02 Aug 2001 16:14:48 +0930
</PRE>
<H1>Re: MOTD</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
A lost of distros set the MOTD from rc.local. EG in redhat's
/etc/rc.d/rc.local:

So, I guess you could either remove /etc/redhat-release, which whould
make it harder to identify the original distro and version down the
track, or at least mofify the code so it doesnt overwrite it.

if [ -f /etc/redhat-release ]; then
    R=$(cat /etc/redhat-release)

    arch=$(uname -m)
    a="a"
    case "_$arch" in
            _a*) a="an";;
            _i*) a="an";;
    esac

    NUMPROC=`egrep -c "^cpu[0-9]+" /proc/stat`
    if [ "$NUMPROC" -gt "1" ]; then
        SMP="$NUMPROC-processor "
        if [ "$NUMPROC" = "8" -o "$NUMPROC" = "11" ]; then
            a="an"
        else
            a="a"
        fi
    fi

    # This will overwrite /etc/issue at every boot.  So, make any
changes you
    # want to make to /etc/issue here or you will lose them when you
reboot.
    echo "" &gt; /etc/issue
    echo "$R" &gt;&gt; /etc/issue
    echo "Kernel $(uname -r) on $a $SMP$(uname -m)" &gt;&gt; /etc/issue

    cp -f /etc/issue /etc/issue.net
    echo &gt;&gt; /etc/issue
fi

Ant


"H. Raghavan" wrote:
&gt; 
&gt; Dear Friends,                                                                      2 Aug 2001
&gt; I am to Linux and Linuxsa club. I have a problem in displaying
&gt; messasge of the day. After editing /etc/motd I get motd message
&gt; in different session. But after rebooting the system I am unable to
&gt; get the message.
&gt; 
&gt; Please help me to solve this problem.
&gt; Regards,
&gt; Raghavan
&gt; 
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
