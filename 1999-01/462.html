<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Portscan Attacks" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="Alan Kennington" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Fri, 29 Jan 1999 11:55:02 +1030 (CST)" -->
<!-- Id="199901290125.LAA07093@atdot.dotat.org" -->
<!-- Reference="199901290050.LAA27936@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Portscan Attacks</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  Date: Fri, 29 Jan 1999 11:55:02 +1030 (CST)
</PRE>
<H1>Re: Portscan Attacks</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Alan Kennington wrote:

 &gt; 1.	What _are_ the non-essential ports?

All the ones that aren't essential, of course :-)

Define the services you wish to provide to the outside world:  Do you
want people to see your web server?  You need port 80.  Your ssh
server?  port 22.  Your ftp server?  Port 21 plus whatever ports
it's using for data transfer (but they're "outbound" connections so
they don't count).  Your name server?  UDP/TCP port 53 inbound and
outbound.  Anything else?

No?  So you have 5 essential ports...

... And the other 131,067 ports are non-essential.

Permit each of those five with individual ipfwadm rules, plus
all outgoing packets, plus incoming packets with the ACK bit set
(so you can make outgoing TCP connections without restriction),
then finish up with an ipfwadm rule which denies all other incoming
packets.

[ you'll probably also want to permit ICMP, although schools of
  thought differ on this. ]

 &gt; 	Do you have a sample set of ipfwadm commands to
 &gt; 	close down these non-essentail ports?
 &gt; 	I don't really want to sit down for a few hours
 &gt; 	going through the ports one by one to see if
 &gt; 	they're essential.

You have it backwards.  You sit down for a few minutes and work out
what you need.  Everything that doesn't appear on that list is, by
definition, non-essential.

    - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1958-3414 ------------- Fax: +61-8-83034403 -----

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
