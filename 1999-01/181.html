<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IPFWADM thankyou THANKYOU" -->
<!-- FromName="Darryl Ross" -->
<!-- FromEmail="darryl@bachblue.com.au" -->
<!-- ToName="David Warrington" <warrda@iweb.net.au>," -->
<!-- ToEmail="warrda@iweb.net.au" -->
<!-- Date="Sun, 17 Jan 1999 13:36:33 +1030" -->
<!-- Id="002801be41c6$634a5b20$0201a8c0@darryl" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IPFWADM thankyou THANKYOU</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:darryl@bachblue.com.au">darryl@bachblue.com.au</A></I>&gt;
  To  : David Warrington" &lt;warrda@iweb.net.au&gt;, &lt;<I><A HREF="mailto:warrda@iweb.net.au">warrda@iweb.net.au</A></I>&gt;
  Date: Sun, 17 Jan 1999 13:36:33 +1030
</PRE>
<H1>Re: IPFWADM thankyou THANKYOU</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
This is a multi-part message in MIME format.

------=_NextPart_000_0025_01BE421E.65A64480
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable



--=20

Technology has it's drawbacks: You can't warm your feet on a microwave.
  ----- Original Message -----=20
  From: David Warrington=20
  To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>=20
  Sent: Sunday, 17 January 1999 12:28
  Subject: IPFWADM thankyou THANKYOU


  THANKYOU to all of you who replied to my plea, i didnt want you think =
that im not grateful, i am.
  I have done as you instructed (set up both machines), and now i can =
ping both machines by name, and i can use ping from a DOS prompt (in =
windows) to get the IP of say Yahoo.com.
From this, I am assuming that you have correctly set up your Windows =
machines to use the Linux machine for=20
DNS? Also, if you haven't, you need to set up the Windows machines to =
use the Linux machine as it's gateway.
  However after that it says host unavailable (x3), and I still cant use =
my brouser or icq,etc (pls bear in mind i have had this thing working =
before for ONE night).
You must have done something different that night, either forgotten a =
command you put it, or typed a command in slightly differently. As root, =
put the following commands into a console:

ipfwadm -F -p DENY
ipfwadm -F -a m -S 192.168.1.0/24 -D 0.0.0.0/0

Of course, change 192.168.1.0 to the class C address of the IP numbers =
you gave the machines on the LAN. I tend to use 192.168.1.1 for the =
Linux box, then 192.168.1.2 for the first Windows machine, 192.168.1.3 =
for the second Windows machine, and so on.

You also need to have IP Forwarding turned on as well. In your =
/etc/sysconfig/network file, the FORWARD_IPV4 variable must be set to =
true. If the FORWARD_IPV4 is set to false, change it to true and reboot =
the machine. Then type in the commands I gave above, and see if that =
works. If it doesn't, let me know.
  I am at a loss to explain what is different, and why it works once and =
never again, could it have something to do with the fact that the modem =
connection IP is different each time i logon to the net?, and if so what =
can i do to rectify this problem?
I don't think that would have any thing to do with your current problem. =
You are trying to make connections out to the Internet, and due to the =
way IP Masquerading is set up, the machines on the LAN don't know what =
the Internet IP address is anyway. It all works transparently. Just =
check your /etc/sysconfig/network file for the FORWARD_IPV4 variable.


Cheers, and I hope this works, or at least helps a little. If it =
doesn't, don't hesitate to contact me.
Dazz

------=_NextPart_000_0025_01BE421E.65A64480
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META content=3Dtext/html;charset=3Diso-8859-1 =
http-equiv=3DContent-Type&gt;&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 =
HTML//EN"&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;

&lt;META content=3D'"MSHTML 5.00.0910.1309"' name=3DGENERATOR&gt;&lt;/HEAD&gt;
&lt;BODY bgColor=3D#ffffff&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;BR&gt;-- &lt;/DIV&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;Technology has it's drawbacks: You can't warm your feet on a=20
microwave.&lt;/DIV&gt;
&lt;BLOCKQUOTE=20
style=3D"BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px"&gt;
  &lt;DIV style=3D"FONT: 10pt arial"&gt;----- Original Message -----=20
  &lt;DIV style=3D"BACKGROUND: #e4e4e4; font-color: black"&gt;&lt;B&gt;From:&lt;/B&gt; &lt;A=20
  href=3D"<A HREF="mailto:<A HREF="mailto:warrda@iweb.net.au">warrda@iweb.net.au</A>">mailto:<A HREF="mailto:warrda@iweb.net.au">warrda@iweb.net.au</A></A>" title=<A HREF="mailto:3Dwarrda@iweb.net.au">3Dwarrda@iweb.net.au</A>&gt;David =
Warrington&lt;/A&gt;=20
  &lt;/DIV&gt;
  &lt;DIV&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A href=3D"<A HREF="mailto:<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>">mailto:<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></A>"=20
  title=<A HREF="mailto:3Dlinuxsa@linuxsa.org.au">3Dlinuxsa@linuxsa.org.au</A>&gt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&lt;/A&gt; &lt;/DIV&gt;
  &lt;DIV&gt;&lt;B&gt;Sent:&lt;/B&gt; Sunday, 17 January 1999 12:28&lt;/DIV&gt;
  &lt;DIV&gt;&lt;B&gt;Subject:&lt;/B&gt; IPFWADM thankyou THANKYOU&lt;/DIV&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;FONT size=3D2&gt;THANKYOU to all of you who replied to my plea, i =
didnt want=20
  you think that im not grateful, i am.&lt;/FONT&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;FONT size=3D2&gt;I have done as you instructed (set up both =
machines), and=20
  now i can ping both machines by name, and i can use ping from a DOS =
prompt (in=20
  windows) to get the IP of say Yahoo.com.&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;From this, I am assuming that you have correctly set =
up your=20
Windows machines to use the Linux machine for &lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;DNS? Also, if you haven't, you need to set up the =
Windows=20
machines to use the Linux machine as it's gateway.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;BLOCKQUOTE=20
style=3D"BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px"&gt;
  &lt;DIV&gt;&lt;FONT size=3D2&gt;However after that it says host unavailable (x3), =
and I=20
  still cant use my brouser or icq,etc (pls bear in mind i have had this =
thing=20
  working before for ONE night).&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;You must have done something different that night, =
either=20
forgotten a command you put it, or typed a command in slightly =
differently. As=20
root, put the following commands into a console:&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;ipfwadm -F -p DENY&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;ipfwadm -F -a m -S 192.168.1.0/24 -D =
0.0.0.0/0&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;Of course, change 192.168.1.0 to the class C address =
of the IP=20
numbers you gave the machines on the LAN. I tend to use 192.168.1.1 for =
the=20
Linux box, then 192.168.1.2 for the first Windows machine, 192.168.1.3 =
for the=20
second Windows machine, and so on.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;You also need to have IP Forwarding turned on as =
well. In your=20
/etc/sysconfig/network file, the FORWARD_IPV4 variable must be set to =
true. If=20
the FORWARD_IPV4 is set to false, change it to true and reboot the =
machine. Then=20
type in the commands I gave above, and see if that works. If it doesn't, =
let me=20
know.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;BLOCKQUOTE=20
style=3D"BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px"&gt;
  &lt;DIV&gt;&lt;FONT size=3D2&gt;I am at a loss to explain what is different, and =
why it=20
  works once and never again, could it have something to do with the =
fact that=20
  the modem connection IP is different each time i logon to the net?, =
and if so=20
  what can i do to rectify this problem?&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;I don't think that would have any thing to do with =
your=20
current problem. You are trying to make connections out to the Internet, =
and due=20
to the way IP Masquerading is set up, the machines on the LAN don't know =
what=20
the Internet IP address is anyway. It all works transparently. Just =
check your=20
/etc/sysconfig/network file for the FORWARD_IPV4 variable.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;Cheers, and I hope this works, or at least helps a =
little. If=20
it doesn't, don't hesitate to contact me.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT size=3D2&gt;Dazz&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------=_NextPart_000_0025_01BE421E.65A64480--

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
