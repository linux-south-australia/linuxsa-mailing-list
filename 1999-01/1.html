<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: time" -->
<!-- FromName="" -->
<!-- FromEmail="branko@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 1 Jan 1999 14:15:50 +1030 (CST)" -->
<!-- Id="m0zvvX4-000GjAC@lector" -->
<!-- Reference="3675A76D.EAC28C91@senet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: time</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: <A HREF="mailto:branko@senet.com.au">branko@senet.com.au</A>
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Fri, 1 Jan 1999 14:15:50 +1030 (CST)
</PRE>
<H1>Re: time</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt;&gt; 
&gt;&gt; 1:
&gt;&gt; how do i set my time to that of another computer on the net, eg an
&gt;&gt; atomic clock.
&gt;
&gt;Another couple of options are 'timed' and 'rdate'.  timed will
&gt;periodically update and keep in sync, while rdate is great as a once-off
&gt;or as part of a cron job.

This topic sparked my interest in setting my PC time accurately.  Up
to now, I just let it run on daylight wasting time plus whatever drift
the CMOS clock had produced.

I loaded xntp3 and checked out its documentation (no man pages but a
very informative html package).  Xntp3 is well suited to maintaining
ones system clock to within miliseconds!  It does this by polling
multiple peers, keeping stats on systematic drift on your PC and
correcting it automatically.  However, its resulting footprint is way
too big for my needs.  As suggested in the above quote, rdate
achieved all that I needed.  That is, whenever I call my ISP, a trivial
script calls rdate which resets my system clock.

BTW: when this thread was started, the originator asked about atomic
clocks on the Net.  Such a service would not be as valuable as you
may want because the delay in servicing the NTP request is quite
significant. I discovered that ntp.adelaide.edu.au does a time serviec
as suggested in an earlier post, however, my ISP's host also services
ntp requests so that's who I'm using at the moment.

Hardware clock. 
There are two clocks in your PC - the CMOS/RTC/Hardware clock that
runs all the time, and the system clock that is maintained by the OS.
As I shutdown my PC when not using it, rdate or xntp on their own would
only correct the system clock after calling my ISP. On a subsequent
reboot, time goes back to whatever the CMOS clock thinks it is.  The
second bit of magic is hwclock, as its name suggests, it works on the
hardware clock.  By calling "hwclock --systohc" right after rdate both
my clocks are kept in sync with each other.  Note that if your CMOS
clock is on UTC, add the option "--utc". 

For your information,
-- 
Branko Bratkovic
<A HREF="mailto:branko@senet.com.au">branko@senet.com.au</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
