<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Real backups" -->
<!-- FromName="'Geoff Russell'" -->
<!-- FromEmail="geoff@austrics.com.au" -->
<!-- ToName="'Richard Russell'" -->
<!-- ToEmail="richard@yellowgoanna.com" -->
<!-- Date="Wed, 13 Aug 2003 09:10:54 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.44.0308130856420.3251-100000@localhost.localdomain" -->
<!-- Reference="008001c360ae$46896010$020120ac@skink" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Real backups</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Geoff Russell &lt;<I><A HREF="mailto:geoff@austrics.com.au">geoff@austrics.com.au</A></I>&gt;
  To  : Richard Russell &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  Date: Wed, 13 Aug 2003 09:10:54 +0930 (CST)
</PRE>
<H1>RE: Real backups</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 12 Aug 2003, Richard Russell wrote:

&gt; &lt;snip&gt;
&gt; 
&gt; &gt; I've also considered Amanda. It uses dump or tar, and if dump 
&gt; &gt; is untrustworthy and tar has logic problems then I'm not yet 
&gt; &gt; convinced to give it SERIOUS consideration. 
&gt; 
&gt; Amanda keeps its own index, so you can restore a directory from a specific
&gt; date, and it won't include deleted files. I'm not quite sure I understand
&gt; the problem you're having with tar, actually -- unless you are appending to
&gt; the tar file...
&gt; 
&gt; rr

Hi Richard,

Here's how I see the tar problem.

I have files in directory A: 

                       A/b, A/c, A/d

I do a tar on Monday:  Tar 1 Contents: A/b  A/c  A/d

On Tuesday I delete A/c and modify A/d-&gt;A/d', 
on Tuesday night I tar all changes
since Monday.

                       Tar 2 Contents: A/d'

Now I lose directory A and want to restore it.

Restore Tar 1, then restore Tar 2, and I have:

                       A/b, A/c, A/d'

But A/c is present - it shouldn't be.

Not a big deal with 1 tiny directory, but for a 60Gb disk it spells chaos. 

I want to be able to restore both d and d' if required for "normal", 
reasons ("the new/old version was better"), and a full restore for
"abnormal" reasons like disk crashes, machines being stolen (which
happened to me recently) and the like.  I notice that tar has
an "OLD incremental" format. I have ignoring this since I figure they
wouldn't have dropped it without reason, and I have tried the
above test using the --newer option for the differential tar and got
the results illustrated above. 

I'd be happy to be shown some magic combination of tar switches that
actually fix this problem, but my reading of the tar, cpio & pax man pages
hasn't shown me a better way. I even downloaded the 140 page gnu tar
manual - there is something badly wrong when it requires 
140 pages to describe a backup utility - but haven't had the time to read it yet. 


Cheers,
Geoff
 
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
6 Fifth Ave           +618-8332-5069 (Home)          |
St Morris SA 5068     +618-8207-2029 (Work)          | <A HREF="mailto:geoff@austrics.com.au">geoff@austrics.com.au</A>
Adelaide, AUSTRALIA   +618-8364-1543 (Fax-Home)      |

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
