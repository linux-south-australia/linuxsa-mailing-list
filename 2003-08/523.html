<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Changing case on file names" -->
<!-- FromName="'Daryl Tester'" -->
<!-- FromEmail="Daryl.Tester@iocane.com.au" -->
<!-- ToName="'Richard Sharpe'" -->
<!-- ToEmail="rsharpe@richardsharpe.com" -->
<!-- Date="Fri, 08 Aug 2003 21:11:15 +0930" -->
<!-- Id="" -->
<!-- Reference="Pine.LNX.4.33.0308072251140.4664-100000@ns.aus.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Changing case on file names</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;
  To  : Richard Sharpe &lt;<I><A HREF="mailto:rsharpe@richardsharpe.com">rsharpe@richardsharpe.com</A></I>&gt;
  Date: Fri, 08 Aug 2003 21:11:15 +0930
</PRE>
<H1>Re: Changing case on file names</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Daryl Tester wrote:

&gt; for file in $(find . -type f -print); do
&gt;   lcname=$(echo $file | tr [:upper:] [:lower:]

Oops, I missed a trailing close parenthesis there.

&gt;   if test -f $lcname; then
&gt;     echo "file $lcname already exists"; continue
&gt;   else
&gt;     mv $file $lcname
&gt;   fi
&gt; done

Richard Sharpe wrote sometime back:

&gt; On Mon Nov 13 14:09:39 2000, Richard Sharpe posted this:
&gt;
&gt;   for f in *
&gt;   do
&gt;     mv $f `echo $f | tr A-Z a-z`
&gt;   done

And subsequently wrote:

&gt; But I think Daryl's is more careful.

I should point out to the folks at home that the "test -f" is
included to prevent "Foo", "foo" and "FoO" all being mapped
onto the same filename.

But Richard's methods handles spaces in filenames correctly (and
I suspect newlines as well).  OTOH, the find recurses down
subdirectories.  Gak.  IFS and out of band data handling is my
one major beef about shell scripts.

If find actually spawned a subshell, rather than doing a fork/exec,
you could set up a find have two -exec's, the first testing for the
lower case version of the file and the second actually doing the
move (find won't run the second exec if the first exec returns false).
Alas, find doesn't seem to like meta-character processing in its
exec clause.


-- 
Regards,
  Daryl Tester,  Software Wrangler and Bit Herder, IOCANE Pty. Ltd.

SCO Rep:  "Linux must die!  We shall prevail!"
Offsider: "Bill, they can see your shirt sleeve."
  -- <A HREF="http://ars.userfriendly.org/cartoons/?id">http://ars.userfriendly.org/cartoons/?id</A>=20030609

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
