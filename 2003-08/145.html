<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Linux RedHat 7.0 Problem" -->
<!-- FromName="'John Joseph'" -->
<!-- FromEmail="john.joseph@adelaide.edu.au" -->
<!-- ToName="'John Davey','Don Collins'" -->
<!-- ToEmail="list@davey.net.au,doncol@adelaide.on.net" -->
<!-- Date="Mon, 04 Aug 2003 09:52:25 +0930" -->
<!-- Id="3F2DA741.AA4BE7A1@adelaide.edu.au" -->
<!-- Reference="GNECLCLHIFNNAHMOKHDPEENADGAA.list@davey.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Linux RedHat 7.0 Problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: John Joseph &lt;<I><A HREF="mailto:john.joseph@adelaide.edu.au">john.joseph@adelaide.edu.au</A></I>&gt;
  To  : John Davey &lt;<I><A HREF="mailto:list@davey.net.au">list@davey.net.au</A></I>&gt;<BR>        Don Collins &lt;<I><A HREF="mailto:doncol@adelaide.on.net">doncol@adelaide.on.net</A></I>&gt;
  Date: Mon, 04 Aug 2003 09:52:25 +0930
</PRE>
<H1>Re: Linux RedHat 7.0 Problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi John and Don,

This morning I tried to boot the system using Win2K CD. But unable
do so. It goes back to lilo and prompt for lilo, lilo-up and dos.
When I selected "dos", no further process. But when I selected
"lilo-up" it proceeded and I could log on to linux (Linux RedHat
Version 7.0). Still I am unable to recover Win2K. As I wrote earlier,
Win2K was pre-installed on primary drive and I was trying to install
Linux on slave drive. Here is my lilo.conf:
&gt;
boot=/dev/hda
map=/boot/map
install=/boot/boot.b
prompt
timeout=50
message=/boot/message
linear
default=linux

image=/boot/vmlinuz-2.2.16-22smp
        label=linux
        read-only
        root=/dev/hdb7
 
image=/boot/vmlinuz-2.2.16-22
        label=linux-up
        read-only
        root=/dev/hdb7

other=/dev/hda6
        label=dos
&gt;

John Davey wrote:
&gt; 
&gt; Hi Don,
&gt; 
&gt; Yes that is correct he could do either, but I also had this in my reply
&gt; 
&gt; &gt; &gt;Note you can not use this exacty it will need to
&gt; &gt; &gt; be edited for your setup.
&gt; 
&gt; Also note this in the example lilo.conf
&gt; 
&gt; &gt; &gt;image=/boot/vmlinuz-2.4.2-2
&gt; &gt; &gt;        label=linux
&gt; &gt; &gt;        read-only
&gt; &gt; &gt;        root=/dev/hda6
&gt; 
&gt; Is he using the vmlinuz-2.4.2-2 image?
&gt; Is his root partition /dev/hda6?
&gt; 
&gt; I doubt it so It needs to be modified to suit his setup.
&gt; 
&gt; The reason is to avoid trashing the windows bootloader on the MBR of the
&gt; windows drive and stopping windows from loading.
&gt; 
&gt; I've use this method many times and it works perfectly and now use a
&gt; similar method with GRUB. Please understand by the time Windows Boots it is
&gt; on  'Drive C' and the Redhat drive is now 'Drive D'.
&gt; 
&gt; It's simple easy and it works.
&gt; 
&gt; The only trap is if you want to REINSTALL windows you need to unplug your
&gt; linux drive during the install.
&gt; 
&gt; If you know a better way please tell us. I'm always ready to learn.
&gt; 
&gt; Regards John
&gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: Don Collins [mailto:<A HREF="mailto:doncol@adelaide.on.net">doncol@adelaide.on.net</A>]
&gt; &gt; Sent: Saturday, 2 August 2003 8:11 AM
&gt; &gt; To: John Davey
&gt; &gt; Cc: <A HREF="mailto:john.joseph@adelaide.edu.au">john.joseph@adelaide.edu.au</A>
&gt; &gt; Subject: Re: Linux RedHat 7.0 Problem
&gt; &gt;
&gt; &gt;
&gt; &gt; John D.,
&gt; &gt;     I am a little curious here.  Why do you need to shift the Win2K
&gt; &gt; drive?  What necessitates this?
&gt; &gt;
&gt; &gt; When you say shift the Win2K drive to be secondary - I assume you mean
&gt; &gt; to make it the slave on the Primary interface ( /dev/hdb).
&gt; &gt; To clarify, if the Win2K drive were to become the Master on the
&gt; &gt; Secondary interface, John J would need to make the 'other=' entry in
&gt; &gt; /etc/lilo.conf to read 'other=/dev/hdc1'.
&gt; &gt;
&gt; &gt; regards,
&gt; &gt; Don
&gt; &gt;
&gt; &gt; John Davey wrote:
&gt; &gt;
&gt; &gt; &gt;&gt;I tried to reboot the system. It went to Windows2000 directly.
&gt; &gt; &gt;&gt;So I rebooted the system with linux boot floppy and run lilo.
&gt; &gt; &gt;&gt;It showed a warning which means change from "linear" to "lba32".
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt;I changed from linear to lba32 and re-run lilo. then rebooted
&gt; &gt; &gt;&gt;the system. It went to lilo mode screen with options of "linux"
&gt; &gt; &gt;&gt;"linux-up" and "dos". I selected dos, but it did not go further.
&gt; &gt; &gt;&gt;Again I rebooted and opted "linux". It went few steps and started
&gt; &gt; &gt;&gt;showing errors and I stopped system. Again I rebooted the system
&gt; &gt; &gt;&gt;using linux boot floppy and changed lilo.conf to original one
&gt; &gt; &gt;&gt;thinking that I can go back to Windows 2000.
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;You've hosed the MBR on your Primary drive.
&gt; &gt; &gt;
&gt; &gt; &gt;If you Google you'll find an awnser
&gt; &gt; &gt;
&gt; &gt; &gt;<A HREF="http://sdb.suse.de/en/sdb/html/fhassel_deinstall_lilo.html">http://sdb.suse.de/en/sdb/html/fhassel_deinstall_lilo.html</A>
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;Procedure with Windows 2000
&gt; &gt; &gt;Boot from the Windows 2000 CD, press the key "R" in the setup
&gt; &gt; and the key
&gt; &gt; &gt;"K" in the next menu in order to start the restoration console.
&gt; &gt; Select your
&gt; &gt; &gt;Windows 2000 installation from the list and enter the administrator
&gt; &gt; &gt;password. Enter the command "FIXMBR" at the input prompt and confirm the
&gt; &gt; &gt;next question with "y". Finally, use "exit" to restart the computer.
&gt; &gt; &gt;
&gt; &gt; &gt;Once you have fixed this.  Do the Following.
&gt; &gt; &gt;Move your Windows drive to the secondary or preferably the master on the
&gt; &gt; &gt;secondary controller. Install Redhat on your 1st drive and then use a
&gt; &gt; &gt;lilo.conf like the following.
&gt; &gt; &gt;
&gt; &gt; &gt;This will first run Lilo then ir you select windows it switches
&gt; &gt; the drives
&gt; &gt; &gt;in BIOS and boots the windows boot loader so even though you may have
&gt; &gt; &gt;Windows on the secondary drive when it boots it will be the
&gt; &gt; 'primary' drive
&gt; &gt; &gt;(or it will think it is ;-).
&gt; &gt; &gt;-------------------------------
&gt; &gt; &gt;Note you can not use this exacty it will need to be edited for
&gt; &gt; your setup.
&gt; &gt; &gt;
&gt; &gt; &gt;boot=/dev/hda
&gt; &gt; &gt;map=/boot/map
&gt; &gt; &gt;install=/boot/boot.b
&gt; &gt; &gt;prompt
&gt; &gt; &gt;timeout=50
&gt; &gt; &gt;message=/boot/message
&gt; &gt; &gt;linear
&gt; &gt; &gt;default=Windows
&gt; &gt; &gt;
&gt; &gt; &gt;image=/boot/vmlinuz-2.4.2-2
&gt; &gt; &gt;        label=linux
&gt; &gt; &gt;        read-only
&gt; &gt; &gt;        root=/dev/hda6
&gt; &gt; &gt;
&gt; &gt; &gt;other=/dev/hdb1
&gt; &gt; &gt;     label=Windows
&gt; &gt; &gt;     map-drive=0x80
&gt; &gt; &gt;         to=0x81
&gt; &gt; &gt;     map-drive=0x81
&gt; &gt; &gt;         to=0x80
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;

-- 
Dr. E. John Joseph
Geology and Geophysics,
School of Earth and Environmental Sciences,
Adelaide University, AUSTRALIA 5005
Ph    : +61 8 8303 5842
Fax   : +61 8 8303 4347
e-mail: <A HREF="mailto:john.joseph@adelaide.edu.au">john.joseph@adelaide.edu.au</A>

----------------------------------------------------------- 
This email message is intended only for the addressee(s) 
and contains information which may be confidential and/or
copyright.  If you are not the intended recipient please
do not read, save, forward, disclose, or copy the contents
of this email. If this email has been sent to you in error,
please notify the sender by reply email and delete this 
email and any copies or links to this email completely and
immediately from your system.  No representation is made
that this email is free of viruses.  Virus scanning is 
recommended and is the responsibility of the recipient.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
