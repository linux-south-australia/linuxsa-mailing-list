<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: ftp server setup" -->
<!-- FromName="'Brad Wilson'" -->
<!-- FromEmail="brad.wilson@mnetcorporation.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 6 Aug 2003 09:41:15 +0930" -->
<!-- Id="10E7ECBF04FBE344BE0C12C02D9CAFC6174BE0@mnet01.mnet.local" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: ftp server setup</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Brad Wilson &lt;<I><A HREF="mailto:brad.wilson@mnetcorporation.com">brad.wilson@mnetcorporation.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 6 Aug 2003 09:41:15 +0930
</PRE>
<H1>RE: ftp server setup</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Jason,

Jonathan is right, you'll need to open up more than just port 21.  Which
ports you open will depend on whether you intend to support passive,
active, or both modes of ftp.

For Active ftp on the server, open:
   port 21 for incoming connections from all ports &gt; 1024
   port 20 for outgoing connections to all ports &gt; 1024

For Passive ftp on the server, open:
   port 21 for incoming connections from all ports &gt; 1024
   all ports &gt; 1024 for incoming connections from all ports &gt; 1024

I know it's a pain allowing everything &gt; 1024 in the passive case, so to
avoid this you can instruct wu-ftpd to use a smaller range of ports for
the data channel, depending on how many concurrent client connections
you wish to allow.

On the client side, for active ftp you'll need to be able to get out on
21, and accept incoming connections on all ports &gt; 1024.  For passive
ftp you'll need outgoing on port 21 and outgoing on all ports &gt; 1024.

- Brad

Brad Wilson - Wireless Applications Manager, Gallery 4 
m.Net Corporation , tel: +61 8 8210 2029, mob: 0418 848 275


-----Original Message-----
From: jonathan soong [mailto:<A HREF="mailto:jon.soong@imvs.sa.gov.au">jon.soong@imvs.sa.gov.au</A>] 
Sent: Wednesday, 6 August 2003 9:02 AM
To: Tek Gear :: Jason
Cc: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Subject: Re: ftp server setup


try connection with iptables turned off (service iptables stop)

ftp uses two connections - a control and a data channel

its annoying..

j
(then, if you've verified the server is okay, look at creating 
appropriate rules for iptables
i think you'll need to let in initiating(?) connections on high ports - 
depending if you want
to let users use PORT or PASSIVE modes.. oh its all painful.. - when is 
someone gonna
write a nice gui front end to scp ????)

Tek Gear :: Jason wrote:

&gt; hello everyone. i have just signed up to this mailing list and it
&gt; seems to be used quite alot with some great ideas.
&gt;  
&gt; anyway i am after some help. i have a home based testing web server
&gt; running red hat 8.0 and i cannot get the ftp server to run at all. i 
&gt; have attempted to setup and configure both vsftp and wu-ftp without 
&gt; success. both servers seem to run fine on port 21 but the server 
&gt; refuses any ftp connection whether it is made from within the system 
&gt; eg ftp localhost or externally from another system. i have checked 
&gt; iptables and port 21 is set to ACCEPT. any other ideas.
&gt;
&gt; Tek Gear: Aussie Online Solutions
&gt; ABN: 65 962 184 294
&gt; Web Site: www.tekgear.net.au
&gt;
&gt; Jason Hausler: Proprietor
&gt; Email: <A HREF="mailto:jason@tekgear.net.au">jason@tekgear.net.au</A>
&gt;
&gt; Disclaimer: If you are not the intended recipient, any use,
&gt; distribution, disclosure or copying of this information is prohibited.

&gt; If you receive this email in error,  notify us by return email and 
&gt; delete it and any attachments from your system. This email is not 
&gt; intended to create legally binding rights or obligations unless stated

&gt; otherwise.
&gt;
&gt;  


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on
irc.freenode.net To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
