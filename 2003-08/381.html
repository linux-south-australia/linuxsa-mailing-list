<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: ftp server setup" -->
<!-- FromName="'Tek Gear :: Jason'" -->
<!-- FromEmail="jason@tekgear.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 6 Aug 2003 23:40:11 +0930" -->
<!-- Id="000801c35c24$74cf5a30$0201a8c0@JASON" -->
<!-- Reference="008b01c35bc9$50040260$020120ac@skink" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: ftp server setup</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Tek Gear :: Jason &lt;<I><A HREF="mailto:jason@tekgear.net.au">jason@tekgear.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 6 Aug 2003 23:40:11 +0930
</PRE>
<H1>RE: ftp server setup</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Ftp localhost give a message connection denied.
netstat -anp --inet |grep LISTEN provides no display for port 21
ps -elf | egrep [ftp|inet] not supported (error)
rpm -qa | grep ftp found lftp-2.5.2-5
Ifconfig -a yes all up and running
Ping is fine
Nmap doesn't list ftp or port 21????
Ssh is fine
more /etc/xinetd.d/*ftp* disabled = no
/etc/init.d/xinetd status is running
grep -i ftp /var/log/messages Aug  3 22:26:27 sr1 ftpd[11495]: wu-ftpd -
TLS settings: control allow, client_cert allow, data allow

Looks like there is a problem with the ftp service no not running even
though both wu-ftp and xinetd are.

Tek Gear: Aussie Online Solutions
ABN: 65 962 184 294
Web Site: www.tekgear.net.au

Jason Hausler: Proprietor
Email: <A HREF="mailto:jason@tekgear.net.au">jason@tekgear.net.au</A>
Mobile: +61 0422 239 133

Disclaimer: If you are not the intended recipient, any use,
distribution, disclosure or copying of this information is prohibited.
If you receive this email in error,  notify us by return email and
delete it and any attachments from your system. This email is not
intended to create legally binding rights or obligations unless stated
otherwise.



-----Original Message-----
From: Richard Russell [mailto:<A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>] 
Sent: Wednesday, 6 August 2003 12:47 PM
To: 'Tek Gear :: Jason'; <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Subject: RE: ftp server setup


OK, things are rather disorganised here, because of the masses of help
:)

One thing I just thought of is DNS. If your DNS isn't configured right,
it
can take a few minutes for ftpd to start. Does ftping to localhost
actually
give you an error, or just nothing, and then you kill it?

I've tried to condense things down, so you can get all the relevant info
in
one email... run the following commands as root, and let us know
anything
that isn't as it should be:

* netstat -anp --inet |grep LISTEN
	should show something listening to port 21

* ps -elf | egrep [ftp|inet]
	should show one or both of inetd or ftpd

* rpm -qa | grep ftp
	should show that you have an ftpd installed

* ifconfig -a
	should show you have eth0 and lo up and correctly configured

* ping localhost
	should be able to ping localhost

* nmap localhost
	should list ftp as a service that is open

* telnet localhost 21
	should connect (won't do anything else sensible)

* ssh localhost
	assuming you are running sshd, you should be able to ssh to
yourself
successfully

* more /etc/xinetd.d/*ftp*
	should show that your ftp daemon is not disabled
	also, should tell you if tcpd is controlling access to this
daemon

* chkconfig all
	not sure how this command is run -- check man page.
	should show ftp is on in the current runlevel

* runlevel
	gives you current runlevel

* /etc/init.d/&lt;ftpd&gt; status
	if you're running it standalone, this tells you if it's running

* /etc/init.d/&lt;ftpd&gt; [re]start
	if you're running it standalone, this [re]starts it

* /etc/init.d/xinetd status
	should tell you if inetd's running

* /etc/init.d/xinetd [re]start
	[re]starts inetd

* grep -i ftp /var/log/messages
	should list ftpd starting, stopping, and perhaps giving errors
	may also find /var/log/daemon or /var/log/*ftp* or
/var/log/*ftp*/*

* grep -i inetd /var/log/messages
	should list inetd starting, stopping, and perhaps giving errors
	you may want to use less and search manually for inetd, as some
errors are on separate lines...

That's all I can think of for now...


rr

-- 
Richard Russell
Yellow Goanna P/L
m: +61 412 827 805
e: <A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>
w: <A HREF="http://www.yellowgoanna.com">http://www.yellowgoanna.com</A>





-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
