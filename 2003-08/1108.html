<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="when good disks go bad..." -->
<!-- FromName="'matt brennan'" -->
<!-- FromEmail="linuxsa@classforge.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 21 Aug 2003 13:09:57 +0930" -->
<!-- Id="3F443F0D.9040805@classforge.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: when good disks go bad...</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: matt brennan &lt;<I><A HREF="mailto:linuxsa@classforge.com">linuxsa@classforge.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 21 Aug 2003 13:09:57 +0930
</PRE>
<H1>when good disks go bad...</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
hello,
      i have a disk that is reporting:

find: /usr/doc/samba-common: Input/output error

when a cron job accesses (find in) the listed directory... indeed any
attempt to read or write to the directory produces an Input/output error.

Googling around, it seems likely that there is a hard error on the disk
or possibly a file system problem. The file system is ext3 and is not
normally fscked at boot.

qn 1: i guess i should unmount and fsck this partition. however, should
i use a rescue disk to do this since /sbin/e2fsck is on the affected
partition? at the moment, the box has no floppy drive which will mean a
wander around to find a 2nd hand floppy.

qn 2: assuming the filesyetem is ok, perhaps i can then low level format
the disk and mark bad sectors... but this is ugly as it means a
reinstall fromm scratch so maybe...

qn 3: if the filesystem is ok, should i then assume the disk is a dud
for now and look to replace it? it is an old 2gig scsi disk - is it
possible to just 'dd' off the contents to another disk of similar
(larger in this case - 4 gig) size, mount the new disk in place of the
old and expect all data to be happily transferred and functional?

(from some limited experience dd'ing files between /dev/fd0u1440 and
/dev/fd0u1680 devices, i wonder if dd is at all happy when the source
and target disks do not match in size (noting of course that you can't
fit 1.68 Mbytes on a 1.44 Meg floppy!). dd'ing a 1.4 meg floppy to a
formatted 1.68 meg floppy seemed to limit the new disk to only ever
having 1.44 Megs of capapcity...

i guess after doing this i can then try the lowlevel format and mark bad
sectors on the error disk to have a backup disk for the next bad day?

anway, it would be good to get some insight into this from the linuxsa
gurus before pulling things apart as the box in question is pretty
central to my home/work network. :-)

thanks,

    matt

ps: the linuxsa mailing list archives don't obfuscate the email address
of the correspondents. anecdotally, have people's names been sucked up
by crawlers and added to the spammers target lists?

pps: when subscribed to the linuxsa digest, what email address allows 
you to post to the list? the linuxsa mailing list faq says:

   "You use the same address to post to the list."

but subscribing to the digest list and posting returns an error like:

* You are not subscribed to the list.
* You have been unsubscribed from the list.
* You are mailing from an address that is different than the one
   subscribed to the list.

&lt;all not true in this case&gt;

maybe this:

   <A HREF="mailto:linuxsa-digest@linuxsa.org.au">linuxsa-digest@linuxsa.org.au</A>

is the real address to post?

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
