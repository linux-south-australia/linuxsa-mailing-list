<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Real backups" -->
<!-- FromName="'Geoff Russell'" -->
<!-- FromEmail="geoff@austrics.com.au" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 12 Aug 2003 17:47:07 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.44.0308121721060.1608-100000@localhost.localdomain" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Real backups</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Geoff Russell &lt;<I><A HREF="mailto:geoff@austrics.com.au">geoff@austrics.com.au</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 12 Aug 2003 17:47:07 +0930 (CST)
</PRE>
<H1>Real backups</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi List,

I've had plenty of help regarding my 2Gb file limit on MDK 9.1.

Thanks to you all.

Now for a hard one. 

I've used dump/restore to successfully recover from 2 production
level hard disk crashes - so I really like them, since they have
saved my bacon. Linus reckons they are unreliable.

<A HREF="http://www.redhat.com/docs/manuals/linux/RHL-8.0-Manual/admin-primer/s1-disaster-backups.html">http://www.redhat.com/docs/manuals/linux/RHL-8.0-Manual/admin-primer/s1-disaster-backups.html</A>

So I'm looking at tar (which I've used for years, but only
for ad hoc backups and moving stuff around).
And I'm looking at rotating rsync backups also.

Considering tar firstly.

      tar cfv bkup.tar /home

If the /home disk dies I can restore to the point at which I did the
tar.

Now assume /home is about 60Gb.

I'm using disks to backup. Tape drives with high capacity are
expensive and therefore not beloved of those who control the
budget.

I can do tar of everything every day and buy 30 disks per month. 
That is pretty expensive.

With dump I can do differential level 9 dumps daily (level 3 weekly)
and keep masses of history. At 1-4Gb per day I can fit about
20 days on a $200 ide drive. One drive per month isn't quite
so bad, and recycling the disks after 6 or 8 months is acceptable. The
user who realises after a month that s/he deleted an important file
can get it back. I can recover from a crash and get within a
day of the disk image at the time of the crash. 

If I look at so-called "incremental" tar/pax and the like, they
don't appear to handle deleted files properly. They 
backup changed files but don't deal with the fact that I have
deleted 5 files and don't want them in a restore. Have I
missed something or does this really suck. If I restore
from the base tar and then the differential/incremental tar I 
am still stuck with all the files that were in the base tar but
deleted prior to the differential tar.  

I've looked at rotating rsyncs (see rsync web page). We used
these for a while but again we used more disk than was
considered acceptable - at least the recovery
logic is okay.  

I've also considered Amanda. It uses dump or tar, and if dump
is untrustworthy and tar has logic problems then I'm not
yet convinced to give it SERIOUS consideration. 

The red-hat page referred to earlier does a lot of handwaving but
doesn't really deal with the fact that full reliable disaster backups
appear to be a major problem if dump is ruled out as unreliable.

Opinions welcome.

Cheers,
Geoff Russell
 
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
6 Fifth Ave           +618-8332-5069 (Home)          |
St Morris SA 5068     +618-8207-2029 (Work)          | <A HREF="mailto:geoff@austrics.com.au">geoff@austrics.com.au</A>
Adelaide, AUSTRALIA   +618-8364-1543 (Fax-Home)      |

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
