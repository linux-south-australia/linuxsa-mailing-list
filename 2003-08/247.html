<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="HOWTO: Telstra's NT1 Plus II in Linux" -->
<!-- FromName="'Andy Zivkovic'" -->
<!-- FromEmail="andy@a-z.au.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="05 Aug 2003 13:03:27 +1000" -->
<!-- Id="1060052208.3149.1.camel@andy.home.a-z.au.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: HOWTO: Telstra's NT1 Plus II in Linux</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andy Zivkovic &lt;<I><A HREF="mailto:andy@a-z.au.com">andy@a-z.au.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: 05 Aug 2003 13:03:27 +1000
</PRE>
<H1>HOWTO: Telstra's NT1 Plus II in Linux</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Incase anyone else is trying it, here's something I just posted on
whirlpool

<A HREF="http://forums.whirlpool.net.au/forum-replies.cfm?t">http://forums.whirlpool.net.au/forum-replies.cfm?t</A>=103265

Since the new untimed data calls came into place, I've been interested
to getting 128k ISDN until ADSL is available to me (I"m on a RIM - I
live in Gungahlin, ACT). Telstra announced that they will be building a
new exchange and it should be finished in about 12 months, so I didn't
want to pay $250 for an ISDN modem, hence why I want to get the NT1+2
working. When I was looking for information on how to get it going, I
could hardly find anything (I think I even found one page saying it's
not possible since it's not supported).

Getting Linux to recognise the modem was easy. If you compiled your own
kernel, make sure your kernel has the acm USB driver. For some reason I
couldn't get it working in Gentoo (my main machine) but luckily my
gateway is running RH8 and it recognised the NT1 and loaded the driver
automatically when I connected the USB cable. The modem is now visible
on /dev/ttyACM0.

I already had a dialup connection set up, so I just edited
/etc/wvdial.conf changed the modem line to point to the above device and
changed the number, username and password to what was appropriate for my
newly acquired TSN connection. My init string was only ATZ and using
that I was able to get a 64k connection.

Looking at Telstra's ISDN CD, there's an extended manual PDF, which
contains valid AT commands.

To enable 128k, I added !T0=0
to enable DVO, I added !T4=1

My wvdial now has the lines:
Init0 = ATZ
Init1 = AT!T0=0!T4=1

I connected and started downloading something big from planetmirror.com,
using wget with the --progress=dot option. It was downloading at 14-15k.
I picked up the phone and the download slowed to something around 7.5k.
I hung up the phone and it went at 14-15k again.

If it fails to connect saying "NO DIALTONE" triple check your dialup
phone number. I managed to get mine wrong and since the error message is
so misleading I thought there was something wrong with the NT1+2 box. It
took a visit to my house by a Telstra tech, several phone calls by
Telstra phone support people and 4 days to fix :( Stupid me.

Anyway, as you can see it's really easy. /dev/ttyACM0 and !T0=0!T4=1 are
the important things. I wonder why it was so hard to find this
information in the first place.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
