<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="SSH + Fetchmail {??}" -->
<!-- FromName="David Lloyd" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 13 Sep 2000 20:09:43 +0930" -->
<!-- Id="39BF596F.D27FDB3E@rebel.net.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: SSH + Fetchmail {??}</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Wed, 13 Sep 2000 20:09:43 +0930
</PRE>
<H1>SSH + Fetchmail {??}</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I've been attempting to get fetchmail to get my e-mail via an SSH
forward. First, I checked the Secure+SSH Pop3 HOWTO:

ssh -f 11110:mail.rebel.net.au:110 -q mail.rebel.net.au sleep 5
telnet 11110 localhost

Acted appropriately. I'm using OpenSSH 2.2.0, and the ssh2 protocol.
This works perfectly and goes without a problem.

I try this with .fetchmailrc as the HOWTO and man fetchmail both say so
(obviously with my own settings):

       poll mailhost.net via localhost port 1234 with proto pop3:
               preconnect "ssh -f -L 1234:mailhost.net:110
                          mailhost.net sleep 20 &lt;/dev/null &gt;/dev/null";


I get asked for password and then get a socket error. An SSH process
sometimes gets left hanging when doing a ps ax as well. I've added a
"-v" option to ssh and it appears to be doing what it is supposed to be
doing; it's definitely authenticating. It looks as if I might have the
following problems:

* even though ssh -v etc etc looks like it should be forwarding, it's
NOT
* it is forwarding, but fetchmail is simply checking for a connection
too son (Rebel isn't the world's fastest ISP and it can take up to 15 to
30 seconds for an SSH session to become authenticated when it's busy)

I'm not sure what else I should say....fetchmail -v doesn't shed any
more light except to say it's fetching the mail (doh) and it failed
(doh) with the the "STAT=SOCK" failure. Nothing appears in my system
logs...

DL
-- 
Did you ever think of me as your best friend?
Did I every think of you? I'm not complaining....
I'll never try to feel, to feel this vibration
I'll never try to reach, to reach your Eden!

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
