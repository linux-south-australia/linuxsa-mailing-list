<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ipfwadm commands for FTP data connections" -->
<!-- FromName="Alan Kennington" -->
<!-- FromEmail="akenning@dog.topology.org" -->
<!-- ToName="Mark Newton" -->
<!-- ToEmail="newton@atdot.dotat.org" -->
<!-- Date="Mon, 11 Sep 2000 14:45:42 +0930" -->
<!-- Id="20000911144542.A29803@dog.topology.org" -->
<!-- Reference="20000911142709.B38609@atdot.dotat.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ipfwadm commands for FTP data connections</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  To  : Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  Date: Mon, 11 Sep 2000 14:45:42 +0930
</PRE>
<H1>Re: ipfwadm commands for FTP data connections</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Mon, Sep 11, 2000 at 02:27:09PM +0930, Mark Newton wrote:
&gt; 
&gt;    - Server creates a new socket and bind()s it to its own IP address on
&gt;      port 20 (ftp-data).
&gt; 
&gt;    - Server connects that socket to w.x.y.z on port [a,b] (where [a,b] is 
&gt;      just my made up notation for "ntohs((a &lt;&lt; 8) | b)"

Mark,

On two different FTP servers, I tried to do an FTP access
with my Netscape browser on linux.
The result was:

Sep 11 14:34:26 dog kernel: IP fw-in deny ppp0 TCP 192.111.32.8:15606 203.38.148.52:2810 L=60 S=0x00 I=11273 F=0x0040 T=245
Sep 11 14:34:28 dog kernel: IP fw-in deny ppp0 TCP 192.111.32.8:15606 203.38.148.52:2810 L=52 S=0x00 I=11274 F=0x0040 T=245
Sep 11 14:34:34 dog kernel: IP fw-in deny ppp0 TCP 192.111.32.8:15606 203.38.148.52:2810 L=52 S=0x00 I=11276 F=0x0040 T=245
Sep 11 14:34:36 dog kernel: IP fw-in deny ppp0 TCP 192.111.32.8:15606 203.38.148.52:2810 L=60 S=0x00 I=11277 F=0x0040 T=245
Sep 11 14:34:43 dog kernel: IP fw-in deny ppp0 TCP 192.111.32.8:15606 203.38.148.52:2810 L=40 S=0x00 I=11280 F=0x0040 T=245

These are actually SYN/ACK packets.
They are in response to the SYN packet generated by my browser.

Doesn't this cast doubt on the idea that the server uses port 20 for this?

Or is this the wrong kind of FTP (active instead of passive etc.)?
I don't remember seeing any options for this in the
Netscape preferences.

Cheers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
