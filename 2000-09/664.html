<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="ADSL review" -->
<!-- FromName="Darryl Ross" -->
<!-- FromEmail="dross@syc.asn.au" -->
<!-- ToName="LinuxSA (E-mail)" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 14 Sep 2000 16:37:46 +0930" -->
<!-- Id="01C01E6A.1ECA1260.dross@syc.asn.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: ADSL review</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:dross@syc.asn.au">dross@syc.asn.au</A></I>&gt;
  To  : LinuxSA (E-mail) &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 14 Sep 2000 16:37:46 +0930
</PRE>
<H1>ADSL review</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hey All,

We got a 1.5Mbps ADSL link installed here at work on Thursday 7th 
September, so I thought that I'd give the group a little bit of feedback 
about how well it works, especially under linux.

I set up a stand alone box to handle the ADSL link, as that was easier than 
using an existing box. The machine is a 586 100MHz with 32Mb RAM and a 
500Mb hard drive. Nothing fancy. I did a network ftp install of RedHat 6.0 
and tightened down security as tight as I can. The box is not running 
anything except sshd, and the firewall scripts are set to deny any SYN 
packets except those from within our internal network. The box is set to do 
NAT for our internal machines, except for a couple of things, which I'll 
explain in a bit.

The machine has 2 network cards in it. One is a 100Mbps card for our LAN 
and the other is an old NE2000 compatible for the ADSL modem. I downloaded 
the Roaring Penguin PPPoE client from <A HREF="http://www.roaringpenguin.com/pppoe/">http://www.roaringpenguin.com/pppoe/</A> 
in RPM format, installed it and ran adsl-setup. It prompted for the 
settings, which I filled out, and it worked first time, without any fine 
tuning.

Next step was to get the network behind the machine to use the new 
connection. We have a permanent connection with SeNET, which we decided to 
keep, as a backup link. I have set all the machines on the network to have 
the default route pointing to the adsl-gw, except for our senet-gw of 
course. In the ip-up.local script on the adsl-gw, it deletes the default 
route pointing to the senet-gw and adds the default route for the adsl 
link. In the ip-down.local script, it readds the default route for the 
senet-gw. It also modifies the firewall scripts so that NAT is disabled. 
The result is that when the ADSL link is up, it routes through the high 
speed link. If the ADSL link goes down, it automatically routes back over 
the modem backup link. I had to disable NAT for our mail server address, as 
remote mail servers don't like starting a convo with one server, and then 
having the reply come back from a different address.

Anyways, enough on how I set it up and how I got it working, how does it 
actually work????

Well, I would have to answer that by saying that it is great when it works! 
Telstra's speed test showed 150Kbytes/s, within their internal network. 
Ping reply from www.bigpond.com is about 40ms. Ping from www.linuxhq.com is 
about 450ms, which is about what it was just for us to get out of our 
network on the modem link. I downloaded the latest Vet AntiVirus update 
file from www.vet.com.au 130Kbytes/s, and downloads from the US are about 
15-50Kbytes/s.

Unfortunately, we seem to have a bit of a problem with the Alcatel modem 
being very unreliable. It seems to stop wanting to talk to the computer 
after a seemingly random period of time, which ranges from about 15 minutes 
up to several hours. The only way to fix it is to physically turn the ADSL 
modem off and then back on. Telstra are not sure what the problem is 
(actually, the technician, Darren, has been really great. He admitted he 
doesn't know much about computers, let alone Linux, and he actually 
listened to what I said to him before trying to work out what he thought 
was the problem). We've tried a couple of different modems, but it doesn't 
seem to make any difference. The line also tests perfectly. It says in the 
Alcatel manual that if the modem stops responding, then to turn it off and 
back on, so I don't think there is going to be much we can do about it.

I've ordered a serial port controlled 240V power relay, so my ip-down.local 
file can automatically power-cycle the modem. At the moment, I'm not onsite 
with the modem, so I have to phone someone to go into the server room to do 
it for me.

Anyways, if anyone has any questions about it, please don't hesitate to 
write me at <A HREF="mailto:dross@syc.asn.au">dross@syc.asn.au</A>, I love email :)

Darryl

--

Darryl Ross
Network and Systems Administrator
Service to Youth Council, Inc
<A HREF="http://www.syc.asn.au/">http://www.syc.asn.au/</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
