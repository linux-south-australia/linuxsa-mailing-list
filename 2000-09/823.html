<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet" -->
<!-- FromName="John Edwards" -->
<!-- FromEmail="isplist@pinnacle.net.au" -->
<!-- ToName="<LinuxSA@linuxsa.org.au>, "Richard Sharpe" -->
<!-- ToEmail="LinuxSA@linuxsa.org.au" -->
<!-- Date="Mon, 18 Sep 2000 20:38:05 +0930" -->
<!-- Id="008101c02160$b91a27d0$0800a8c0@duel.pinnacle.net.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: John Edwards &lt;<I><A HREF="mailto:isplist@pinnacle.net.au">isplist@pinnacle.net.au</A></I>&gt;
  To  : &lt;LinuxSA@linuxsa.org.au&gt;, "Richard Sharpe &lt;<I><A HREF="mailto:LinuxSA@linuxsa.org.au">LinuxSA@linuxsa.org.au</A></I>&gt;
  Date: Mon, 18 Sep 2000 20:38:05 +0930
</PRE>
<H1>Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt;They have a DLINK 10/100 fdx (DEC 21140-based) and 3Com 3c59X 10/100 FDX
&gt;card in them with a cross-over cable between them.
&gt;
&gt;Using FTP, I get about 1.8MB/s out of this combination on a 500 MB file.
&gt;CPU utilization on the serving machine hits 65% at times, with most of that
&gt;in the system. The client never gets above about 35% utilized.
&gt;
&gt;Looking at the packet to packet times on the wire with Ethereal, there are
&gt;enormous delays at times, like up to 10mS between an ACK and the next TCP
&gt;segment from the server, at other times 6mS or 3mS is not unusual, while at
&gt;other times micro seconds are the differences.
&gt;
&gt;The above represents about 14Mb/s out of a potential 100Mb/s.

That speed sounds about right for realtek-based network cards, but since
you're using something more reputable, It's possible that you might be
seeing some auto-negotiation gone bad.

Try locking both cards down to 10Mb/s and check the latency + throughput,
and definately try running them through a switch if you have one handy.

Also, check the cable (the first rule of networking), 100Mb connections have
pickier cabling requirements than 10Mb. I got a re-education in this
recently when some fancy gear wouldn't talk with each other properly at
100Mb .. it turned out that the cable was ok for 10Mb, but little else.

Check the wiring diagrams at:
  <A HREF="http://www.mimp.com.au/cgi-bin/sh_itm.exe?cid">http://www.mimp.com.au/cgi-bin/sh_itm.exe?cid</A>=a05523&pos=0&xyz=0592

They have 2 different ways to wire a crossover cable there, 1 for 10/100,
and one for 100BaseT4.

John Edwards


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
