<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Mon, 18 Sep 2000 22:22:24 +0900" -->
<!-- Id="3.0.6.32.20000918222224.00a71b10@203.16.214.248" -->
<!-- Reference="3.0.6.32.20000918205457.00a5eb10@203.16.214.248" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A>
  Date: Mon, 18 Sep 2000 22:22:24 +0900
</PRE>
<H1>Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 09:30 PM 9/18/00 +0930, Alan Kennington wrote:
&gt;On Mon, Sep 18, 2000 at 08:54:57PM +0900, Richard Sharpe wrote:
&gt;&gt; 
&gt;&gt; Secondly, it is definitely not a delay-bandwidth problem, since I am seeing
&gt;&gt; RTTs of less than 1mS, and the window size if 32768 (or, 262,000+ bits). An
&gt;&gt; RTT of 1mS means that I would only half close the window before an ACK
&gt;&gt; could get back to the source.
&gt;
&gt;Richard,
&gt;
&gt;What are you basing that 1 mS number on?
&gt;Ping output? Or are you looking at /proc/net/tcp or something?
&gt;The RTT is, of course, the total round trip time, including
&gt;processing time from TCP layer back to TCP layer.

Well, I have a trace, now, taken from the source, where I can see seq # X
go out with 1448 bytes of data or there abouts, and I see an ACK come back
in a shade over 1/2mS for X+2896 bytes (by the looks of it, I am too lazy
to subtract the numbers), which accounts for the intervening segment from
the source as well.  

These packets are being seen in the IP layer, at ip_output (I think) and
ip_rcv, so they are pretty close to the tcp layer. In addition, the source
then produces its next outgoing segment in 0.1mS, but waits a whopping
1.7mS before producing its next segment, and pops one more out after that
in 0.018mS.

An examination of some more data shows segments that are not full on
occassion, with long pauses before transmission resumes, so I think I am
seeing problems with the sender being able to supply the data quickly
enough as well.



Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.zing.org)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
