<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: badblocks program" -->
<!-- FromName="Jason Tan" -->
<!-- FromEmail="jason@rebel.rebel.net.au" -->
<!-- ToName="Michael Fewings" -->
<!-- ToEmail="oldpop@ihug.com.au" -->
<!-- Date="Fri, 1 Sep 2000 18:23:58 +0930 (CST)" -->
<!-- Id="Pine.LNX.3.95.1000901181045.10878A-100000@rebel.rebel.net.au" -->
<!-- Reference="39AF1A4A.104DB699@ihug.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: badblocks program</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jason Tan &lt;<I><A HREF="mailto:jason@rebel.rebel.net.au">jason@rebel.rebel.net.au</A></I>&gt;
  To  : Michael Fewings &lt;<I><A HREF="mailto:oldpop@ihug.com.au">oldpop@ihug.com.au</A></I>&gt;
  Date: Fri, 1 Sep 2000 18:23:58 +0930 (CST)
</PRE>
<H1>Re: badblocks program</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Fri, 1 Sep 2000, Michael Fewings wrote:
&gt; &gt;
&gt; &gt;
&gt; 
&gt; Sorry?? - I thought you weren't sure whether badblocks worked??

I am not sure if badblocks works.

But that command will I think map the blocks that badblocks
think are bad out of the FS (assuming that badblocks works - perhaps I
should have qualified my syntax guide).

Now whether badblocks is  reporting stuff correctly, I dont
know, but would like to.

People on the linux-raid list reckon it does.

&gt; 
&gt; In the RedHat installation (up to 6.0 anyway) there is an option to check for
&gt; badblocks when formatting ones partitions. I assumed that this used the badblock
&gt; program and wrote the output to a file which could be used by the filesystem to
&gt; prevent the writing of data to those blocks flagged as _bad_.

I tried this recently with RH 6.1 on which I was doing a RAID 1 install
on a disk that I had had  badblocks problems

The RH installer did its stuff and I rebooted and I had bad blocks probs,
despite the fact the RH isntaller was sposed to test for them and had
returned no ouptut to indicate that it had found any badblocks.

But badblocks found some bad blocks, when run off of one of those
linuxcaare business card boot CDs.

However because it was a RAID install and not a "normal" install I am not
really confident that it is a normal case and that the RH installer
scripts/program would cater for it properly.

Or maybe the redhat installer uses some other program to test for bad
blocks.

This is part of the reason I want to know if bad blocks works.
Clearly either: the redhat installer doens't detect bad blocks; it
doesn't detect them when you do a raid isntall; or badblocks erroneously
reports bad blocks where none exist.

However the raid had problems synching, where ist seemed to thrash itself
crazy on a particular block, so i think there were some bad blocks.

However the badblocks program output a list of over 120,000 blocks as
being bad. This seems like an awful ot of basd blocks ofr anew (one week
isntalled disk) that passed a badblocks test the night before and ahd been
sitting idle in my office overnight.

Can you see why I woudl liek confirmation form anyone who actually knows
if badblocks works or not.


 &gt; 
&gt; Well this didn't work for me! The bad blocks were certainly detected but data was
&gt; written to them anyway as the installation progressed. I spent many hours running fsck
&gt; on these partitions to try and correct them after my computer would freeze up
&gt; (especially if I did a find / -name &lt;filename&gt; - of course!)

This of course assumesn the RH installer is using badblocks and that is
does use the right ooptiosn for mke2fs, which may be an erroneous
assumption.

&gt; Hence my disillusionment with this program.

And my seach for soemone who trulty KNOWS...

&gt; 
&gt; As much as I despise MS and everything it stands for, scandisk always seemed to work
&gt; for me.

Regards
jason

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
