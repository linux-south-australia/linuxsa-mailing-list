<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Memory cleanup in Linux (from newbie)" -->
<!-- FromName="Paul Malcolm Bailey" -->
<!-- FromEmail="pmbailey@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 06 Sep 2000 19:55:32 +1030" -->
<!-- Id="39B60D8C.FDD18E03@senet.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Memory cleanup in Linux (from newbie)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Paul Malcolm Bailey &lt;<I><A HREF="mailto:pmbailey@senet.com.au">pmbailey@senet.com.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Wed, 06 Sep 2000 19:55:32 +1030
</PRE>
<H1>Memory cleanup in Linux (from newbie)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi all.

After doing some memory-intensive and graphics-heavy stuff on my Linux
machine (e.g. having multiple virtual desktops, running numerous
Netscape windows, running the GIMP with a bunch of different .xcf files
simultaneously, checking out various .pngs in Electric eyes, etc),
performance under X/Gnome/Enlightenment is ... not great.

Even after killing off the various apps I'm running, and just having a
couple of virtual desktops, everything still runs pretty slow. 
Sometimes just leaving it for a few hours (without running anything)
causes some of the processes to die off and some memory gets reclaimed,
but in some cases I've got to reboot the machine to get any speed back. 
And no-one wants to reboot a Linux box just to get some speed back.  You
shouldn't have to, right?

It's as if memory got chewed up but wasn't relinquished by some of the
apps.

(This is RH6.1 with Gnome 1.2 and Enlightenment 0.16.4 running XFree86
3.3.5.  The hardware is a Pentium II 350 MHz with 128 Meg RAM, a 4 Meg
S3 Virge video card, a swap partition of 128 Meg and about 1 Gig free on
a 3 Gig hard drive.)

Is there some kind of command or utility that exists under Linux that
causes system-wide "garbage collection" or memory cleanup?


R,

Paul Malcolm Bailey.



Postscript:

I'm sure that some people reading this might say "Wuh?  You're running
Linux solely as a desktop machine and running lots of graphics apps and
sixteen virtual desktops?  Wuddya mean, no servers?  Wuh, you're only
connecting to the Net a few hours a week, and even then over a 56K
modem?  No sshd?"  That's right.

I'm sure some might say (and no flames, please), "Hey, for the apps use
Windows or get a Mac or something.  You tried BeOS?"  (I.e. "Why not
have a dual-booting machine?")  But that's making a distinction between
server and client operating systems that I don't.  I use Linux as a
power desktop operating system.  Wiped out Windows 98 just to get it,
too.  But why should I get rid of Windows and Office in toto if I'm
mainly running apps?

Read on for the answer...

The following three kernel crashes happened in a space of around a week
or so:

1)  Start up Microsoft Word:  BOOM!  Win32 kernel crash.

2)  Start up Internet Explorer:  BOOM!  Win32 kernel crash.

3)  Tap the Windows key (yep, the Windows key):  BOOM!  Win32 kernel
crash.

The last one did it for me.  I mean, binding the Windows key to kernel
crashing (or so it seemed) just does NOT seem like great PR, y'know?  I
just couldn't believe it.

(In each case the machine had only been running for an hour or two, and
idle for most of that time anyway.  What the hell was going on?  I mean,
and that was after downloading and installing over 20 Meg of Y2K patches
for Win98.  What was the friggin' point of it all?)

Now, if I was running a bunch of servers and getting that kind of
response, I'd probably be permanently shitty at Microsoft (and use terms
like "Microsuck" and "Winblows") and piss on them every opportunity I
got.  So I've come to understand, over time, why Microsoft isn't
criticised so much as hated, slated and litigated by, well, the rest of
the world.

Around the Time of the Great Microsoft Kernel Disasters (that was in
Jan/Feb of this year) I downloaded and read Neal Stephenson's "In the
Beginning was the Command Line".  It's a large document at around 30K,
takes an hour or two to read.  All text, unformatted, no hyperlinks.  It
was probably after reading that document that I decided I'd try Linux
(after hearing about the OS for a couple of years).  Now, "In the
Beginning..." is very long, but it is compelling and at times very funny
(the comparison between operating systems development and car sales is
hilarious).  It's probably the best sales pitch for Linux and
open-source software I've read.

At any rate, the word "kernel" along with the concept of "reliability"
adds up to "Linux" for anyone who surfs the Web.  Motivated (positively)
by Neal Stephenson, and motivated (negatively) by Microsoft, I did the
comparisons.

I looked at what I'd lose if I wiped (or at least moved away from)
Windows:  familiarity, common file formats (e.g. Word documents) with
the rest of the world, software like Dreamweaver and Photoshop,
Microsoft Office.

I looked at what I'd gain FOR FREE if I went to Linux:

* the Apache Web server
* a fully relational database (Postgres, but mySQL and mSQL are also
available)
* a bunch of languages (assembler, C, C++, Lisp, Perl, Python, Tcl/Tk,
PHP, Java)
* the GIMP
* any number of text editors
* that incredible Enlightenment thing everyone kept raving about

Since I only really do Web development work on the machine, I really
only needed to make sure I had access to a text editor (hey, it's Linux,
take your pick!) and the GIMP.  As for the rest...

...well, the Linux community had developed something of a legendary
reputation, and I figured if I needed a file filter for, say, Excel
documents, either a file filter would have been developed or you'd just
get in touch with a developer and they'd make one up for you!  (In the
end, I found Gnumeric which is a *great* replacement for Excel.)

And then there's StarOffice for Linux, and Quake for Linux, and Oracle
for Linux (apparently)...

So, yeah, I use this Linux-only machine as a power desktop tool but I do
kind of lean on it graphics-wise.  It's not perfect, but I tell you that
Linux makes a pretty good replacement *just on the desktop* for Windows.

I'd just thought I'd mention all this, because I *do* have a bag of
questions about life in Unix-land, generally, and Linux-land,
specifically, and they may seem a bit odd to experienced systems
administrators on the Linux SA mailing list who are wanting more
performance out of their Web server, say, as compared to the newbie
stuff that comes from me ("How come I can't run another X server from
tty1?")

But I bet there are a bunch of Windows power users out there who are
pissed off with kernel crashes, paying for shitty software, or even
paying for software at all!

And they'll come running to places like Linux SA.


Regards,

Paul.



-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
