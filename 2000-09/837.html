<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: sshd unreliable" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="Alan Kennington" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Tue, 19 Sep 2000 08:35:42 +0930" -->
<!-- Id="20000919083541.D67834@atdot.dotat.org" -->
<!-- Reference="20000919054704.A18989@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: sshd unreliable</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  Date: Tue, 19 Sep 2000 08:35:42 +0930
</PRE>
<H1>Re: sshd unreliable</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, Sep 19, 2000 at 05:47:04AM +0930, Alan Kennington wrote:

 &gt; SSH not 100% reliable!!
 
Film at 11.

 &gt; Moral of story:
 &gt; If you rely on "ssh" as your only way to log in to a machine,
 &gt; then you risk losing all contact.

Sigh.

Hundreds of thousands of ssh users would disagree.  You're doing something
wrong, Alan, and it's apparently unique to you.  I don't know what it is,
because you haven't provide anywhere near enough information to permit a 
credible diagnosis;  But I do know that in over five years of ssh usage,
on literally hundreds of machines, I have never once seen a failure of
sshd.  Not once.  It starts at boot-time, and it runs until the system is
shut down, with 100% emperical reliability.

 &gt; The OpenSSH software is clearly not yet at the level of reliability
 &gt; that you would want to place too much trust in it.

Having used it all over our network at work, and all over my network at 
home, and having never had a single failure, and having seen it ushered
into the FreeBSD source tree as a standard part of the installation which
doesn't appear to have caused any problems for anything, I can only assume
that you've made an error.

 &gt; Then again, I use it with "scp" maybe 50 times a day.
 &gt; Eventually, it seems that the process just acquires too many
 &gt; open files.

Doubtful.  Each connection causes sshd to fork, and the child process
opens the files.

 &gt; Is there some way I can list the files opened by a process?
 &gt; I can't find this in the "fuser" and "ps" manuals.
 &gt; Aha. Found it. It's in the file /proc/1286/fd for process 1286.
 &gt; Hmmm. 24 open files. Is that too many?

No, nowhere near too many.

 &gt; "man getdtablesize" says I can have 256 open file descriptors.

That's per-process.  The system-wide open file limit would be much higher.

 &gt; So where's the problem?

Keyboard-to-chair interface :-)

   - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
