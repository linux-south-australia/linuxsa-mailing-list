<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: sshd unreliable" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="Alan Kennington" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Tue, 19 Sep 2000 11:38:48 +0930" -->
<!-- Id="20000919113847.A70623@atdot.dotat.org" -->
<!-- Reference="20000919102121.A19645@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: sshd unreliable</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  Date: Tue, 19 Sep 2000 11:38:48 +0930
</PRE>
<H1>Re: sshd unreliable</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, Sep 19, 2000 at 10:21:21AM +0930, Alan Kennington wrote:

 &gt; &gt; Not quite sure what you do to your systems Alan, but you do seem to have a 
 &gt; &gt; lot more problems than most :)
 &gt; 
 &gt; Maybe it's because I have 6 different linux systems, which is asking
 &gt; for 6 times as much trouble for a start. 
 
No it isn't.  I hope this is tongue-in-cheek.
 
 &gt; It just might be that "scp" is different to "ssh".

It's using the same protocol, the sshd which you claim is crashing is the
same in both cases.

 &gt; Maybe some scp connections are just lingering on when they shouldn't.
 &gt; I run "scp" a lot.
 &gt; In the last 53 hours, I did 62 ssh or scp sessions.
 &gt; The daemon was up for a month or two.
 &gt; But even one month would be 1000 sessions or so.
 
<A HREF="mailto:newton@olympia">newton@olympia</A>&gt; uptime
 6:48PM  up 453 days,  6:05, 1 user, load averages: 0.21, 0.13, 0.06

I have emperical evidence of hundreds of systems which have been up for
yonks without the problems you're experiencing.  I've been routinely 
using scp instead of ftp for years, and have never once experienced these
problems.  Other people on this list have chimed in with responses which
indicate that they get similar levels of reliability.  I note that the
FreeBSD mailing lists, which deal with an OS which ships OpenSSH as a standard
component, are overwhelmingly devoid of complaints about its reliability.
It seems to me that ssh's reliability in the field is close to inetd's
reliability in the field.

So I conclude that there is something strange about your system which has
given you the problems you are having.

As yet you have not provided any information at all which would lead to
a better explanation of the problem.  Perhaps we can re-evaluate it when
you start to show some interest in making it work, instead of talking
about how it doesn't.

 &gt; Although in theory the connections are palmed off to child processes,
 &gt; the new daemon I started a couple of hours ago already has 20 open
 &gt; connections, according to the /proc/*/fd/ directory.
 &gt; Not good!

You utter those two words without a skerrick of understanding of what
you are saying.  It appears, to all intents and purposes, that you 
misunderstand the function of /proc/*/fd, and you misunderstand the typical
file activity of a normal UNIX daemon process, yet you still make the 
somewhat bold (and bald) claim that what you have observed is "not good."

"fstat" or "fuser" output might be useful;  Rummaging through /proc/*/fd/
almost certainly isn't.

 &gt; I should also mention that I usually transfer about 8 files at a time
 &gt; with scp in any one connection. Maybe that's a factor. 
 &gt; Not very likely though.

Correct;  Not likely at all.

 &gt; PS. Knowing the right person to blame when a system fails is
 &gt; poor consolation when you're 15,000 km from your computer
 &gt; and you just want that system to work.
 &gt; Therefore I prefer to configure systems for maximum reliability,
 &gt; not for minimum blame. That's what the suits do.

Smirk.  In my experience that's not uniformly correct either :-)

   - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
