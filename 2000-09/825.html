<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="Andrew Burrow" -->
<!-- ToEmail="alburrow@cs.adelaide.edu.au" -->
<!-- Date="Mon, 18 Sep 2000 20:54:57 +0900" -->
<!-- Id="3.0.6.32.20000918205457.00a5eb10@203.16.214.248" -->
<!-- Reference=""Your message of Mon, 18 Sep 2000 18:35:44 +0900." <3.0.6.32.20000918183544.00a54960@203.16.214.248" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : Andrew Burrow &lt;<I><A HREF="mailto:alburrow@cs.adelaide.edu.au">alburrow@cs.adelaide.edu.au</A></I>&gt;
  Date: Mon, 18 Sep 2000 20:54:57 +0900
</PRE>
<H1>Re: Curious results with Linux 2.2.14 and 100Mb/s Ethernet</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 08:32 PM 9/18/00 +0930, Andrew Burrow wrote:
&gt;
&gt;Regarding ethernet and dual celerons:
&gt;
&gt;&gt; I am seeing some curious results with a pair of test system running Linux
&gt;&gt; 2.2.14.
&gt;&gt; 
&gt;&gt; The systems are a K6-2/400 and a dual-celery 533, with 128MB and 256MB
&gt;&gt; respectively. 
&gt;&gt; 
&gt;&gt; They have a DLINK 10/100 fdx (DEC 21140-based) and 3Com 3c59X 10/100 FDX
&gt;&gt; card in them with a cross-over cable between them.
&gt;
&gt;I suspect this could be the dual celeron causing problems.  I know
&gt;that have bitched about the BP6 before on this list :-(, but my
&gt;experience is with a NetGear 10/100 ethernet card in a dual celeron
&gt;BP6 box.  I cannot get it to work effectively --- similiar problems,
&gt;intermittent transmitter freezers, and inability to handle DHCP
&gt;request packages from an iMac.  It works fine at 10 Mbit, talking to a
&gt;ne2k-pci fitted debian box.

Hmmm, more examination and thought suggests that very curious things are
happening.

Since the file is 500+MB long, it is not going to reside in the buffer
cache. The sink machine can write to the disk at 5.51 MB/sec, so this will
be the max rate that I can transfer the file, once the buffer cache fills,
or reaches the level that Linux will start writing, or the update daemon
decides to start flushing.  So, perhaps if I try with a smaller file, I
will see a larger rate.

Secondly, it is definitely not a delay-bandwidth problem, since I am seeing
RTTs of less than 1mS, and the window size if 32768 (or, 262,000+ bits). An
RTT of 1mS means that I would only half close the window before an ACK
could get back to the source.

Thirdly, there are really odd things going on in the TCP layer, it looks
like, because, very early on in the transfer, when there should have been
space in the, like segment 5 or 6 on the data connection, when the window
was 28,960 bytes, the sending system took a whopping 15mS to send the next
segment after an ACK. There are no other frames in between, so there should
not be any lost frames, nor any collisions.



Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.zing.org)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
