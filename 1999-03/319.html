<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="socket mysteries solved" -->
<!-- FromName="O'Connor, Steven" -->
<!-- FromEmail="Steven.O'Connor@boralenergy.com.au" -->
<!-- ToName="'linuxsa@linuxsa.org.au'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 18 Mar 1999 11:34:41 +1030" -->
<!-- Id="199903180003.KAA31858@Elizabeth.netcraft.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: socket mysteries solved</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: O'Connor, Steven &lt;<I><A HREF="mailto:Steven.O'Connor@boralenergy.com.au">Steven.O'Connor@boralenergy.com.au</A></I>&gt;
  To  : 'linuxsa@linuxsa.org.au' &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 18 Mar 1999 11:34:41 +1030
</PRE>
<H1>socket mysteries solved</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
thanks for the notes, the solution is :

---------------------------------------
struct sockaddr addr;
int addrlen;

addrlen = sizeof (addr);
retVal = accept (fd, &addr, &addrlen);
--------------------------------------

I missed out the setting of addrlen before calling accept(). I assumed that
because you pass addrlen by ref that the accept call wants to write into the
variable, which it does. It also reads from the variable as well, and
requires it to be setup prior to use .... whoever wrote accept () and
getpeername () must have been on the same drugs that the author of select ()
was on , no doubt.

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
