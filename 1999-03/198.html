<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Big disk drive + small PC + linux" -->
<!-- FromName="Toby Corkindale" -->
<!-- FromEmail="tjcorkin@steadycom.com.au" -->
<!-- ToName="Mark Newton" -->
<!-- ToEmail="newton@atdot.dotat.org" -->
<!-- Date="Fri, 12 Mar 1999 06:08:40 +0000" -->
<!-- Id="36E8AF68.F5C56BB6@steadycom.com.au" -->
<!-- Reference="199903120538.QAA75633@atdot.dotat.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Big disk drive + small PC + linux</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@steadycom.com.au">tjcorkin@steadycom.com.au</A></I>&gt;
  To  : Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  Date: Fri, 12 Mar 1999 06:08:40 +0000
</PRE>
<H1>Re: Big disk drive + small PC + linux</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hmmm
Maybe someone should tell all this to one of my PCs at home.
I've got a 10.4 Gb drive in it, which is in LBA mode because I've got a
windows partition on it as well.
Contrary to what someone said earlier, the IDE drive does NOT do the LBA
mapping/unmapping - this is purely a BIOS thing.
Now, this 10gb drive definately has way more than 64 heads reported in
BIOS, under LBA. (Yes, I know they're not 'real' heads, but the point is
that there's more than 64 (2^6), which Mark is saying is the limit.) It
also has more than 1023 cylinders as well.
I've seen old BIOS's loop back large harddrives such that they report
them as incorrect sizes, but mine works fine. I don't believe that the
BIOS itself imposes a limit on the cylinder/head amounts. This drive has
more than 1023 cylinders, and more than 64 heads, and works fine in LBA
mode.

Now, I've got this drive configured to have a 8Gb windows partition
(fat32), and then a swap, and then 2.3Gb of a linux partition (ext2).
Now, the linux partition is at the end of the disk, and lilo did gives
me warnings about being too large, etc. etc.
The first time I tried to boot off this drive, lilo just printed a
single L.
However after rebooting via the redhat CD and then using the bash shell
in the 2nd VT, I changed the lilo options, re-ran lilo, and the drive
has booted fine, ever since.

I think the options were to manually specify the drive size, and to say
'linear', but I'll check when I get home.
I have set up linux on a friends PC where he had a large drive, and only
a 486dx-33, with no LBA mode in the BIOS. Again, everything installs and
boots fine.

Basically, Linux doesn't really seem to mind too much about booting from
weird places, as long as you tell it so. I think the problems people are
seeing are due to the fact that the protected mode linux disk drivers
don't use BIOS calls, and thus skip LBA, but LILO still uses BIOS calls
(as has been said before.) However, the bios _IS_ capable of addressing
beyond 1023 blocks, it's just that turning on LBA mapping screws things
up a bit.
If you don't intend to run DOS on your PC at all, you may as well remove
the LBA option completely, and gain some extra space and efficiency. ;)

Any hardware gurus want to set the record straight?


Seeyas
Toby


Mark Newton wrote:
&gt; 
&gt; Rick Marshall wrote:
&gt; 
&gt;  &gt; The 1023 limit is because the BIOS uses only 10 bits for cylinder
&gt;  &gt; address. The other 6 are used for something else.
&gt; 
&gt; The number of heads (which is why you can only have 64 heads on your
&gt; 1024 cylinder disk).
&gt; 
&gt;    - mark
&gt; 
&gt; --------------------------------------------------------------------
&gt; I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
&gt;      but it hurt when I walked.                          Mark Newton
&gt; ----- Voice: +61-4-1958-3414 ------------- Fax: +61-8-83034403 -----
&gt; 
&gt; --
&gt; Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
...Veni, Vidi, VC++. (I came, I saw, I kludged)

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
