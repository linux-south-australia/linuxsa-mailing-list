<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Kernel upgrade went wrong." -->
<!-- FromName="Benjamin Close" -->
<!-- FromEmail="linux@senet.com.au" -->
<!-- ToName="Neil Ridley" -->
<!-- ToEmail="n.ridley@SACBH.com.au" -->
<!-- Date="Tue, 16 Mar 1999 18:39:33 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.04.9903161831330.1350-100000@Bytes4u.nodomain.yet" -->
<!-- Reference="c=AU%a=_%p=SACBH%l=HOSE007-990315232907Z-1463@hose007.sacbh.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Kernel upgrade went wrong.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Benjamin Close &lt;<I><A HREF="mailto:linux@senet.com.au">linux@senet.com.au</A></I>&gt;
  To  : Neil Ridley &lt;<I><A HREF="mailto:n.ridley@SACBH.com.au">n.ridley@SACBH.com.au</A></I>&gt;
  Date: Tue, 16 Mar 1999 18:39:33 +1030 (CST)
</PRE>
<H1>Re: Kernel upgrade went wrong.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 16 Mar 1999, Neil Ridley wrote:

&gt; 
&gt; I tried upgrading the kernel to 2.2.1 being fairly new to linux I could
&gt; have done something wrong however I 
&gt; thought I did everything as per the /usr/src/linux README, I did have
&gt; problems with make zImage and make zLilo instead I had to run make
&gt; zbImage I think it's called. Also the other item of interest was that
&gt; Lilo was pointing to /boot/zmlinuz.2.*   and I overwrote it with zImage.
&gt; 
&gt; The problem is my PC boots to the Lilo prompt and then automatically
&gt; reboots in an endless loop but I can go to my win98 partition.
&gt; 
&gt; Is this recoverable? how can I get to the extfs2 partion to make
&gt; changes?

Yes it is recoverable.

It sounds like you just got the image in lilo wrong.

To get back in to linux (under dos) put in your redhat cd, change to the
cd drive, then do the following.

cd dosutils
loadlin autoboot/vmlinuz root=/dev/(whereveryouinstalledlinux ie hdb2)

This should get you back in linux with an older kernel.


Now to fix your problem do the following:

1&gt; add a backup kernel entry to /etc/lilo.conf 
   ie:

	image=/boot/vmlinuz-2.0.36-3
	label=backup

find out the name of your old kernel first though

2&gt; Check that you got your new kernel name correct. Ie you copied zImage
to /boot/zImage

so lilo.conf should have a line like
	image=/boot/zImage
	label=linux

3&gt; RUN LILO! This is very important.

This should fix your problems.

Cheers,
	
--

* Benjamin Close
* <A HREF="mailto:Benjsc@senet.com.au">Benjsc@senet.com.au</A>
* Web Page: <A HREF="http://users.senet.com.au/~benjsc">http://users.senet.com.au/~benjsc</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
