<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Backing up a Hard Drive" -->
<!-- FromName="'Darryl Ross'" -->
<!-- FromEmail="dross@syc.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="michael@home.lyppard.com.au" -->
<!-- Date="Sun, 23 Jun 2002 00:28:53 +0930 (CST)" -->
<!-- Id="2675.150.101.233.22.1024757933.squirrel@test.syc.net.au" -->
<!-- Reference="20020621103753.A12157@yellowgoanna.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Backing up a Hard Drive</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:dross@syc.net.au">dross@syc.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:michael@home.lyppard.com.au">michael@home.lyppard.com.au</A></I>&gt;
  Date: Sun, 23 Jun 2002 00:28:53 +0930 (CST)
</PRE>
<H1>Re: Backing up a Hard Drive</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Run `fdisk` and create a new partition in the spare space on the drive.

Darryl

-- 
Darryl Ross
Senior Network and Systems Administrator
Service to Youth Council Inc
<A HREF="mailto:dross@syc.net.au">dross@syc.net.au</A>

&gt; Hi.
&gt;
&gt; Something I have never found the answer for:
&gt;
&gt; If I dd a 5 gig drive onto a 20 gig drive, the 20 gig will 'lose' the
&gt; extra space, right? Is there any way of recovering it?
&gt;
&gt; Michael
&gt;
&gt; On Fri, 21 Jun 2002, Richard Russell wrote:
&gt;
&gt;&gt; On Fri, Jun 21, 2002 at 09:50:21AM +0930, Matthew Western wrote:
&gt;&gt; &gt; Sorry if this is thread hijackin but:
&gt;&gt; &gt; If i have running linux machines i don't want to take down at all.
&gt;&gt; &gt; I want to tar off the whole hard drive and be able to just chuck the
&gt;&gt; &gt; tar back on another hard drive should the original fail.  Can i do
&gt;&gt; &gt; this without having to reload linux etc etc which is too slow, i
&gt;&gt; &gt; just want to chuck it back on another drive without any hassles.
&gt;&gt;
&gt;&gt; Almost.
&gt;&gt;
&gt;&gt; You really should bring the live linux box down to single user to do
&gt;&gt; this, or at least make sure that there is nothing that is writing to
&gt;&gt; the disk at the time...
&gt;&gt;
&gt;&gt; Also, tar works by getting data and inodes, then re-creating them on
&gt;&gt; the target filesystem. You will have to create the filesystem(s) on
&gt;&gt; the new machine prior to untarring. Also note that tar only gets
&gt;&gt; files, not boot blocks etc, so you'll have to boot from something and
&gt;&gt; then re-run lilo.
&gt;&gt;
&gt;&gt; dd or dump may make things easier for you -- I think dump still
&gt;&gt; requires you to create partitions and re-run lilo, but dd will do
&gt;&gt; everything exactly the same -- but make sure you have a big enough
&gt;&gt; drive (and remember that your partitioning will be _exactly_ the same
&gt;&gt; as on the old drive...
&gt;&gt;
&gt;&gt; Whatever you do, make sure you make the backup on a system with
&gt;&gt; nothing writing to the drive, and that you test it before relying on
&gt;&gt; it.
&gt;&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; I could use ghost, but i was wondering if it's possible using tar or
&gt;&gt; &gt; something so as to not down the server everytime to disupt users for
&gt;&gt; &gt; an hour at a time while i ghost off.  the 'servers' are actual a
&gt;&gt; &gt; router or two, dial up servers etc with heaps of disc space on the
&gt;&gt; &gt; drive so there's room to tar.
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; if you have two drives in them, you can mirror the drives using
&gt;&gt; software RAID 1, and then, after much messing about and so on, you can
&gt;&gt; actually have it so that you can remove one drive, put it in another
&gt;&gt; machine, and run it as a single drive machine (well, running a
&gt;&gt; degraded RAID 1 mirror), or rebuild a RAID from it.
&gt;&gt;
&gt;&gt;
&gt;&gt; &gt; I made a directory called /t and from inside the directory did a:
&gt;&gt; &gt; tar czfv all.tgz /* --exclude /t
&gt;&gt; &gt;
&gt;&gt; &gt; this seems to work nicely.  but, to get this restored, do i plug in
&gt;&gt; &gt; the Redhat CD and make the partition using fdisk or something and
&gt;&gt; &gt; then tar from a CD image or something.  I might add that this drive
&gt;&gt; &gt; only has the root partition on the drive to keep things simple.  i
&gt;&gt; &gt; know that if the drive fills it will crash, but the drive is pretty
&gt;&gt; &gt; big and i keep an eye on it to make sure it won't happen (not to
&gt;&gt; &gt; mention having gigabytes of free space to play with).
&gt;&gt;
&gt;&gt; yeah, boot from something, use fdisk, then mkfs, then tar, then lilo,
&gt;&gt; then test, then fix whatever didn't work, rinse and repeat. ;)
&gt;&gt;
&gt;&gt; rr
&gt;&gt; &gt;
&gt;&gt; &gt; any ideas people?
&gt;&gt; &gt; thanks
&gt;&gt; &gt; M
&gt;&gt; &gt;
&gt;&gt; &gt; -----Original Message-----
&gt;&gt; &gt; From: David Sambell [mailto:<A HREF="mailto:sambelld@chariot.net.au">sambelld@chariot.net.au</A>]
&gt;&gt; &gt; Sent: Thursday, June 20, 2002 6:53 PM
&gt;&gt; &gt; To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
&gt;&gt; &gt; Subject: RE: Backing up a Hard Drive
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; I tried Norton Ghost about this time last year and had some problems
&gt;&gt; &gt; with Linux disk copying.
&gt;&gt; &gt; From memory, my problem was that whilst the partition data was
&gt;&gt; &gt; copied ok, the boot sectors for ext2 partitions weren't. (I
&gt;&gt; &gt; confirmed this at the time by viewing the actual bytes stored on
&gt;&gt; &gt; each disk).
&gt;&gt; &gt;
&gt;&gt; &gt; I ended up using the dd command exactly as you suggest and that
&gt;&gt; &gt; worked infallibly, many times over.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; On Thu, 2002-06-20 at 11:58, Jordan Noblet wrote:
&gt;&gt; &gt; &gt; Try dd.  The basic command would be something like this
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; dd if=/dev/hda of=/dev/hdc
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; Be careful, though :-)
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; Alternativaly, hard disk duplication is made very easy with
&gt;&gt; &gt; &gt; products like Norton Ghost.
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; It understands FAT, FAT32, NTFS, ext2, etc and can duplicate
&gt;&gt; &gt; &gt; partitions
&gt;&gt; &gt; and
&gt;&gt; &gt; &gt; resize automatically.  The latest version can also transfer images
&gt;&gt; &gt; &gt; or duplicate hard drives over LPT, USB (require host-to-host
&gt;&gt; &gt; &gt; cable) or TCP/IP (requires NDIS or packet driver) and supports
&gt;&gt; &gt; &gt; some CD-Burners.
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; It is run by booting from floppy (PC or MSDOS).  It has a nice GUI
&gt;&gt; &gt; &gt; but
&gt;&gt; &gt; also
&gt;&gt; &gt; &gt; a very powerful command line interface.
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt;  &gt; -----Original Message-----
&gt;&gt; &gt; &gt;  &gt; From: Martin Stacey [mailto:<A HREF="mailto:martin@safcol.com.au">martin@safcol.com.au</A>]
&gt;&gt; &gt; &gt;  &gt; Sent: Thursday, 20 June 2002 11:36 AM
&gt;&gt; &gt; &gt;  &gt; To: Linuxsa
&gt;&gt; &gt; &gt;  &gt; Subject: Backing up a Hard Drive
&gt;&gt; &gt; &gt;  &gt;
&gt;&gt; &gt; &gt;  &gt;
&gt;&gt; &gt; &gt;  &gt; I want to make a copy of a Hard Drive. What products can I use
&gt;&gt; &gt; &gt;  &gt; to do this?
&gt;&gt; &gt; &gt;  &gt;
&gt;&gt; &gt; &gt;  &gt;
&gt;&gt; &gt; &gt;  &gt; --
&gt;&gt; &gt; &gt;  &gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt;&gt; &gt; &gt;  &gt; irc.linux.org.au
&gt;&gt; &gt; &gt;  &gt; To unsubscribe from the LinuxSA list:
&gt;&gt; &gt; &gt;  &gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as
&gt;&gt; &gt; &gt;  &gt; the subject
&gt;&gt; &gt; &gt;  &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt;&gt; &gt; irc.linux.org.au To unsubscribe from the LinuxSA list:
&gt;&gt; &gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the
&gt;&gt; &gt;   subject
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt;&gt; &gt; irc.linux.org.au To unsubscribe from the LinuxSA list:
&gt;&gt; &gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the
&gt;&gt; &gt;   subject
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; --
&gt;&gt; Richard Russell
&gt;&gt; Yellow Goanna P/L
&gt;&gt; e: <A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>
&gt;&gt; m: +61 412 827 805
&gt;&gt; f: +61 8 8462 2362
&gt;&gt;
&gt;&gt; --
&gt;&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt;&gt; irc.linux.org.au To unsubscribe from the LinuxSA list:
&gt;&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the
&gt;&gt;   subject
&gt;&gt;
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt; irc.linux.org.au To unsubscribe from the LinuxSA list:
&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject



-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
