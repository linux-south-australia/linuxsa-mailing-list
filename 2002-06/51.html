<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Samba - XP workstations? [help]" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="jleone@pacbell.net" -->
<!-- ToName="'xfesty'" -->
<!-- ToEmail="xfesty@computeraddictions.com.au" -->
<!-- Date="Sun, 02 Jun 2002 13:21:05 -0700" -->
<!-- Id="" -->
<!-- Reference="B9206A8A.372%xfesty@computeraddictions.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Samba - XP workstations? [help]</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:jleone@pacbell.net">jleone@pacbell.net</A></I>&gt;
  To  : xfesty &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  Date: Sun, 02 Jun 2002 13:21:05 -0700
</PRE>
<H1>Re: Samba - XP workstations? [help]</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
--Boundary_(ID_VpFodXk1RJQIhWlX5RQM0Q)
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT

I had a similar problem occur. I worked around it by using getting 
Windows to map the drives automaticly at start up. I used a vbs script 
and edited the registry on the Windows workstation.

Here's how I did it:

<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x373.html">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x373.html</A>


I also think that Windows XP is somewhat like Windows 2000.  If it is, 
there is an important set of tweaks you need to use to get your Windows 
workstations to browse the network at a reasonable speed.

Here it is - you can click on home to see all of the topics in Chapter 9:

<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/c401.html">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/c401.html</A>

Specifically, DFS was a problem for us.

<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x419.html">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x419.html</A>

I hope that this helps.

:-)

James Leone




xfesty wrote:

&gt;I didn't quite solve this... so I'm still stuck :(
&gt;
&gt;I added machine accounts, and used smbpasswd to set passwords for all XP
&gt;workstations on the network.  I can now go to each machine, get them to join
&gt;the domain, but on reboot, they refuse to login.  Using either the root
&gt;account, or a normal user.
&gt;
&gt;I get this error message: "Windows cannot connect to the domain, either
&gt;because the domain controller is down or otherwise unavailable, or because
&gt;your computer account was not found.  Please try again later.  If this
&gt;message continues to appear, contact your system administrator for
&gt;assistance."
&gt;
&gt;I see nothing in the log files when I try to logon, and there are no errors
&gt;at startup.
&gt;
&gt;Any ideas?  I'm sure this is XP related (switching OS isn't really an
&gt;option).
&gt;
&gt;- Ryan
&gt;
&gt;On 2/6/02 9:06 PM, "xfesty" &lt;<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>&gt; spoke these
&gt;words:
&gt;
&gt;&gt;I may have answered my own question.
&gt;&gt;
&gt;&gt;It's been _ages_ since I've played with samba, and poking around a few man
&gt;&gt;pages made me remember that there are machine accounts.  D'oh :)
&gt;&gt;
&gt;&gt;Thanks anyway.
&gt;&gt;
&gt;&gt;- Ryan
&gt;&gt;
&gt;&gt;On 2/6/02 6:05 PM, "xfesty" &lt;<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>&gt; spoke these
&gt;&gt;words:
&gt;&gt;
&gt;&gt;&gt;G'day.
&gt;&gt;&gt;
&gt;&gt;&gt;I'm having problems getting XP workstations to authenticate a Samba server
&gt;&gt;&gt;running on FreeBSD (I realise this is a Linux list, but Samba config
&gt;&gt;&gt;_should_ be the same on both platforms).
&gt;&gt;&gt;
&gt;&gt;&gt;Basically, I want the samba machine to be a domain controller, and the XP
&gt;&gt;&gt;workstations have to be authenticated by the samba box before a user can
&gt;&gt;&gt;logon.  I've done this plenty of times on 98/NT/2K boxen, but this is the
&gt;&gt;&gt;first time I've played with this in XP.
&gt;&gt;&gt;
&gt;&gt;&gt;I _think_ I've found where I configure this - Right click on my computer,
&gt;&gt;&gt;properties, computer name tab, "Change", click domain, enter in WORKGROUP
&gt;&gt;&gt;(what's set in smb.conf).  It appears to see the domain controller because I
&gt;&gt;&gt;then get another dialog asking for a username/password.  I enter in a user
&gt;&gt;&gt;that I've added into freebsd using pw + smbpasswd, and then I get "Access
&gt;&gt;&gt;Denied".
&gt;&gt;&gt;
&gt;&gt;&gt;I know the user's there, and working, because if I type in \\SERVER into the
&gt;&gt;&gt;run dialog, and enter in the same user/password, it connects successfully
&gt;&gt;&gt;and I can see/use the home directory no problems.
&gt;&gt;&gt;
&gt;&gt;&gt;I managed to locate some documentation that told me to change the
&gt;&gt;&gt;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters\req
&gt;&gt;&gt;uiresignorseal from the default "1" to "0", but this didn't seem to make any
&gt;&gt;&gt;difference.
&gt;&gt;&gt;
&gt;&gt;&gt;If anybody has had experiences with samba as a domain controller for XP
&gt;&gt;&gt;workstations, please, share :)
&gt;&gt;&gt;
&gt;&gt;&gt;Thanks.
&gt;&gt;&gt;
&gt;&gt;&gt;My smb.conf is below:
&gt;&gt;&gt;
&gt;&gt;&gt;[global]
&gt;&gt;&gt;workgroup = WORKGROUP
&gt;&gt;&gt;hosts allow = 10.0.0. 127.
&gt;&gt;&gt;netbios name = SERVER
&gt;&gt;&gt;encrypt passwords = yes
&gt;&gt;&gt;domain logons = yes
&gt;&gt;&gt;preferred master = yes
&gt;&gt;&gt;domain master = yes
&gt;&gt;&gt;dns proxy = no
&gt;&gt;&gt;invalid users = root
&gt;&gt;&gt;os level = 65
&gt;&gt;&gt;nt acl support = no
&gt;&gt;&gt;[homes]
&gt;&gt;&gt;comment = home directories
&gt;&gt;&gt;browseable = no
&gt;&gt;&gt;writeable = yes
&gt;&gt;&gt;
&gt;&gt;&gt;- Ryan
&gt;&gt;&gt;
&gt;


--Boundary_(ID_VpFodXk1RJQIhWlX5RQM0Q)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: 7BIT

&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
I had a similar problem occur. I worked around it by using getting Windows
to map the drives automaticly at start up. I used a vbs script and edited
the registry on the Windows workstation.&lt;br&gt;
&lt;br&gt;
Here's how I did it:&lt;br&gt;
&lt;br&gt;
&lt;a class="moz-txt-link-freetext" href="<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x373.html">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x373.html</A>"&gt;<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x373.html&lt">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x373.html&lt</A>;/a&gt;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
I also think that Windows XP is somewhat like Windows 2000. &nbsp;If it is, there
is an important set of tweaks you need to use to get your Windows workstations
to browse the network at a reasonable speed.&lt;br&gt;
&lt;br&gt;
Here it is - you can click on home to see all of the topics in Chapter 9:&lt;br&gt;
&lt;br&gt;
&lt;a class="moz-txt-link-freetext" href="<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/c401.html">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/c401.html</A>"&gt;<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/c401.html&lt">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/c401.html&lt</A>;/a&gt;&lt;br&gt;
&lt;br&gt;
Specifically, DFS was a problem for us. &lt;br&gt;
&lt;br&gt;
&lt;a class="moz-txt-link-freetext" href="<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x419.html">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x419.html</A>"&gt;<A HREF="http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x419.html&lt">http://www.bigbutton.com.au/~gossner/curriculum/docs/easysamba/easysambaweb/x419.html&lt</A>;/a&gt;&lt;br&gt;
&lt;br&gt;
I hope that this helps.&lt;br&gt;
&lt;br&gt;
&lt;span -moz-smiley="s1"&gt;&lt;span&gt; :-) &lt;/span&gt;&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
James Leone&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
xfesty wrote:&lt;br&gt;
&lt;blockquote type="cite" cite="mid:B9206A8A.372%<A HREF="mailto:25xfesty@computeraddictions.com.au">25xfesty@computeraddictions.com.au</A>"&gt;
  &lt;pre wrap=""&gt;I didn't quite solve this... so I'm still stuck :(&lt;br&gt;&lt;br&gt;I added machine accounts, and used smbpasswd to set passwords for all XP&lt;br&gt;workstations on the network.  I can now go to each machine, get them to join&lt;br&gt;the domain, but on reboot, they refuse to login.  Using either the root&lt;br&gt;account, or a normal user.&lt;br&gt;&lt;br&gt;I get this error message: "Windows cannot connect to the domain, either&lt;br&gt;because the domain controller is down or otherwise unavailable, or because&lt;br&gt;your computer account was not found.  Please try again later.  If this&lt;br&gt;message continues to appear, contact your system administrator for&lt;br&gt;assistance."&lt;br&gt;&lt;br&gt;I see nothing in the log files when I try to logon, and there are no errors&lt;br&gt;at startup.&lt;br&gt;&lt;br&gt;Any ideas?  I'm sure this is XP related (switching OS isn't really an&lt;br&gt;option).&lt;br&gt;&lt;br&gt;- Ryan&lt;br&gt;&lt;br&gt;On 2/6/02 9:06 PM, "xfesty" &lt;a class="moz-txt-link-rfc2396E" href="mailto:<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>"&gt;&lt;<A HREF="mailto:xfesty@computeraddicti">xfesty@computeraddicti</A>
ons.com.au&gt;&lt;/a&gt; spoke these&lt;br&gt;words:&lt;br&gt;&lt;br&gt;&lt;/pre&gt;
  &lt;blockquote type="cite"&gt;
    &lt;pre wrap=""&gt;I may have answered my own question.&lt;br&gt;&lt;br&gt;It's been _ages_ since I've played with samba, and poking around a few man&lt;br&gt;pages made me remember that there are machine accounts.  D'oh :)&lt;br&gt;&lt;br&gt;Thanks anyway.&lt;br&gt;&lt;br&gt;- Ryan&lt;br&gt;&lt;br&gt;On 2/6/02 6:05 PM, "xfesty" &lt;a class="moz-txt-link-rfc2396E" href="mailto:<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>"&gt;&lt;<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>&gt;&lt;/a&gt; spoke these&lt;br&gt;words:&lt;br&gt;&lt;br&gt;&lt;/pre&gt;
    &lt;blockquote type="cite"&gt;
      &lt;pre wrap=""&gt;G'day.&lt;br&gt;&lt;br&gt;I'm having problems getting XP workstations to authenticate a Samba server&lt;br&gt;running on FreeBSD (I realise this is a Linux list, but Samba config&lt;br&gt;_should_ be the same on both platforms).&lt;br&gt;&lt;br&gt;Basically, I want the samba machine to be a domain controller, and the XP&lt;br&gt;workstations have to be authenticated by the samba box before a user can&lt;br&gt;logon.  I've done this plenty of times on 98/NT/2K boxen, but this is the&lt;br&gt;first time I've played with this in XP.&lt;br&gt;&lt;br&gt;I _think_ I've found where I configure this - Right click on my computer,&lt;br&gt;properties, computer name tab, "Change", click domain, enter in WORKGROUP&lt;br&gt;(what's set in smb.conf).  It appears to see the domain controller because I&lt;br&gt;then get another dialog asking for a username/password.  I enter in a user&lt;br&gt;that I've added into freebsd using pw + smbpasswd, and then I get "Access&lt;br&gt;Denied".&lt;br&gt;&lt;br&gt;I know the user's there, and working, because if I type in \\SERVER into the&lt;
br&gt;run dialog, and enter in the same user/password, it connects successfully&lt;br&gt;and I can see/use the home directory no problems.&lt;br&gt;&lt;br&gt;I managed to locate some documentation that told me to change the&lt;br&gt;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters\req&lt;br&gt;uiresignorseal from the default "1" to "0", but this didn't seem to make any&lt;br&gt;difference.&lt;br&gt;&lt;br&gt;If anybody has had experiences with samba as a domain controller for XP&lt;br&gt;workstations, please, share :)&lt;br&gt;&lt;br&gt;Thanks.&lt;br&gt;&lt;br&gt;My smb.conf is below:&lt;br&gt;&lt;br&gt;[global]&lt;br&gt;workgroup = WORKGROUP&lt;br&gt;hosts allow = 10.0.0. 127.&lt;br&gt;netbios name = SERVER&lt;br&gt;encrypt passwords = yes&lt;br&gt;domain logons = yes&lt;br&gt;preferred master = yes&lt;br&gt;domain master = yes&lt;br&gt;dns proxy = no&lt;br&gt;invalid users = root&lt;br&gt;os level = 65&lt;br&gt;nt acl support = no&lt;br&gt;[homes]&lt;br&gt;comment = home directories&lt;br&gt;browseable = no&lt;br&gt;writeable = yes&lt;br&gt;&lt;br&gt;- Ryan&lt;br&gt;&lt;/pre&gt;
      &lt;/blockquote&gt;
      &lt;/blockquote&gt;
      &lt;pre wrap=""&gt;&lt;!----&gt;&lt;br&gt;&lt;/pre&gt;
      &lt;/blockquote&gt;
      &lt;br&gt;
      &lt;/body&gt;
      &lt;/html&gt;

--Boundary_(ID_VpFodXk1RJQIhWlX5RQM0Q)--

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
