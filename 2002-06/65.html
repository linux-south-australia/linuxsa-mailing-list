<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Samba - XP workstations? [still need help]" -->
<!-- FromName="'xfesty'" -->
<!-- FromEmail="xfesty@computeraddictions.com.au" -->
<!-- ToName="'Benjamin Close'" -->
<!-- ToEmail="cisbjc@cs.unisa.edu.au" -->
<!-- Date="Mon, 03 Jun 2002 13:48:08 +1000" -->
<!-- Id="B9212418.3DE%xfesty@computeraddictions.com.au" -->
<!-- Reference="3CFAA8B8.8030005@cs.unisa.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Samba - XP workstations? [still need help]</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: xfesty &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  To  : Benjamin Close &lt;<I><A HREF="mailto:cisbjc@cs.unisa.edu.au">cisbjc@cs.unisa.edu.au</A></I>&gt;
  Date: Mon, 03 Jun 2002 13:48:08 +1000
</PRE>
<H1>Re: Samba - XP workstations? [still need help]</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi Ben and James;

Thanks for your advice, but unfortunately it didn't make my situation any
better.  The XP patch you spoke about below I had already applied (see my
earlier email).

I've tried several different smb.conf's, and even though I can join a
domain, when I reboot and try to login, I can't.  I even got the latest
samba from CVS last night, compiled it with syslogd support, but I see
absolutely nothing when I try to login.

My problem isn't mapping drives - its just the user authentication.  I'm not
wishing to acutally use samba to share stuff, its just for the workstation
logons at the moment.

Can anybody help?  This is driving me nuts... Even if someone with a working
PDC for XP workstations can send me their smb.conf, and tell me the samba
version they are using, it would be great.

- Ryan

SMB.CONF:
--------
[global]
 netbios name = BBSERVER
 workgroup = BBNETWORK
 os level = 64
 preferred master = yes
 domain master = yes
 local master = yes
 security = user
 encrypt passwords = yes
 domain logons = yes
 server string = Management
 hosts allow = 10.0.0. 127.
 dns proxy = no
 time server = yes
 hide dot files = yes
 announce version = 5.2
 socket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192
 wins support = yes
 domain admin group = @wheel

[netlogon]
 path = /samba/netlogon
 read only = yes
 write list = root


On 3/6/02 9:22 AM, "Benjamin Close" &lt;<A HREF="mailto:cisbjc@cs.unisa.edu.au">cisbjc@cs.unisa.edu.au</A>&gt; spoke these
words:

&gt; xfesty wrote:
&gt; 
&gt;&gt; I didn't quite solve this... so I'm still stuck :(
&gt;&gt; 
&gt;&gt; I added machine accounts, and used smbpasswd to set passwords for all XP
&gt;&gt; workstations on the network.  I can now go to each machine, get them to join
&gt;&gt; the domain, but on reboot, they refuse to login.  Using either the root
&gt;&gt; account, or a normal user.
&gt;&gt; 
&gt;&gt; I get this error message: "Windows cannot connect to the domain, either
&gt;&gt; because the domain controller is down or otherwise unavailable, or because
&gt;&gt; your computer account was not found.  Please try again later.  If this
&gt;&gt; message continues to appear, contact your system administrator for
&gt;&gt; assistance."
&gt;&gt; 
&gt;&gt; I see nothing in the log files when I try to logon, and there are no errors
&gt;&gt; at startup.
&gt;&gt; 
&gt;&gt; Any ideas?  I'm sure this is XP related (switching OS isn't really an
&gt;&gt; option).
&gt;&gt; 
&gt; I'd say your right!
&gt; XP currently needs a registry hack in order to be able to be able to
&gt; join a domain...
&gt; 
&gt; ;
&gt; ; This registry key (gathered from the Samba-tng lists) is needed
&gt; ; for a Windows XP client to join and logon to a Samba domain
&gt; ;
&gt; HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\netlogon\parameters
&gt; "RequireSignOrSeal"=dword:00000000
&gt; 
&gt; Cheers,
&gt; Benjamin

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
