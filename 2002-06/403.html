<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="non-standard serial speeds" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="17 Jun 2002 11:19:50 +0930" -->
<!-- Id="1024278590.30246.14.camel@ant.internal" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: non-standard serial speeds</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: 17 Jun 2002 11:19:50 +0930
</PRE>
<H1>non-standard serial speeds</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I'm trying to develp a smartcard program for linux. The cavet is that my
smartcard device uses a 3.58mhz crystal, where as the smartcard expects
a 6mhz clock. This means that the cards sense of time is somewhat
skewed, and its idea of 9600,8,E,2 is really 5720,8,E,2. I have programs
that work under windows fine (and even wine under linux), they just call
a serial set speed type function with "5720" and bingo, its set. Under
linux however, it seems a little trickyer...

Anyone have any idea how to do this in C, or if not, with serserial?
(since I have its source). As far as I can tell, I need to set spd_cust
divisor 20, as 115200/20=~5720. The code in set serial doesnt seem to
support a divisor with decimals, as to get a real 5720 would require a
divisor of 20.13986013986014.

Also, it seems relevant to baud_base, which seems to be 115200 although
it depends on the crystal speed on the serial card. I dont know how to
verify this, as I suspect this might be whats wrong. 

Does anyone have any experience with these kinds of serial operation, or
can give me some pointer to docs with relevant levels of info? (the
serial programming howto is a joke if you dont want a normal 8,N,1
setting).

Thanks,
Ant
-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
