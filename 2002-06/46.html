<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Samba - XP workstations? [help]" -->
<!-- FromName="'xfesty'" -->
<!-- FromEmail="xfesty@computeraddictions.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 03 Jun 2002 00:36:26 +1000" -->
<!-- Id="B9206A8A.372%xfesty@computeraddictions.com.au" -->
<!-- Reference="B920395B.340%xfesty@computeraddictions.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Samba - XP workstations? [help]</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: xfesty &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 03 Jun 2002 00:36:26 +1000
</PRE>
<H1>Samba - XP workstations? [help]</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I didn't quite solve this... so I'm still stuck :(

I added machine accounts, and used smbpasswd to set passwords for all XP
workstations on the network.  I can now go to each machine, get them to join
the domain, but on reboot, they refuse to login.  Using either the root
account, or a normal user.

I get this error message: "Windows cannot connect to the domain, either
because the domain controller is down or otherwise unavailable, or because
your computer account was not found.  Please try again later.  If this
message continues to appear, contact your system administrator for
assistance."

I see nothing in the log files when I try to logon, and there are no errors
at startup.

Any ideas?  I'm sure this is XP related (switching OS isn't really an
option).

- Ryan

On 2/6/02 9:06 PM, "xfesty" &lt;<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>&gt; spoke these
words:

&gt; I may have answered my own question.
&gt; 
&gt; It's been _ages_ since I've played with samba, and poking around a few man
&gt; pages made me remember that there are machine accounts.  D'oh :)
&gt; 
&gt; Thanks anyway.
&gt; 
&gt; - Ryan
&gt; 
&gt; On 2/6/02 6:05 PM, "xfesty" &lt;<A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A>&gt; spoke these
&gt; words:
&gt; 
&gt;&gt; G'day.
&gt;&gt; 
&gt;&gt; I'm having problems getting XP workstations to authenticate a Samba server
&gt;&gt; running on FreeBSD (I realise this is a Linux list, but Samba config
&gt;&gt; _should_ be the same on both platforms).
&gt;&gt; 
&gt;&gt; Basically, I want the samba machine to be a domain controller, and the XP
&gt;&gt; workstations have to be authenticated by the samba box before a user can
&gt;&gt; logon.  I've done this plenty of times on 98/NT/2K boxen, but this is the
&gt;&gt; first time I've played with this in XP.
&gt;&gt; 
&gt;&gt; I _think_ I've found where I configure this - Right click on my computer,
&gt;&gt; properties, computer name tab, "Change", click domain, enter in WORKGROUP
&gt;&gt; (what's set in smb.conf).  It appears to see the domain controller because I
&gt;&gt; then get another dialog asking for a username/password.  I enter in a user
&gt;&gt; that I've added into freebsd using pw + smbpasswd, and then I get "Access
&gt;&gt; Denied".
&gt;&gt; 
&gt;&gt; I know the user's there, and working, because if I type in \\SERVER into the
&gt;&gt; run dialog, and enter in the same user/password, it connects successfully
&gt;&gt; and I can see/use the home directory no problems.
&gt;&gt; 
&gt;&gt; I managed to locate some documentation that told me to change the
&gt;&gt; HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters\req
&gt;&gt; uiresignorseal from the default "1" to "0", but this didn't seem to make any
&gt;&gt; difference.
&gt;&gt; 
&gt;&gt; If anybody has had experiences with samba as a domain controller for XP
&gt;&gt; workstations, please, share :)
&gt;&gt; 
&gt;&gt; Thanks.
&gt;&gt; 
&gt;&gt; My smb.conf is below:
&gt;&gt; 
&gt;&gt; [global]
&gt;&gt; workgroup = WORKGROUP
&gt;&gt; hosts allow = 10.0.0. 127.
&gt;&gt; netbios name = SERVER
&gt;&gt; encrypt passwords = yes
&gt;&gt; domain logons = yes
&gt;&gt; preferred master = yes
&gt;&gt; domain master = yes
&gt;&gt; dns proxy = no
&gt;&gt; invalid users = root
&gt;&gt; os level = 65
&gt;&gt; nt acl support = no
&gt;&gt; [homes]
&gt;&gt; comment = home directories
&gt;&gt; browseable = no
&gt;&gt; writeable = yes
&gt;&gt; 
&gt;&gt; - Ryan

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
