<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Use of Procmail / fetchmail putting together what I mislearned :)" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="jleone@pacbell.net" -->
<!-- ToName="'Darryl Ross'" -->
<!-- ToEmail="dross@syc.net.au" -->
<!-- Date="Thu, 20 Jun 2002 20:26:27 -0700" -->
<!-- Id="" -->
<!-- Reference="20020620101024.O52920-100000@weasel.internode.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Use of Procmail / fetchmail putting together what I mislearned :)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:jleone@pacbell.net">jleone@pacbell.net</A></I>&gt;
  To  : Darryl Ross &lt;<I><A HREF="mailto:dross@syc.net.au">dross@syc.net.au</A></I>&gt;
  Date: Thu, 20 Jun 2002 20:26:27 -0700
</PRE>
<H1>Re: Use of Procmail / fetchmail putting together what I mislearned :)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
  Hi Everybody!

Thanks for all of your input.

Maybe I will get it right eventually... and maybe microsoft will open up 
their source code too... LOL :-)

Anyway,  I really want to learn and get it right. I hope!

I think I figured out why I was getting recycled messages...my 
configuration of fetchmail does not delete the retrieved messages from 
my isp - and it will retrieve any message missing from /var/spool/mail.

I am doing all of this because my users want a GUI to check mail. 
 However, I can see that pine is a less bloated tool.


As far as I understand, these are the things I need to change:

1. Get rid of the .forward file because it isn't necessary - sendmail 
already invokes procmail.
2. Be clearer about fetchmail's role, it fetches mail and gives it to 
sendmail, that's all.
3. Combine my rc.spamassassin into my .procmailrc command.
4. Loose the MAILDIR=$HOME/Mail command as it is redundant.
5. Use the nokeep option in .fetchmailrc. to stop the recycled email 
from coming in.


Do I understand this correctly?


Thanks!


James Leone






Darryl Ross wrote:

&gt;Hey James,
&gt;
&gt;Fetchmail does not 'take over' the role of sendmail on your system. What
&gt;it does is collect the mail from your ISP mailbox and then hand it over to
&gt;sendmail to handle it locally. It is then up to sendmail to call procmail
&gt;to do any fancy delivery things that you want.
&gt;
&gt;In your situation, you probably won't need a .forward file to call
&gt;procmail (as sendmail uses procmail to do it's delivery stuff anyway), and
&gt;you can probably streamline your .procmailrc file to make it easier to
&gt;read and also to make it a bit faster to process at the same time. I was
&gt;running  the following for quite a while whilst I was testing
&gt;spamassassin, before making it run system wide:
&gt;
&gt;# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
&gt;# .procmailrc file
&gt;
&gt;# Set up some environment variables
&gt;PATH=$HOME/bin:/bin:/usr/bin:/usr/local/bin
&gt;LOGFILE=$HOME/procmail.log
&gt;VERBOSE=on
&gt;
&gt;# Run SpamAssassin
&gt;:0
&gt;|/usr/bin/spamassassi
&gt;n -P -c /usr/share/spamassassin
&gt;
&gt;# Filter out spam
&gt;:0:
&gt;* ^X-Spam-Status: Yes
&gt;$HOME/mail/CaughtSpam
&gt;
&gt;# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
&gt;
&gt;Note that you don't need to specify delivery for the 'default' mail, ie,
&gt;mail that doesn't match the filter spam rule, it will be delivered to your
&gt;system default mailbox, which is exactly where most programs on your
&gt;system will be expecting new mail to be. Don't change it unless you know
&gt;what you're doing, as it's going to break things (as you've noticed).
&gt;
&gt;&gt;When I check with neyscape it says "no new messages"
&gt;&gt;
&gt;
&gt;Netscape is checking for new mail in /var/spool/mail/james, but you've
&gt;changed that, hence why it can't find any new messages. Try the above
&gt;(once you are sure you understand what is going on, don't just try it
&gt;because I said so!).
&gt;
&gt;Darryl
&gt;



-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
