<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Verifying tar backup" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="'Andrew Reid'" -->
<!-- ToEmail="andrew.reid@plug.cx" -->
<!-- Date="26 Jun 2002 14:47:16 +0930" -->
<!-- Id="1025068636.2318.259.camel@ant.internal" -->
<!-- Reference="20020626033214.GA23456@rubeus.alfred.cx" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Verifying tar backup</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : Andrew Reid &lt;<I><A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A></I>&gt;
  Date: 26 Jun 2002 14:47:16 +0930
</PRE>
<H1>Re: Verifying tar backup</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 2002-06-26 at 14:41, Andrew Reid wrote:
&gt; On Wed, Jun 26, 2002 at 02:26:22PM +0930, Anthony Symons wrote:
&gt; 
&gt; &gt; I'd just do a "tar -tvf /dev/st0 &gt; listing.txt" on the system with the
&gt; &gt; drive. Then you can dump the listing in a known place, and check it from
&gt; &gt; time to time to make sure its not cut short. If the listing is intact
&gt; &gt; then you know the whole backup is OK, since the data takes the for
&gt; &gt; &lt;header&gt;&lt;data&gt;&lt;header&gt;&lt;data&gt; etc etc...
&gt; 
&gt; Hmm.. OK. Have you any experience with --verify?

Nope. But Im guessing its going to need to use a ioctl on the device to
rewind the tape, and Im guessing that this probably isnt going to work
for you over ssh, although you never know!

&gt; &gt; You could even add a special place marker file with a unique file name
&gt; &gt; on the sending server, and list it after /home so its the last file on
&gt; &gt; the tape. Then you could write a cron job on the server with the tape
&gt; &gt; that does the tar extract test and greps for the unique file name, and
&gt; &gt; sends you an email if its not found. Set your back and restore cron jobs
&gt; &gt; far enough apart that they will not run in to each other and that should
&gt; &gt; do it. As for reliability over ssh, Im not too sure. I have backed up
&gt; &gt; whole systems with dd piped in to netcat though, and its worked, so I'd
&gt; &gt; give it a reasonable chance. netcat (nc) is going to use less CPU if you
&gt; &gt; find your system with ssh cant keep up with the encryption on the fly..
&gt; 
&gt; I'm finding this backup-over-ssh business a little messy. I'm thinking
&gt; that I might give amanda a whirl here.

Hehe, good luck. You think this is messy?

Ant

-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
