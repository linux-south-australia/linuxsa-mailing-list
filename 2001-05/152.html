<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IDENTD is it really needed for sendmail?" -->
<!-- FromName="'Richard Sharpe'" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="'Alan Kennington','Michael Kratz'" -->
<!-- ToEmail="akenning@topology.org,michael_kratz@hotmail.com" -->
<!-- Date="Sun, 06 May 2001 15:15:33 +0900" -->
<!-- Id="3.0.6.32.20010506151533.00d68200@10.0.2.1" -->
<!-- Reference=""from michael_kratz"@hotmail.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IDENTD is it really needed for sendmail?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@topology.org">akenning@topology.org</A></I>&gt;<BR>        Michael Kratz &lt;<I><A HREF="mailto:michael_kratz@hotmail.com">michael_kratz@hotmail.com</A></I>&gt;
  Date: Sun, 06 May 2001 15:15:33 +0900
</PRE>
<H1>Re: IDENTD is it really needed for sendmail?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 02:08 PM 5/6/01 +0930, Alan Kennington wrote:
&gt;On Sun, May 06, 2001 at 01:45:12PM +0930, Michael Kratz wrote:
&gt;&gt; 
&gt;&gt; on a system that is running sendmail a its primary MTA does one really
have 
&gt;&gt; to run IDENTD? Normally I do, but I have setup a 2 server setup a couple
of 
&gt;&gt; weeks ago and realised that I didnt allow for IDENTD transactions through 
&gt;&gt; the firewall... the machine that sends mail is behind the firewall and it 
&gt;&gt; can still send mail, albeit I think it takes a bit longer... are there any 
&gt;&gt; fors and againsts to using or not using IDENTD??
&gt;
&gt;Michael,
&gt;

[Deletia]

&gt;I haven't permitted ident for a few years.
&gt;But with my old default-accept firewall scripts,
&gt;the absence of ident in my /etc/inetd.conf file
&gt;(or whatever) meant that the kernel generated a 
&gt;TCP reset-packet in reponse to any SYN to that port.
&gt;That speeds up sendmail's sending to your machine.

Ummm, if you had a policy of ACCEPT, and you had idend in inetd, then the
connection would be accepted, and everything would work OK.

&gt;I my current default-drop scripts, I found that
&gt;remote MTAs were generating several lines in my log file
&gt;every time I was receiving e-mail. That slows down e-mail
&gt;and wastes space in the log files. (And my time/effort while
&gt;I check to see if it's a hack attempt.)

Which silently drops packets that the rules do not accept. I assume you
mean you have a policy of DENY.

&gt;So now I put a non-logging reject rule in my firewall script
&gt;for the ident port.
&gt;I think that this generates an ICMP packet response to the sender
&gt;rather than a TCP reset-packet.

A REJECT will send back an ICMP destination unreachable, administratively
blocked or some such. A DENY simply drops the packet.

&gt;But for most set-ups, this should have the same effect.
&gt;
&gt;In purely protocol-theoretic terms, I think the "best"
&gt;solution is to not use ident at all, and let the kernel
&gt;generate the TCP reset-packet. But that's more bother,
&gt;and the result is about the same.
&gt;So I'd just firewall it out with a non-logging reject target.
&gt;Then you can still use ident locally on your LAN.
&gt;
&gt;Cheers,
&gt;Alan Kennington.
&gt;
&gt;--------------------------------------------------------------------
&gt;    name: Dr. Alan Kennington
&gt;  e-mail: <A HREF="mailto:akenning@topology.org">akenning@topology.org</A>
&gt; website: <A HREF="http://www.topology.org/">http://www.topology.org/</A>
&gt;    city: Adelaide, South Australia
&gt;  coords: 34.88051 S, 138.59334 E
&gt;timezone: UTC+0930 <A HREF="http://www.topology.org/timezone.html">http://www.topology.org/timezone.html</A>
&gt; pgp-key: <A HREF="http://www.topology.org/key_ak2.asc">http://www.topology.org/key_ak2.asc</A>
&gt;
&gt;-- 
&gt;LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt;To unsubscribe from the LinuxSA list:
&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.ethereal.com)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
