<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE:  Samba Problem (longish)" -->
<!-- FromName="'David de Groot'" -->
<!-- FromEmail="david@viking.org.au" -->
<!-- ToName="'Richard Sharpe'" -->
<!-- ToEmail="sharpe@ns.aus.com" -->
<!-- Date="Sun, 13 May 2001 10:01:51 +0930" -->
<!-- Id="16218471966.20010513100151@viking.org.au" -->
<!-- Reference="3.0.6.32.20010513014445.00ddc580@10.0.2.1" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE:  Samba Problem (longish)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David de Groot &lt;<I><A HREF="mailto:david@viking.org.au">david@viking.org.au</A></I>&gt;
  To  : Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  Date: Sun, 13 May 2001 10:01:51 +0930
</PRE>
<H1>RE:  Samba Problem (longish)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Sunday, May 13, 2001, 2:14:45 AM, Richard wrote:

&gt; At 10:56 PM 5/12/01 +0930, David de Groot wrote:
&gt;
&gt;&gt;For  some  time  now the Win2k clients have been intermittently losing
&gt;&gt;drive  mappings  to  the  samba  machine. (however, TCP/IP connections
&gt;&gt;don't drop out).

&gt; Can you elaborate on this? Is it after a period of inactivity?

Come  to think of it, yes. But probably only a short period. If I keep
and explorer window open to the drive share, it seems to stay up.

&gt;&gt;So, SuSE released Samba 2.08 rpms last month, and I upgraded. However,
&gt;&gt;this has not solved the problem.

&gt; 2.0.8 was a security bug fix only, and is flawed. You need to move to 2.0.9
&gt; if you are concerned about the security bug (/tmp races).

The  samba  box  is firewalled from the outside world, so it's not too
much  of  an  issue,  ideally  I'd like to go to 2.2.0 but had compile
issues  last  week  (of course it was probably because it was insanely
late and I overlooked something simple).

&gt; However, my suggestion would be to move to 2.2.0 ... It has better Win2K
&gt; support. 

see above

&gt;&gt;Any ideas on how to fix this would be greatly appreciated.

&gt; Ummm, in anycase, since Win2K is really Windows NT 5.0, you would need to
&gt; add your Win2K machines as members of the domain, but 2.0.x does not have
&gt; the support for that. 2.2.x does, though.

Ah cool, might try to build 2.2.0 then.

&gt; I have not heard of this problem, and I think that the standard answer
&gt; would be upgrade to 2.2.0. However, the more info you can provide, the
&gt; better from the point of view of assisting others.

Agreed.

So here's the elaboration:

I have the following network

{Internet}---ppp-link---[firewall]----172.16.0.x---[main server]
                                                     /      |
                                                    /       |
                                                   /        |
                     [dev server]---[192.168.0.x]--     172.16.1.x
                                                            |
                                                            |
                                                    -----------
                                                    |         |
                                                    |         |
                                              [Win2k#1]   [Win2k#2]

On the main server: eth0 = 172.16.1.1
                    eth1 = 192.168.0.1
                    eth2 = 172.16.0.1

The dev server also runs samba (2.0.7 SuSE 7.1 default I believe). (OS
level = 15 on this box)

The  period  of  inactivity  is  uncertain,  (really  should  pay more
attention I suppose), but it'd be over 1 minute anyway.

The Win2K clients are configured with:

Profile Path: \\eric\homes\Profile
Logon Script: Logon.cmd
Home Folder: Connect "R:" to "\\eric\homes"

Occasionally,  the  Win2k  clients cannot "find" the home directory on
bootup/login. Resulting in a local profile being used instead.

Currently the Win2k machines do not have machine accounts in the samba
password file (should they?).

Hmmm,  you  know,  there  aren't many details to tell are there... Oh,
when  the  Win2k  machines  were  Win98  machines, we didn't have this
problem...  (so  it's  more  than  likely a Win2k prob, but if there's
something I can do to fix it....)

Dave
-- 
David de Groot                          mailto:<A HREF="mailto:david@viking.org.au">david@viking.org.au</A>
<A HREF="http://vikings.homeip.net/~david">http://vikings.homeip.net/~david</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
