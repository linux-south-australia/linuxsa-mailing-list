<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Remote event messaging" -->
<!-- FromName="'michael'" -->
<!-- FromEmail="michael@home.lyppard.com.au" -->
<!-- ToName="'Andrew Pullin'" -->
<!-- ToEmail="andrew@hotspurbgc.com.au" -->
<!-- Date="Fri, 18 May 2001 20:04:44 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.10.10105182003580.5793-100000@sandwich.home.lyppard.com.au" -->
<!-- Reference="00ad01c0dfcc$b07bce00$c2de26cb@hotspurbgc.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Remote event messaging</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: michael &lt;<I><A HREF="mailto:michael@home.lyppard.com.au">michael@home.lyppard.com.au</A></I>&gt;
  To  : Andrew Pullin &lt;<I><A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A></I>&gt;
  Date: Fri, 18 May 2001 20:04:44 +0930 (CST)
</PRE>
<H1>Re: Remote event messaging</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi.

logcheck ?

Take a look on freshmeat, there's a lot of these around.

Michael

On Sat, 19 May 2001, Andrew Pullin wrote:

&gt; Hi All,
&gt;     I know how to trawl through the logs and grepping etc, what I want is a
&gt; quick painless monitoring method that gives me an indication if I NEED to
&gt; trawl the logs. i.e.. if I get 3 reboots a day and a dozen ppp0 dropouts
&gt; then I need to trawl the logs and see what's up. Also if the messages have a
&gt; time stamp on them I can see if there is any clustering of events that may
&gt; be external to what is happening, i.e. at exactly 6:40 every evening the
&gt; cleaner unplugs the modem to vacuum the floors, or the coffee machine goes
&gt; into autoclean mode.
&gt; 
&gt;     What I am mainly looking for is that I monitor my E-Mail most of the
&gt; day, and so if I get a message that the system keeps kicking dialin users
&gt; off the system, then I can ssh in and monitor it directly and see what is
&gt; going on. At present there doesn't seem to be any indications in the logs
&gt; that there is a problem, other than a few manual reboots. I am suspecting
&gt; user error, but I want to check the server end out before I mention it to
&gt; the client.
&gt;     Cheers!
&gt;         Andrew
&gt; 
&gt; 
&gt; ----- Original Message -----
&gt; From: Darryl Ross &lt;<A HREF="mailto:dross@syc.asn.au">dross@syc.asn.au</A>&gt;
&gt; To: Andrew Pullin &lt;<A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A>&gt;; Linux SA
&gt; &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
&gt; Sent: Friday, May 18, 2001 3:08 PM
&gt; Subject: Re: Remote event messaging
&gt; 
&gt; 
&gt; &gt; Andrew,
&gt; &gt;
&gt; &gt; Have a look at the 'last' command. It trawls through your wtmp file (or is
&gt; &gt; that the utmp file... one of the two) and gives you a summary of the login
&gt; &gt; history of the machine. Using 'grep' makes it easy to cut down to the
&gt; &gt; information you want. One possible problem: if your logs are rotated
&gt; &gt; monthly, the wtmp log probably will be as well, so it will only show the
&gt; &gt; history for the current month.
&gt; &gt;
&gt; &gt; To view the entire login history in the wtmp <A HREF="file:">file:</A>
&gt; &gt;
&gt; &gt; `last`
&gt; &gt;
&gt; &gt; To view who is currently logged in:
&gt; &gt;
&gt; &gt; `last | grep "still"`
&gt; &gt;
&gt; &gt; To see when the machine is shut down:
&gt; &gt;
&gt; &gt; `last | grep "hutdown"`
&gt; &gt;
&gt; &gt; To see when the machine was rebooted:
&gt; &gt;
&gt; &gt; `last | grep "eboot"`
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; DR
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; ----- Original Message -----
&gt; &gt; From: Andrew Pullin &lt;<A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A>&gt;
&gt; &gt; To: Linux SA &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
&gt; &gt; Sent: Saturday, May 19, 2001 2:11 AM
&gt; &gt; Subject: Remote event messaging
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt; Hi All,
&gt; &gt; &gt;     I am long distance administering a site in Melbourne and apparently
&gt; &gt; they
&gt; &gt; &gt; are having trouble with instability, but I can't find any evidence.
&gt; &gt; &gt; Apparently they have to reboot the system regularly and this mythical
&gt; &gt; &gt; instability disappears. What I want to do is monitor how often they
&gt; reboot
&gt; &gt; &gt; without going to the logs and trawling through them. My thought was to
&gt; &gt; &gt; simply automatically generate an e-mail everytime the system is rebooted
&gt; &gt; &gt; with a timestamp and a subject saying simply reboot. How would I go
&gt; about
&gt; &gt; &gt; this? I suppose the easy way is just run a script during the boot
&gt; process,
&gt; &gt; &gt; but where would I put it? Is it better to write a script in bash or perl
&gt; &gt; (I
&gt; &gt; &gt; am a bit rusty on both). Are there any other ways?
&gt; &gt; &gt;
&gt; &gt; &gt;     I also want to do the same thing when the ppp link to the world
&gt; drops
&gt; &gt; &gt; out and autoredials, and I want to lastly monitor when users dial in,
&gt; &gt; &gt; sending a connection time and a disconnect time. I would prefer to use a
&gt; &gt; &gt; similar method for each event. Your suggestions would be greatly
&gt; &gt; &gt; appreciated. TIA
&gt; &gt; &gt;     Cheers!
&gt; &gt; &gt;         Andrew.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
&gt; irc.linux.org.au
&gt; &gt; &gt; To unsubscribe from the LinuxSA list:
&gt; &gt; &gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; &gt; To unsubscribe from the LinuxSA list:
&gt; &gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
