<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: [Fwd: positive IP check]" -->
<!-- FromName="'Richard Sharpe'" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="'steve','Sean Burford'" -->
<!-- ToEmail="steve@cyberqual.com,slide@huachuca.tellurian.com.au" -->
<!-- Date="Tue, 08 May 2001 22:47:44 +0900" -->
<!-- Id="3.0.6.32.20010508224744.00d5d8a0@10.0.2.1" -->
<!-- Reference="Pine.LNX.4.21.0105080008490.20588-100000@huachuca.tellurian.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: [Fwd: positive IP check]</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : steve &lt;<I><A HREF="mailto:steve@cyberqual.com">steve@cyberqual.com</A></I>&gt;<BR>        Sean Burford &lt;<I><A HREF="mailto:slide@huachuca.tellurian.com.au">slide@huachuca.tellurian.com.au</A></I>&gt;
  Date: Tue, 08 May 2001 22:47:44 +0900
</PRE>
<H1>Re: [Fwd: positive IP check]</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 10:07 PM 5/8/01 +0930, steve wrote:

Hmmm, if they are separate networks, then one imagines they will have
separate subnet/network numbers.

The only way you can ensure that you are not getting IP addresses from the
wrong DHCP server is to add rules to the clients to filter out packets
coming from the wrong server.  This should only be a problem if the wrong
server is connected to the wrong network.

Something you could do to get early warning of this is to run Snort on both
networks (if possible) and watch for packets from the wrong network. If one
is detected, send alerts all over the place.


&gt;Thanks to all who replied, both Glen and John have given me ideas to work
&gt;with.
&gt;As for your question Sean, yup you got it right there will be two physical
&gt;networks which must not be connected to each other period.  The primary goal
&gt;of my mail to to generate ideas on how to detect such connections (which will
&gt;happen when they are side by side throughout a large building.... don't
&gt;ask,... it's political)
&gt;
&gt;I have controls by policy and procedure but needed the assurance of automated
&gt;rejection in case of error.  The second network for development and  training
&gt;will have BSD, LINUX, XP, and  WIN2000 on it for various purposes, however it
&gt;will be primarily Linux.
&gt;
&gt;I can't stress enough just how fragile our truce is with the powers to be, if
&gt;we goof this one it could force us back to MS only for a long time for every
&gt;part of our network, hence my insistence of automated IP identification, and
&gt;obviously a shutdown of the Linux server/s with a message indicating to the
&gt;user that the physical connection is wrong.
&gt;
&gt;Successful use for a few months will provide evidence (the only language
&gt;understood by management) that there is a cost/performance benefit for some
&gt;areas that are worth considering.
&gt;
&gt;I know and you know we can subnet it, but, well... there are other influences
&gt;outside of our control...
&gt;
&gt;
&gt;Steve
&gt;
&gt;
&gt;PS the cable and fibre is already installed from many years ago and has not
&gt;been used, we are just putting it to some use.
&gt;
&gt;
&gt;Sean Burford wrote:
&gt;
&gt;&gt; &gt; An interesting situation arose a few days ago where we need to set up
&gt;&gt; &gt; Linux servers and ENSURE they have connected to the right DHCP server.
&gt;&gt;
&gt;&gt; Do I read this correctly, in that you have two possible networks, two
&gt;&gt; possible DHCP servers, but you only want to be able to talk to one of the
&gt;&gt; DHCP servers?  Are the networks seperate subnets?
&gt;&gt;
&gt;&gt; If the networks are seperate subnets, add an ipchains rule to disallow
&gt;&gt; outbound packets to the forbidden subnet.  You won't be getting useful
&gt;&gt; packets out without an address on that subnet anyway.
&gt;&gt;
&gt;&gt; If the networks are on the same subnet, you want the flexibility of server
&gt;&gt; assigned IP addresses for the clients, but do not want to be able to use
&gt;&gt; any server as a DHCP server, only the specified one.
&gt;&gt;
&gt;&gt; How about you add an ipchains rule to reject any DHCP and BOOTP packets
&gt;&gt; not coming from the specified server?
&gt;&gt;
&gt;&gt; Sean
&gt;
&gt;-- 
&gt;LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt;To unsubscribe from the LinuxSA list:
&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.ethereal.com)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
