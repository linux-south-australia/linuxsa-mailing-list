<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Remote event messaging" -->
<!-- FromName="'Darryl Ross'" -->
<!-- FromEmail="dross@syc.asn.au" -->
<!-- ToName="'Andrew Pullin','Linux SA'" -->
<!-- ToEmail="andrew@hotspurbgc.com.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 18 May 2001 14:38:48 +0930" -->
<!-- Id="003c01c0df58$a07aeaa0$1c0ea8c0@syc.asn.au" -->
<!-- Reference="008301c0dfb9$60907e80$c2de26cb@hotspurbgc.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Remote event messaging</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:dross@syc.asn.au">dross@syc.asn.au</A></I>&gt;
  To  : Andrew Pullin &lt;<I><A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A></I>&gt;<BR>        Linux SA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 18 May 2001 14:38:48 +0930
</PRE>
<H1>Re: Remote event messaging</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Andrew,

Have a look at the 'last' command. It trawls through your wtmp file (or is
that the utmp file... one of the two) and gives you a summary of the login
history of the machine. Using 'grep' makes it easy to cut down to the
information you want. One possible problem: if your logs are rotated
monthly, the wtmp log probably will be as well, so it will only show the
history for the current month.

To view the entire login history in the wtmp <A HREF="file:">file:</A>

`last`

To view who is currently logged in:

`last | grep "still"`

To see when the machine is shut down:

`last | grep "hutdown"`

To see when the machine was rebooted:

`last | grep "eboot"`



DR



----- Original Message -----
From: Andrew Pullin &lt;<A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A>&gt;
To: Linux SA &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
Sent: Saturday, May 19, 2001 2:11 AM
Subject: Remote event messaging


&gt; Hi All,
&gt;     I am long distance administering a site in Melbourne and apparently
they
&gt; are having trouble with instability, but I can't find any evidence.
&gt; Apparently they have to reboot the system regularly and this mythical
&gt; instability disappears. What I want to do is monitor how often they reboot
&gt; without going to the logs and trawling through them. My thought was to
&gt; simply automatically generate an e-mail everytime the system is rebooted
&gt; with a timestamp and a subject saying simply reboot. How would I go about
&gt; this? I suppose the easy way is just run a script during the boot process,
&gt; but where would I put it? Is it better to write a script in bash or perl
(I
&gt; am a bit rusty on both). Are there any other ways?
&gt;
&gt;     I also want to do the same thing when the ppp link to the world drops
&gt; out and autoredials, and I want to lastly monitor when users dial in,
&gt; sending a connection time and a disconnect time. I would prefer to use a
&gt; similar method for each event. Your suggestions would be greatly
&gt; appreciated. TIA
&gt;     Cheers!
&gt;         Andrew.
&gt;
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
