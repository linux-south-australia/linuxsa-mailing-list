<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Remote event messaging" -->
<!-- FromName="'Andrew Pullin'" -->
<!-- FromEmail="andrew@hotspurbgc.com.au" -->
<!-- ToName="'Darryl Ross','Linux SA'" -->
<!-- ToEmail="dross@syc.asn.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 19 May 2001 04:59:27 +1000" -->
<!-- Id="00ad01c0dfcc$b07bce00$c2de26cb@hotspurbgc.com.au" -->
<!-- Reference="008301c0dfb9$60907e80$c2de26cb@hotspurbgc.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Remote event messaging</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew Pullin &lt;<I><A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A></I>&gt;
  To  : Darryl Ross &lt;<I><A HREF="mailto:dross@syc.asn.au">dross@syc.asn.au</A></I>&gt;<BR>        Linux SA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sat, 19 May 2001 04:59:27 +1000
</PRE>
<H1>Re: Remote event messaging</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi All,
    I know how to trawl through the logs and grepping etc, what I want is a
quick painless monitoring method that gives me an indication if I NEED to
trawl the logs. i.e.. if I get 3 reboots a day and a dozen ppp0 dropouts
then I need to trawl the logs and see what's up. Also if the messages have a
time stamp on them I can see if there is any clustering of events that may
be external to what is happening, i.e. at exactly 6:40 every evening the
cleaner unplugs the modem to vacuum the floors, or the coffee machine goes
into autoclean mode.

    What I am mainly looking for is that I monitor my E-Mail most of the
day, and so if I get a message that the system keeps kicking dialin users
off the system, then I can ssh in and monitor it directly and see what is
going on. At present there doesn't seem to be any indications in the logs
that there is a problem, other than a few manual reboots. I am suspecting
user error, but I want to check the server end out before I mention it to
the client.
    Cheers!
        Andrew


----- Original Message -----
From: Darryl Ross &lt;<A HREF="mailto:dross@syc.asn.au">dross@syc.asn.au</A>&gt;
To: Andrew Pullin &lt;<A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A>&gt;; Linux SA
&lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
Sent: Friday, May 18, 2001 3:08 PM
Subject: Re: Remote event messaging


&gt; Andrew,
&gt;
&gt; Have a look at the 'last' command. It trawls through your wtmp file (or is
&gt; that the utmp file... one of the two) and gives you a summary of the login
&gt; history of the machine. Using 'grep' makes it easy to cut down to the
&gt; information you want. One possible problem: if your logs are rotated
&gt; monthly, the wtmp log probably will be as well, so it will only show the
&gt; history for the current month.
&gt;
&gt; To view the entire login history in the wtmp <A HREF="file:">file:</A>
&gt;
&gt; `last`
&gt;
&gt; To view who is currently logged in:
&gt;
&gt; `last | grep "still"`
&gt;
&gt; To see when the machine is shut down:
&gt;
&gt; `last | grep "hutdown"`
&gt;
&gt; To see when the machine was rebooted:
&gt;
&gt; `last | grep "eboot"`
&gt;
&gt;
&gt;
&gt; DR
&gt;
&gt;
&gt;
&gt; ----- Original Message -----
&gt; From: Andrew Pullin &lt;<A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A>&gt;
&gt; To: Linux SA &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
&gt; Sent: Saturday, May 19, 2001 2:11 AM
&gt; Subject: Remote event messaging
&gt;
&gt;
&gt; &gt; Hi All,
&gt; &gt;     I am long distance administering a site in Melbourne and apparently
&gt; they
&gt; &gt; are having trouble with instability, but I can't find any evidence.
&gt; &gt; Apparently they have to reboot the system regularly and this mythical
&gt; &gt; instability disappears. What I want to do is monitor how often they
reboot
&gt; &gt; without going to the logs and trawling through them. My thought was to
&gt; &gt; simply automatically generate an e-mail everytime the system is rebooted
&gt; &gt; with a timestamp and a subject saying simply reboot. How would I go
about
&gt; &gt; this? I suppose the easy way is just run a script during the boot
process,
&gt; &gt; but where would I put it? Is it better to write a script in bash or perl
&gt; (I
&gt; &gt; am a bit rusty on both). Are there any other ways?
&gt; &gt;
&gt; &gt;     I also want to do the same thing when the ppp link to the world
drops
&gt; &gt; out and autoredials, and I want to lastly monitor when users dial in,
&gt; &gt; sending a connection time and a disconnect time. I would prefer to use a
&gt; &gt; similar method for each event. Your suggestions would be greatly
&gt; &gt; appreciated. TIA
&gt; &gt;     Cheers!
&gt; &gt;         Andrew.
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on
irc.linux.org.au
&gt; &gt; To unsubscribe from the LinuxSA list:
&gt; &gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; &gt;
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
