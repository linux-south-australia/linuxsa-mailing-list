<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: speed problems over ppp link" -->
<!-- FromName="Ian Hogben" -->
<!-- FromEmail="ian@safcol.com.au" -->
<!-- ToName="Linuxsa" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 30 Aug 2000 14:52:28 +0930" -->
<!-- Id="NDBBJCENILPHMJMEFMGNCEIPCNAA.ian@safcol.com.au" -->
<!-- Reference="20000830142008.B29991@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: speed problems over ppp link</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Ian Hogben &lt;<I><A HREF="mailto:ian@safcol.com.au">ian@safcol.com.au</A></I>&gt;
  To  : Linuxsa &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 30 Aug 2000 14:52:28 +0930
</PRE>
<H1>RE: speed problems over ppp link</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I've got it. It's fixed. I can stop stressing. :)

Essentially, the modem init string was bunkus. It used to be "ATS0=0Q0V1",
but it is now "AT&K3E1S0=0Q0&C1&S0V1". That, and I have been told that an
MTU of 1500 for a ppp link is too high. So I set it to 500. Dunno what an
optimal setting is, but it ain't broke no more...

A description on the various AT commands follows:
&Kn - Select Flow Control Option
En - Select Command Character Echo Option
Sn= - Write To An S-Register
Qn - Select Result Code Option
&Cn - Select Data Carrier Detect Option
&Sn - Select Data Set Ready Option
Vn - Select Response Format Option

I can Email a fairly comprehensive HAYES AT Command list if anyone cares
enough. And on a final note, does anyone know of an appropriate MTU for a
56K modem ppp link?

Thanks to all for their help! Some system configs follow for posterity.

# ifconfig ppp0
ppp0      Link encap:Point-to-Point Protocol
          inet addr:202.21.13.130  P-t-P:203.63.80.179  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:500  Metric:1
          RX packets:29305 errors:2 dropped:0 overruns:0 frame:2
          TX packets:22208 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10

# stty -a
speed 9600 baud; rows 57; columns 126; line = 0;
intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = &lt;undef&gt;; eol2 =
&lt;undef&gt;; start = ^Q; stop = ^S; susp = ^Z;
rprnt = ^R; werase = ^W; lnext = ^V; flush = ^O; min = 1; time = 0;
-parenb -parodd cs8 -hupcl -cstopb cread -clocal -crtscts
-ignbrk -brkint -ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl
ixon -ixoff -iuclc -ixany -imaxbel
opost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0
ff0
isig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt
echoctl echoke

# ping -c 3 munnari.oz.au
PING munnari.oz.au (128.250.1.21): 56 data bytes
64 bytes from 128.250.1.21: icmp_seq=0 ttl=247 time=245.0 ms
64 bytes from 128.250.1.21: icmp_seq=1 ttl=247 time=240.0 ms
64 bytes from 128.250.1.21: icmp_seq=2 ttl=247 time=230.0 ms

--- munnari.oz.au ping statistics ---
3 packets transmitted, 3 packets received, 0% packet loss
round-trip min/avg/max = 230.0/238.3/245.0 ms

-+-+-+-+-+-+-+-+-+-
Ian Hogben | Safcol Australia
<A HREF="mailto:ian">mailto:ian</A>@safcol.com.au | fon:(08)82821082 | fax:(08)82821099
-+-+-+-+-+-+-+-+-+-
"We can't solve problems by using the same kind of thinking we used when we
created them."
        - Albert Einstein (1879-1955)

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
