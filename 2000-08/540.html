<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Linux password expirations and Samba" -->
<!-- FromName="James B Curry" -->
<!-- FromEmail="jbcurry@hline.localhealth.net" -->
<!-- ToName="Richard Sharpe <sharpe@ns.aus.com>, LinuxSA ListServer" -->
<!-- ToEmail="sharpe@ns.aus.com" -->
<!-- Date="Wed, 16 Aug 2000 11:52:29 -0400" -->
<!-- Id="399AB8BD.917460CE@hline.localhealth.net" -->
<!-- Reference="3.0.6.32.20000811100306.00a27320@203.16.214.248" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Linux password expirations and Samba</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James B Curry &lt;<I><A HREF="mailto:jbcurry@hline.localhealth.net">jbcurry@hline.localhealth.net</A></I>&gt;
  To  : Richard Sharpe &lt;sharpe@ns.aus.com&gt;, LinuxSA ListServer &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  Date: Wed, 16 Aug 2000 11:52:29 -0400
</PRE>
<H1>Re: Linux password expirations and Samba</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
OK.  Sorted out my problems with synchronized password files. 
Triple-checked my smb.config, installed pam_smbpass, and, with a few
kicks and shoves, a password change from either Windows or Linux will
now properly update the smbpasswd file.

However, still no dice on an expired Linux password prompting a Win9x
user to change their password when they log in.  So far, the only
certain answer is to "wait for LDAP".

If Linux-won't-tell-Samba / Samba-won't-tell-Win9x that the user must
change their password because it has expired, maybe I need a new
approach.   

Here's the new challenge:  how can I cripple the Samba access every 30
days so that they can logon to Samba but cannot have access to any
shares?  Then, when user X changes their password, have it trigger
account X to revert to normal?

&gt; &gt; James B Curry wrote:
&gt; &gt;
&gt; &gt; &gt;I have a Red Hat 6.0 server running Samba 2.0.6.   This server is
&gt; &gt; &gt;configured as both a Primary Domain Controller and a WINS server.  All
&gt; &gt; &gt;other machines on our network are Win9x clients.  The Samba security
&gt; &gt; &gt;option is set to Domain, and password caching has been turned off for
&gt; &gt; &gt;the Windows clients.  Samba and Linux passwords are synchronized.
&gt; &gt; &gt;
&gt; &gt; &gt;My problem is that the Windows login will not require the user to change
&gt; &gt; &gt;their password when the Linux password has expired.  The Windows user
&gt; &gt; &gt;will be able to continue using the same password forever to log into the
&gt; &gt; &gt;Samba server as long as they don't ever again login "directly" to Linux
&gt; &gt; &gt;(only then would they be forced to change their password.)

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
