<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: suspend single process to disk" -->
<!-- FromName="Sean Burford" -->
<!-- FromEmail="slide@tellurian.com.au" -->
<!-- ToName="Daryl Tester" -->
<!-- ToEmail="dt@picknowl.com.au" -->
<!-- Date="Sun, 20 Aug 2000 12:38:47 +0930 (CST)" -->
<!-- Id="Pine.BSI.3.91.1000820123121.8196B-100000@tellurus.tellurian.com.au" -->
<!-- Reference="399D186B.ADB7D691@picknowl.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: suspend single process to disk</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Sean Burford &lt;<I><A HREF="mailto:slide@tellurian.com.au">slide@tellurian.com.au</A></I>&gt;
  To  : Daryl Tester &lt;<I><A HREF="mailto:dt@picknowl.com.au">dt@picknowl.com.au</A></I>&gt;
  Date: Sun, 20 Aug 2000 12:38:47 +0930 (CST)
</PRE>
<H1>Re: suspend single process to disk</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Sean Burford wrote:
&gt; &gt;&gt; Hi Everyone, does anyone have an idea how I can suspend a process (not
&gt; &gt;&gt; the entire box) to disk to resume after shutdown-powerup cycle. Is this
&gt; &gt;&gt; possible?
&gt; &gt; 
&gt; &gt; From somewhere in the 2.2.15 kernel patch:
&gt; &gt; 
&gt; &gt; In theory all that is missing to restart a core dumped program is a
&gt; &gt; kernel patch which will do the following.
&gt; 
&gt; Perl used to do something like this; it had a dump() function which
&gt; caused an immediate core dump, and an undump program to convert the
&gt; core file to an executable.  Execution would restart where the core
&gt; dump stopped.

I found a copy of this after I posted my comment.  It actually starts 
from the start of main (in the case of emacs) or from a user defined 
point in perl (via goto).  The idea is that you avoid spending
time initialising variables, because the processed dump file has them 
already initialised them.  It is mains job to avoid initialising them twice.

undump'ed programs do not retain open file descriptors.

The only versions of undump I could find do not work with ELF executables.

The perlfunc manpage gives a good example, just search for dump.

Sean

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
