<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Setting up a DNS on a LAN" -->
<!-- FromName="Martin de Koning" -->
<!-- FromEmail="m1d2k3@camtech.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 09 Aug 2000 11:59:49 +0930" -->
<!-- Id="3990C21D.9F8FD470@camtech.net.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Setting up a DNS on a LAN</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Martin de Koning &lt;<I><A HREF="mailto:m1d2k3@camtech.net.au">m1d2k3@camtech.net.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Wed, 09 Aug 2000 11:59:49 +0930
</PRE>
<H1>Setting up a DNS on a LAN</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I'm *attempting* to set up name server for my LAN.

The domain is "mdk",

NS is "fergie.mdk" at 192.168.1.1

When I run "nslookup", nothing happens after starting up named with "ndc
start" or "ndc restart".
I get a blank prompt rather then "Default server found etc..." then a
"&gt;" prompt.

Nothing I type does anything and I have to then kill the process with
^C.

I have been using the DNS-HOWTO and my Linux book for RH 6.0, I'm
running RH 6.2.

Here are my config files:

### HOSTNAME
fergie.mdk

### hosts
127.0.0.1        fergie.mdk    localhost.localdomain localhost &lt;---
Unsure of this line
192.168.1.1    fergie.mdk

### resolv.conf
domain mdk
nameserver 192.168.1.1

### named.conf
// generated by named-bootconf.pl

options {
 directory "/var/named";
 /*
  * If there is a firewall between you and nameservers you want
  * to talk to, you might need to uncomment the query-source
  * directive below.  Previous versions of BIND always asked
  * questions using port 53, but BIND 8.1 uses an unprivileged
  * port by default.
  */
 // query-source address * port 53;
};

//
// a caching only nameserver config
//
zone "." {
 type hint;
 file "named.ca";
};

zone "mdk" {
 type master;
 file "mdk";
};

zone "0.0.127.in-addr.arpa" {
 type master;
 file "named.local";
};

// zone "1.168.192.IN-ADDR.ARPA" {
//  type master;
//  file "192.168.1";
//  notify yes;
// };
// NOT SET UP YET

### mdk
; Authoritative data for fergie.mdk
;
@ IN SOA fergie.mdk. root.fergie.mdk. (
   08082000 ; Serial number
   3600  ; 1 hour refresh
   300  ; 5 minutes retry
   172800  ; 2 day expiry
   43200 )  ; 12 hours minimum

; Name servers in use
  IN NS  fergie.mdk.
  IN A  192.168.1.1


; Machine names & addresses

fergie  IN A  192.168.1.1
  IN HINFO PC-686 LINUX

diana  IN A  192.168.1.2    &lt;---- Client
  IN HINFO PC-686 LINUX

##############################

I have not set up a "networks" file in /etc mentioned in RH6.0 book.
My server is not connected to the Internet as yet, so I'm not worrying
about that side of things.

Thanks for any help you can give me,

mdk.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
