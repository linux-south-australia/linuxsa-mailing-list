<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="NIS" -->
<!-- FromName="Matt Brennan" -->
<!-- FromEmail="zschub@hotmail.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 29 Aug 2000 08:51:26 +0930" -->
<!-- Id="39AAF3F6.CD008927@hotmail.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: NIS</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matt Brennan &lt;<I><A HREF="mailto:zschub@hotmail.com">zschub@hotmail.com</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Tue, 29 Aug 2000 08:51:26 +0930
</PRE>
<H1>NIS</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
hello,
     i have a couple of questions on NIS...can anyone help me please?

i am trying to help a friend setup a NIS master server on a network with
linux and win98 PC's. just trying to get the server running first and
hoping for
NFS and samba later. the distro is redhat 6.1.

the nis domain is set in /etc/sysconfig/network and we have built the
db's for password, group and host for that domain ok. the server runs
fine and, starting ypbind myself, i can use ypcat to see the tables.

1st question: on the server, should i use NIS when looking for password,
group and host info? seemed to me to be the right thing to do - so i
have attempted to run the client stuff on the server as well. 

i have setup yp.conf with a single entry:

 ypserver localhost

and the nsswitch.conf to look for:

  password: files nis
  groups : file nis
  hosts: files nis
  
  and the rest as just files.

there seems to be a couple of problems:

- ypbind starts before ypserv and looks forlornly for ypserv and
fails... 

in these situations, is it best to dive in a hand edit the runlevel
ordering in the rc.d hierarchy ? or should i start the server at
runlevel 3 and then client at run level 4 or something? when i ran
chkconf to add the ypbind service to init, it left ypbind being killed
at every run level so i manually specified the start runlevels as
--levels345.

- when it comes to login, i can login (so i guess the password comes
from the local file ok), but i get an error message about ypbind not
being bound for the domain... if the password is coming from the file,
why does login subsequently go to NIS ?

- if i fanangle the start order and get ypserv up first, ypbind starts
without complaint but login hangs after password entry and ctrl-c shows
that "yp_all: clnt_call : RPC timed out"

any ideas greatly appreciated.

  matt


ps: these questions were 1st posted to the list on 27/08.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
