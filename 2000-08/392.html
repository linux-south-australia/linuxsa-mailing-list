<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: gone is gone and other tragic stories..." -->
<!-- FromName="Daryl Tester" -->
<!-- FromEmail="dt@picknowl.com.au" -->
<!-- ToName="dan" -->
<!-- ToEmail="dan.kortschak@adelaide.edu.au" -->
<!-- Date="Sun, 13 Aug 2000 15:09:19 +0930" -->
<!-- Id="39963487.5466C602@picknowl.com.au" -->
<!-- Reference="39961297.BA817DE2@adelaide.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: gone is gone and other tragic stories...</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:dt@picknowl.com.au">dt@picknowl.com.au</A></I>&gt;
  To  : dan &lt;<I><A HREF="mailto:dan.kortschak@adelaide.edu.au">dan.kortschak@adelaide.edu.au</A></I>&gt;
  Date: Sun, 13 Aug 2000 15:09:19 +0930
</PRE>
<H1>Re: gone is gone and other tragic stories...</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
dan wrote:

&gt; tail -run8.1.top.consensable &gt; run8.1.top.consensable
&gt; 
&gt; I then add the trailing ';'s using vi:
&gt; 
&gt; vi run8.1.top.consensable
&gt; -&gt;:1,$ s/$/;/g
&gt; -&gt;:wq

Note that you don't need the g switch in the replacement string, as
you're only replacing one occurance anyway (ie, just use s/$/;/).
This can be used as is in sed, so something like

tail -100000 run8.1.top | sed 's/$/;/' &gt; run8.1.top.consensable

should do the trick (how about that - almost consistent between
vi and sed).

&gt; rm -f test*
&gt; 
&gt; I type:
&gt; 
&gt; rm -f test *

Urk - as a reasonably fast but inaccurate typist, I feel your pain.  :-(

&gt; Is it possible to undelete inodes (given theat the disk hasn't been
&gt; written to in the mean time)? So if I'm a complete idiot again I can
&gt; save myself the horror.

Bear in mind that you are on a multiuser/process operating system,
so there is usually some disk activity going on, so the quickest
thing to do is to shutdown the box immediately.  For the very non-
faint of heart, there is debugfs, which allows you to go in and
perform open-source surgery on your filesystem (however, bear in
mind that this can render your entire install, not to mention your
life, neutered).  There are probably some funky utils lurking on
Freshmeat that will provide a nicer frontend, but as I said before,
the quicker you shut down the box, the less likely that some process
isn't going to come along and use those reclaimed blocks (note that
once you've lost the inodes to the file, its Game Over anyway).


Regards,
  Daryl Tester

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
