<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE:  c socket() programming - numbers mangled" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="David de Groot <david@viking.org.au>, LinuxSA Mailing List" -->
<!-- ToEmail="david@viking.org.au" -->
<!-- Date="Tue, 08 Aug 2000 13:13:35 +0900" -->
<!-- Id="3.0.6.32.20000808131335.00a13df0@203.16.214.248" -->
<!-- Reference="398F4C51.37BD7F9D@infinitylimited.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE:  c socket() programming - numbers mangled</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : David de Groot &lt;david@viking.org.au&gt;, LinuxSA Mailing List &lt;<I><A HREF="mailto:david@viking.org.au">david@viking.org.au</A></I>&gt;
  Date: Tue, 08 Aug 2000 13:13:35 +0900
</PRE>
<H1>RE:  c socket() programming - numbers mangled</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 11:44 AM 8/8/00 +0930, David de Groot wrote:
&gt;
&gt;Hello Jake,
&gt;
&gt;Tuesday, August 08, 2000, 9:24:57 AM, you wrote:
&gt;
&gt;
&gt;&gt; using socket type PF_UNIX, it looks like my data is being mangled.
&gt;
&gt;&gt; the socket comms is ok, the bytes are being written and read ok.
&gt;
&gt;&lt;code snipped&gt;
&gt;
&gt;&gt; i get "c""h" instead of "h""j".
&gt;
&gt;&gt; i've tried messing with signed vs. unsigned chars, and htons() and
&gt;
&gt;and the opposite function ntohs() ?
&gt;
&gt;Network/Socket  programming  is  always  fun  when  it  comes  to byte
&gt;ordering.  In  general,  you  should always convert you data using the
&gt;htons and  ntohs (and the long variant htonl / ntohl). This makes your
&gt;code  more  portable across platforms/architectures. However, this may
&gt;not be the problem here (but it's worth a go at least).
&gt;
&gt;Looking at the binary representation we have:
&gt;
&gt;Letter         Binary                Decimal
&gt;
&gt;  c            0110 0011             99
&gt;  j            0110 1010             106
&gt;  h            0110 1000             104
&gt;
&gt;Doesn't  really  look  like  a  byte-swapping  or even nibble swapping
&gt;problem  does  it?  It's been too long since I did this sort of coding
&gt;for  a  solution to just pop out at me, but hopefully, this might have
&gt;jarred your thought processes a bit... :)

Well, I no longer have the original code, but the write and read system
calls do not touch data. 

So, what you wrote in is what you get out.

Mistakes I have seen in the past are things like writing the pointer to the
data to the network, rather than the data ... Or writing unrelated data
instead of the data you want to write.

&gt;Dave
&gt;-- 
&gt;David de Groot                          <A HREF="mailto:david">mailto:david</A>@viking.org.au
&gt;<A HREF="http://vikings.penguinpowered.com">http://vikings.penguinpowered.com</A>
&gt;
&gt;
&gt;-- 
&gt;LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt;To unsubscribe from the LinuxSA list:
&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;
&gt;

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.zing.org)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
