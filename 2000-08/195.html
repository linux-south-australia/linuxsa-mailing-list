<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="c socket() programming - numbers mangled" -->
<!-- FromName="Jake Hawkes" -->
<!-- FromEmail="jake@infinitylimited.net" -->
<!-- ToName="LinuxSA Mailing List" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 07 Aug 2000 17:54:57 -0600" -->
<!-- Id="398F4C51.37BD7F9D@infinitylimited.net" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: c socket() programming - numbers mangled</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jake Hawkes &lt;<I><A HREF="mailto:jake@infinitylimited.net">jake@infinitylimited.net</A></I>&gt;
  To  : LinuxSA Mailing List &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 07 Aug 2000 17:54:57 -0600
</PRE>
<H1>c socket() programming - numbers mangled</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
using socket type PF_UNIX, it looks like my data is being mangled.

the socket comms is ok, the bytes are being written and read ok.

but, when i try to:
  // assemble message
  strcpy(buff, "hj");
  
  // send message
  printf("sending: [%c][%c]\n", buff[0], buff[1]);
  if((retnum = write(server_num, (void *)data, 2)) == -1) {
    perror("send_message() failed");
  }

then read it like this:
	retnum = read(client_sock, (void *)body, 2);
	if (retnum  &lt; 0) {
	  perror("read call failed");
	  exit(2);
	}

	printf("received: [%c][%c]\n", body[0[, body[1]);

i get "c""h" instead of "h""j".

i've tried messing with signed vs. unsigned chars, and htons() and
stuff, but I'm not getting anywhere. It looks like the upper and lower
nibbles are being swapped around right?



--
Jake Hawkes B.Eng, (CSE)

Solutions are not the answer.  - Nixon

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
