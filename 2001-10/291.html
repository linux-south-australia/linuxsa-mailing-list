<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: best filesystem type for sharing data between Linux and Windows?" -->
<!-- FromName="'Michael Wardle'" -->
<!-- FromEmail="michael.wardle@adacel.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 10 Oct 2001 11:53:53 +1000" -->
<!-- Id="01101011535304.13842@zeus" -->
<!-- Reference="01101010333404.12386@zeus" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: best filesystem type for sharing data between Linux and Windows?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Wardle &lt;<I><A HREF="mailto:michael.wardle@adacel.com">michael.wardle@adacel.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 10 Oct 2001 11:53:53 +1000
</PRE>
<H1>Re: best filesystem type for sharing data between Linux and Windows?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 10 Oct 2001 10:43, Michael Wardle wrote:
&gt; I have Windows and Linux on separate partitions on one of my home
&gt; systems, and want to share data such as music and movies between the
&gt; two operating systems.
&gt;
&gt; I tried using a separate FAT32 partition for the shared data, but
&gt; Linux was unable to mount it...

Here is a description of the problems I was having:

I was trying to do a fresh installation of Linux and Windows on my box 
using partitions similar to this:

DEVICE           LINUX           WINDOWS         SIZE            TYPE
/dev/hda1        /boot           N/A             50 MB           Linux
/dev/hda2        /windows        C:              8000 MB         
Windows FAT32
/dev/hda3        /data           D:              8000 MB         
Windows FAT32
/dev/hda4        N/A             N/A             ~ 32000 MB      
Extended
/dev/hda5        /               N/A             2000 MB         Linux
&lt;other Linux partitions&gt;

Firstly I booted from the Red Hat Linux 7.1 installation CD, and used 
Linux fdisk to create the partitions, then wrote and quit, and rebooted.

Secondly, I booted from the Windows 98 boot disk, formatted C: and D:, 
then performed the Windows 98 installation.

Once Windows was installed, I copied some files to D:.

I then rebooted and performed a RH 7.1 installation, setting the mount 
points as described in the above table.

I rebooted and selected Linux from the LILO graphical menu.  During the 
boot process, I received errors similar to this:
-----
VFS: Can't find a valid MSDOS filesystem on dev 03:03.
mount: wrong fs type, bad option, bad superblock on /dev/hda3,
         or too many mounted file systems
-----

Oddly, /windows was successfully mounted, and I could read the files on 
it, but /data refused to mount, despite these partitions appearing to 
be almost identical.

I have tried formatting D: using DOS format, and still receive the same 
error message.  I have tried using mkfs.msdos, but it prints 
"attempting to create a too large filesystem" then fails.  I have tried 
repartitioning using Windows/DOS fdisk, answering Y to large drive 
support to ensure that I'm using FAT32.  I have also tried with 
/windows as a primary partition a /data as a logical partition, but had 
the same problems.

I noticed that one of the few differences between C: and D: was that C: 
was a system drive (as Windows was installed there), and D: was a 
regular (non-system) drive.  I tried formatting D: as a system drive 
(format /s), but I still could not mount the partition in Linux.

I have tried mounting the /data partition with both "msdos" and "vfat" 
filesystem types under Linux, but I suspect "vfat" is the correct one.
(I am mounting /windows with vfat filesystem type.)

I have tried with no active partition set, and with /dev/hda1 (the 
Windows boot partition) set as active.  Setting it as active seems like 
a good idea, as it ensures that Windows sees this drive as C:.


-- 
MICHAEL WARDLE
Adacel Technologies

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
