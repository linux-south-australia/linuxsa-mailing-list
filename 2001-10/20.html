<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Something strange is happening - Addendum" -->
<!-- FromName="'Greg Lehey'" -->
<!-- FromEmail="grog@lemis.com" -->
<!-- ToName="" -->
<!-- ToEmail="Shane_Warner@bigfoot.com" -->
<!-- Date="Mon, 1 Oct 2001 13:43:12 +0930" -->
<!-- Id="20011001134312.O31215@wantadilla.lemis.com" -->
<!-- Reference="20011001035012.89086.qmail@web12103.mail.yahoo.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Something strange is happening - Addendum</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Greg Lehey &lt;<I><A HREF="mailto:grog@lemis.com">grog@lemis.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:Shane_Warner@bigfoot.com">Shane_Warner@bigfoot.com</A></I>&gt;
  Date: Mon, 1 Oct 2001 13:43:12 +0930
</PRE>
<H1>Re: Something strange is happening - Addendum</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
[Massive format mutilation recovered--see <A HREF="http://www.lemis.com/email/email-format.html">http://www.lemis.com/email/email-format.html</A>]

This message was almost unintelligible.  I nominate it for a prize for
the most mutilated message I've seen in a while.  I had to correct all
the breakage in order to understand what it was about.

Sorry for jumping in late; some mail list bogon unsubscribed me a few
days ago, and this is the first message I've seen.

On Sunday, 30 September 2001 at 20:50:12 -0700, Shane Warner wrote:
&gt; --- Mike O'Connor &lt;<A HREF="mailto:mike@pineview.net">mike@pineview.net</A>&gt; wrote:
&gt;&gt; On  Monday, October 01, 2001 10:44 AM, Shane Warner &lt;<A HREF="mailto:shane_warner@yahoo.com">shane_warner@yahoo.com</A>&gt; wrote:
&gt;&gt;&gt; --- Shane Warner &lt;<A HREF="mailto:shane_warner@yahoo.com">shane_warner@yahoo.com</A>&gt; wrote:
&gt;&gt;&gt;&gt; --- George Patterson &lt;<A HREF="mailto:george@laopdr.com">george@laopdr.com</A>&gt; wrote:
&gt;&gt;&gt;&gt; On  Friday, September 28, 2001 11:29 PM, Shane Warner &lt;<A HREF="mailto:Shane_Warner@bigfoot.com">Shane_Warner@bigfoot.com</A>&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt; On Saturday 29 September 2001 01:16, you wrote:
&gt;&gt;&gt;&gt;&gt;&gt; On  Friday, September 28, 2001 10:27 PM, Shane Warner &lt;<A HREF="mailto:Shane_Warner@bigfoot.com">Shane_Warner@bigfoot.com</A>&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Now I am trying to get a process listing and I am getting
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; segmentation faults.

It's sad that this is the oldest part of the thread.  I don't even
know what operating system you're using, let alone what the earlier
problems were.

&gt;&gt;&gt;&gt;&gt;&gt;&gt; Shane, I'd be willing to bet that you have been hacked or the
&gt;&gt;&gt;&gt;&gt;&gt;&gt; library files have been changed and don't match what the
&gt;&gt;&gt;&gt;&gt;&gt;&gt; binaries are expecting....  I'd be reinstalling.. Sorry
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Wait for a further reply if you get one...  It could be
&gt;&gt;&gt;&gt;&gt;&gt;&gt; something else but when ps core seg. faults something is not
&gt;&gt;&gt;&gt;&gt;&gt;&gt; right...
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; In the event that a reinstall is necessary, do you think a
&gt;&gt;&gt;&gt;&gt;&gt; complete reformat disk/reinstall is necessary or could I just
&gt;&gt;&gt;&gt;&gt;&gt; get away with doing an upgrade?

"Format" means to re-write the low-level sector information.  It
should only be necessary when hardware problems have occurred on the
disk.  Microsoft uses the term to mean building a file system, but I
consider that incorrect.

If you have really been compromised (and there's no evidence for that
here), you certainly should replace all files.  I don't see any
particular reason for newfs, though others might correct me.  I'm sure
you don't need to reformat the drives.

&gt;&gt;&gt;&gt;&gt; We have always re-installed from scratch....  becasue we were
&gt;&gt;&gt;&gt;&gt; never sure if there was a root kit installed including a binary
&gt;&gt;&gt;&gt;&gt; that is not in the rpm database...oh, by the way, don't trust
&gt;&gt;&gt;&gt;&gt; the rpm database that is on that server... Perhaps ask the List
&gt;&gt;&gt;&gt;&gt; for a more expert opinion on these matters...

You can get rid of a root kit without newfs.  But you might feel safer
knowing that everything is gone.

&gt;&gt;&gt;&gt;&gt; I thik it is Cert that recommends reformating the partitions and
&gt;&gt;&gt;&gt;&gt; re-installing.... unless you wish to keep the current drive for
&gt;&gt;&gt;&gt;&gt; evidence.....
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; You could try instrumenting the heck out of it with tripwire or
&gt;&gt;&gt;&gt;&gt; ilk and snort running on the same subnet and see what happens
&gt;&gt;&gt;&gt;&gt; next.... Note: If the hacker comes back and uses that machine to
&gt;&gt;&gt;&gt;&gt; hide their location, you can be held libable for allowing this
&gt;&gt;&gt;&gt;&gt; to happen...
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Well I performed the reinstall and while doing so the problem
&gt;&gt;&gt;&gt; showed up again.  I was not hooked up to the net at the time so I
&gt;&gt;&gt;&gt; guess it is a hardware problem.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I have had the machine up and running stable for about 6 hours
&gt;&gt;&gt;&gt; but I am not 100% confident that the problem has disappeared.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Interestingly enough, while I was trying to fix this problem my
&gt;&gt;&gt;&gt; other machine died.  It is most likely the fuse on the board
&gt;&gt;&gt;&gt; because I have experienced the same problem with another board of
&gt;&gt;&gt;&gt; the same make and model.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Purhaps I experienced some weird power situation which damaged
&gt;&gt;&gt;&gt; both machines, and managed to get through the 3 or 4 power surge
&gt;&gt;&gt;&gt; protectors between the power point and the machines.
&gt;&gt;&gt;
&gt;&gt;&gt; Anyone have an AMD K6-2 500 inknown good working order they could
&gt;&gt;&gt; loan me for a day or two or sell me?

I have a K6-2 333 which is in good condition.  If really necessary I
could make it available for a while, but I'd want to know why first.

&gt;&gt;&gt; As mentioned before, after the reinstall, the symptoms still
&gt;&gt;&gt; persist, but at least I can reboot from them now with a 50%
&gt;&gt;&gt; certainty that it will come back up cleanly.
&gt;&gt;&gt;
&gt;&gt; Question do you have pc133, pc100, pc66 memory in these machines ?
&gt;&gt; I had a customer who had trouble with his machine crashing for over
&gt;&gt; 9 month until I reread the manual it mention that the mainboard
&gt;&gt; only supported pc100 and pc66
&gt;
&gt; OK.  I have checked things out and it would seem the
&gt; shop gave me misleadinginformation.  I found the
&gt; mothboard's box and from that I found info on the web.
&gt; Turns out the motherboard only supports PC100 and I
&gt; have been running PC133 in it.
&gt;
&gt; Given that, what problems could I expect?  The machine
&gt; has been running (with the wrong memory) alright for
&gt; close on a year (24x7).  So if the memory was the
&gt; problem, would you expect it to show up now or
&gt; earlier?

My understanding is that it shouldn't be a problem that way round.  If
you put PC100 memory in a PC133 motherboard and then clock it at PC133
rates, you should expect problems, but unless there's a lower limit on
the clock rate for PC133 memory, that shouldn't be a problem.

&gt; Could this at all be related to the Code Red virus?

No.

&gt; My server has been probed non stop for close on a month by it before
&gt; this problem showed up.  What I have read to date suggests that it
&gt; is not the cause, but could the sustained attack have overloaded
&gt; something?

Only your Internet connection :-)  I've had 1.5 million Minda
connection attempts in the last 5 days.  It's costing me a bomb, but
it can't do very much.

So what are the symptoms?

Greg
--
When replying to this message, please take care not to mutilate the
original text.  
For more information, see <A HREF="http://www.lemis.com/email.html">http://www.lemis.com/email.html</A>
Finger <A HREF="mailto:grog@lemis.com">grog@lemis.com</A> for PGP public key
See complete headers for address and phone numbers

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
