<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: SAMBA + LDAP + Win98SE" -->
<!-- FromName="" -->
<!-- FromEmail="James.Wilson@compsm.com.au" -->
<!-- ToName="'Dan Shearer'" -->
<!-- ToEmail="dan@tellurian.com.au" -->
<!-- Date="Mon, 15 Oct 2001 11:22:06 +0930" -->
<!-- Id="OF177BF7A9.0D8D2FB0-ON69256AE6.000A12EE@compsm.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: SAMBA + LDAP + Win98SE</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:James.Wilson@compsm.com.au">James.Wilson@compsm.com.au</A></I>&gt;
  To  : Dan Shearer &lt;<I><A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A></I>&gt;
  Date: Mon, 15 Oct 2001 11:22:06 +0930
</PRE>
<H1>Re: SAMBA + LDAP + Win98SE</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

We are using Samba v2.2.1a on RH7.1 with 2.4.9-SMP

[<A HREF="mailto:root@server">root@server</A> samba]# cat log.smbd* | grep "Too many"
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system
  unable to open or create file /etc/samba/MACHINE.SID. Error was Too many
open files in system


And other errors along those lines...




                                                                                                                   
                    Dan Shearer                                                                                    
                    &lt;<A HREF="mailto:dan@telluria">dan@telluria</A>        To:     Andrew Reid &lt;<A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A>&gt;                                 
                    n.com.au&gt;            cc:     <A HREF="mailto:James.Wilson@compsm.com.au">James.Wilson@compsm.com.au</A>, <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>                
                                         Subject:     Re: SAMBA + LDAP + Win98SE                                   
                    15/10/2001                                                                                     
                    11:15 am                                                                                       
                                                                                                                   
                                                                                                                   




On Mon, 15 Oct 2001, Andrew Reid wrote:

&gt; &gt; Another issue, is that at one particularly large site, we have an issue
&gt; &gt; where the server complains ti has too many open files and bombs.  We
upped
&gt; &gt; the servers memory to 1gb and the open file limit to 20000.  This was
also
&gt; &gt; hit!!
&gt;
&gt; Which component is complaining about this? SAMBA, the kernel? You
&gt; shouldn't need that much memory in a fileserver.

There was a bug in Samba some time ago where this would happen after x
thousand file accesses because file descriptors weren't being recycled
properly. (It seems unlikely you are using a Samba this old, but you
didn't give any version numbers.) So, what version are you using? What
kernel version?

What messages do you get from Samba logs around the time the error occurs?

--
Dan Shearer
Open Source Manager
Mob: +61 411 49 1800
Tel: +61 8 8130 3104
<A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A>





-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
