<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: [OT] Should I be worried..." -->
<!-- FromName="" -->
<!-- FromEmail="davidn@rebel.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 19 Oct 2001 16:42:49 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.21.0110191609000.30378-100000@huachuca.tellurian.com.au" -->
<!-- Reference="3BCFC25E.5AEAF5EA@aarnet.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: [OT] Should I be worried...</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:davidn@rebel.net.au">davidn@rebel.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 19 Oct 2001 16:42:49 +0930 (CST)
</PRE>
<H1>Re: [OT] Should I be worried...</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Glen Turner &lt;<A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>&gt; wrote:
&gt; The nice thing about virtual memory in additional to a large
&gt; protected address space is that it is necesary for preemptive
&gt; task swapping.

No it's not.  What's needed is a way to pre-empt execution on a regular
basis (as in interrupt processing.)  In principle you can even do it on a
machine like the 6502, which has a (memory) page for indexed addressing
and a second page for the stack: a clock regularly raises NMI, and the
interrupt handler swaps task contexts, including both of those pages
and all CPU registers.  It would be slow and susceptible to programmer
error or abuse, but no protected or virtual memory is needed.

Slow is a relative consideration.  Normally to swap context we only need
to save perhaps a dozen registers on a stack, then swap to a second stack
and restore those registers from there.  On a machine such as the 6502
a task context would have to include 512 bytes of indexes and stack,
as well as the CPU registers.  It's been too many years and I forget
how many registers it had; I think only three.  A 6502 task context
would therefore require moving about 1KB, which would take about 4,500
instructions (at one instruction per cycle.)  On a circa-1980's machine,
with a 1MHz clock, that would take about 4.5 msec.  Slow but usable.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
