<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: SAMBA + LDAP + Win98SE" -->
<!-- FromName="'Matthew Geddes'" -->
<!-- FromEmail="mgeddes@tellurian.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="James.Wilson@compsm.com.au" -->
<!-- Date="Mon, 15 Oct 2001 09:41:42 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.21.0110150933100.364-100000@huachuca.tellurian.com.au" -->
<!-- Reference="OF1DAA4A1D.271D2653-ON69256AE5.001A6E61@compsm.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: SAMBA + LDAP + Win98SE</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@tellurian.com.au">mgeddes@tellurian.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:James.Wilson@compsm.com.au">James.Wilson@compsm.com.au</A></I>&gt;
  Date: Mon, 15 Oct 2001 09:41:42 +0930 (CST)
</PRE>
<H1>Re: SAMBA + LDAP + Win98SE</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Sun, 14 Oct 2001 <A HREF="mailto:James.Wilson@compsm.com.au">James.Wilson@compsm.com.au</A> wrote:

&gt; Hi guys,
&gt; 
&gt; This problem is starting to get annoying.  I'm heading a Linux rollout of
&gt; 189 servers to various metro and remote  locations.  Some sites have over
&gt; 400 client PC's running Win98SE, connecting to a Domain Controller running
&gt; SAMBA authenticating against LDAP.

How are you doing this? Are you using the HEAD branch of the CVS source
that allows the use of an LDAP server instead of an smbpasswd file? Or are
you using cleartext passwords, pam_ldap and an LDAP server?

Which version of Samba are you using? Have you checked the Samba logs?

You mention that you will have 400 clients to these servers. Is that 400
concurrent connections? What kind of organisation is it? The reason I ask,
is because schools and other organisations that have set timetables will
often see huge delays and things at say the start of a lesson (when
everyone is logging on at the same time).

&gt; At some of the smaller sites, this problem is not so much an issue, however
&gt; on the larger sites it can take workstations at least 2mins to kick off the
&gt; login.bat.  There is no utilization on the network (1% on the fiber switch)
&gt; and the server is ticking at 3% on each cpu (slapd).

I think Andrew Reid already mention the use of WINS or some other name
resolution system.

&gt; Another issue, is that at one particularly large site, we have an issue
&gt; where the server complains ti has too many open files and bombs.  We upped
&gt; the servers memory to 1gb and the open file limit to 20000.  This was also
&gt; hit!!

have you tried looking at the output of the lsof and lslk utilities? You
could also try looking in /proc/* to see the pid of the program that is
using the most resources. lsof is a cleaner way of doing it, but you may
not have it installed (you didn't mention which distribution and version
of Linux you are using).

Hope it helps,
Matt

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
