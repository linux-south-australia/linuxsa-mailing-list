<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Rebooting Linux (And other OS's) Regularly" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="'Dale Long'" -->
<!-- ToEmail="dalel@loftuscomp.com.au" -->
<!-- Date="Thu, 25 Oct 2001 10:42:47 +0930" -->
<!-- Id="3BD7670F.EAE2D303@aarnet.edu.au" -->
<!-- Reference="Pine.LNX.4.10.10110242002180.19773-100000@lftbww01.loftuscomp.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Rebooting Linux (And other OS's) Regularly</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : Dale Long &lt;<I><A HREF="mailto:dalel@loftuscomp.com.au">dalel@loftuscomp.com.au</A></I>&gt;
  Date: Thu, 25 Oct 2001 10:42:47 +0930
</PRE>
<H1>Re: Rebooting Linux (And other OS's) Regularly</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Dale Long wrote:
&gt; 
&gt; What are opinions on rebooting a 'generic' server (say file and print, or
&gt; mail etc...) using Linux (or xBSD) on a regular basis? This would usually
&gt; involved a call to 'reboot' via cron early one morning every week.

Best practice is to reboot the server manually once in a while.
This is to ensure that the reboot occurs as expected.  For example
people might have said
  /etc/init.d/httpd start
without also saying
  chkconfig --add httpd
  chkconfig httpd on
which means that Apache won't be started automatically after a reboot.

If you have an emergency reboot you don't want to have
to deal with these issues on top of the more fundamental
problem.

Unfortunately, you should also have a scheduled attended
reboot some time after hot swapping a CPU, memory or disk
assembly. We've had cases of hot swapping working fine but
difficulties being encountered at the next reboot.

But for a 'general' server, just keep it running.  The only
time you should do an unattended reboot is when you are
using something like a well-tested autoupdate to install a
proven kernel.  In term of uptime, we've found that you need
to allow for two kernel updates per year.

The implication is that you should allow for about two
scheduled reboots per year.

Memory leaks happen in some applications.  You can 'bounce'
the *application* to fix this, but you're much better off
recompiling the application with full debugging information,
electric fence and a debugging malloc.  Stop the standard
version and start the debugging version -- the outage time
is the same as bouncing the standard application but now you
are in a position to either fix or comprehensively report the
problem.

&gt; Is it better to have a machine reboot regularly during a quiet period (not
&gt; talking 24/7 access service level here) vs a slow-down and eventual hang
&gt; during working hours (say middle of the day in a finance departemnt just
&gt; before new financial year) due to a problem that built up over several
&gt; months (bad process table etc...)?

I wouldn't do that.  Each reboot carries a greater risk of
hardware failure than leaving the machine running.  Why risk
a disk failure immediately before the server is required?

Glen

-- 
 Glen Turner                                 Network Engineer
 (08) 8303 3936      Australian Academic and Research Network
 <A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>          <A HREF="http://www.aarnet.edu.au/">http://www.aarnet.edu.au/</A>
--
 The revolution will not be televised, it will be digitised

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
