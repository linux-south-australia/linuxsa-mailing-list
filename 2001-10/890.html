<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Perplexing ping problem" -->
<!-- FromName="'Joel Williams'" -->
<!-- FromEmail="joel@airnet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 29 Oct 2001 12:12:12 +1030" -->
<!-- Id="70D8F62FB9505046B306B23D46512B2D18D243@president.adl.ops.airnet.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Perplexing ping problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Joel Williams &lt;<I><A HREF="mailto:joel@airnet.com.au">joel@airnet.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 29 Oct 2001 12:12:12 +1030
</PRE>
<H1>Perplexing ping problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi gang,
I'm seeing a strange problem with two machines and was hoping someone
might be able to suggest a way to fix it or an explanation!

There are two Linux machines on the same segment, connected by
approximately fifteen metres of ethernet cable. There is about 100KB/s
of traffic flowing between them at any given time.

Periodically, packet loss will start to occur and manifest itself as
reduced bandwidth, 50% packet loss and messages like this:

ping: sendto: Operation not permitted
ping: wrote x.x.x.x 64 chars, ret=-1
64 bytes from x.x.x.x: icmp_seq=100 ttl=255 time=2.6ms

etc.

Taking the ethernet interface down and bringing it back up does not seem
to help, although rebooting the computer does fix it for anywhere
between ninety seconds and one hour. I haven't tried rebooting the
second machine, since it takes longer to reboot and doesn't belong to
us.

So far I've done the following:

- Replaced our router
- Tried an alternate ethernet cable
- Swapped the 3Com 3c90x cards with Intel EtherExpress Pro 100 cards
- Swapped the other machine with a completely different one
- Removed all ipchains firewall rules
- Removed all iproute2 traffic control from both computers

Sometimes it goes away and comes back to haunt me after a little while.
Sometimes it'll lose 90% of pings, and other times it'll lose 5%.

The same basic setup has been used in a number of other places without
any trouble, although possibly with less traffic.

Has anyone ever heard of anything like this happening before? :) Any
advice would be greatly appreciated.

Joel

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
