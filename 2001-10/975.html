<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Apache Vhost problems" -->
<!-- FromName="'Corey Gilmore'" -->
<!-- FromEmail="cfg@dln.uvm.edu" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 30 Oct 2001 10:50:28 -0500 (EST)" -->
<!-- Id="Pine.LNX.4.33.0110211113410.29256-100000@dln.uvm.edu" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Apache Vhost problems</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Corey Gilmore &lt;<I><A HREF="mailto:cfg@dln.uvm.edu">cfg@dln.uvm.edu</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 30 Oct 2001 10:50:28 -0500 (EST)
</PRE>
<H1>Apache Vhost problems</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Can anyone think of a reason why Apache 1.3.20 might be confusing virtual
host requests?

I have 4 IP's bound to the NIC, and the nameserver for all the domains
pointing to the domains is also running on the same machine.

One IP has 10 Vhosts on it, and the other has one.  What happens is when
someone hits the site (and requests one of the 10 vhosts), they get a
'random' vhosted site - not always the one they want.  The error log has
nothing other than

[Fri Oct 26 12:22:47 2001] [notice] child pid 4396 exit signal Segmentation fault (11)
[Fri Oct 26 14:38:26 2001] [notice] child pid 15614 exit signal Segmentation fault (11)
[Sat Oct 27 01:26:04 2001] [notice] child pid 22561 exit signal Segmentation fault (11)
[Sat Oct 27 04:09:47 2001] [notice] child pid 4398 exit signal Segmentation fault (11)

Which is not a good thing, but doesn't seem like it would be causing the
dns errors.

I have a crontab setup that restarts apache every 15 minutes, and this
seems to have fixed the problem.

My apache config is (chopped):

ServerType standalone
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
MinSpareServers 5
MaxSpareServers 10
StartServers 10
MaxClients 180
MaxRequestsPerChild 0
BindAddress *
ExtendedStatus On
Port 80
Listen 80
&lt;IfDefine SSL&gt;
Listen 443
&lt;/IfDefine&gt;
UseCanonicalName On
HostnameLookups Off
BrowserMatch "RealPlayer 4\.0" force-response-1.0
BrowserMatch "Java/1\.0" force-response-1.0
BrowserMatch "JDK/1\.0" force-response-1.0


thanks,
corey

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
