<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="SQUID + linux-2.4.5/XFS" -->
<!-- FromName="'Andrew Reid'" -->
<!-- FromEmail="andrew.reid@plug.cx" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 25 Oct 2001 10:19:48 +0930" -->
<!-- Id="20011025101948.A44515@plug.cx" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: SQUID + linux-2.4.5/XFS</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew Reid &lt;<I><A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 25 Oct 2001 10:19:48 +0930
</PRE>
<H1>SQUID + linux-2.4.5/XFS</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
We've been running Linux 2.4.5 + XFS patches on our web cache server for
a while now. Since that's happened, we've been running into some wierd
problems.

Every so-often, SQUID will hang -- hogging 99.9% CPU (according to
`top'). You can't kill it in any way whatsoever -- the thing sits there
in `R' mode.

This *never* used to happen with the same version of SQUID running a 2.2
kernel and ext2 on the cache drives.

It's getting quite annoying, and the powers that be are starting to get
quite irate.

Has anyone experienced anything similar, either with XFS kernels or 2.4
itself? 

We found a kernel bug that manifested itself on 2.4.x-XFS systems when
compiled with an older (broken) version of GCC (the exact number escapes
me now -- it was the one RedHat shipped with 7.0 I believe). 

We're not running ``Ye Olde Broken GCC''. In fact, we're running the one
they recommend -- 2.91.66.

I've just compiled 2.4.13 with XFS patches, and I'll wait (and report)
on how that goes. I thought I'd just check to see weather or not anyone
has had any difficulties similar to the ones we're having.

   - andrew

-- 
void signature () {
	cout &lt;&lt; "Andrew Reid -- <A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A>" &lt;&lt; endl;
	cout &lt;&lt; "Cell: +61 401 946 813" &lt;&lt; endl;
	cout &lt;&lt; "Quidquid latine dictum sit, altum viditur" &lt;&lt; endl;
}

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
