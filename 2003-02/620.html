<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: /var/mail & message forwarding." -->
<!-- FromName="'Jim O'Halloran'" -->
<!-- FromEmail="Jim@kendle.com.au" -->
<!-- ToName="'adam.smith@sageautomation.com','James Leone'" -->
<!-- ToEmail="adam.smith@sageautomation.com,linuxcpa@netscape.net" -->
<!-- Date="Thu, 13 Feb 2003 09:17:32 +1030" -->
<!-- Id="71478A90CD21D711B81D0007E9C5A80204AA03@KCSSERVER" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: /var/mail & message forwarding.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jim O &lt;<I><A HREF="mailto:Jim@kendle.com.au">Jim@kendle.com.au</A></I>&gt;
  To  : adam.smith@sageautomation.com &lt;<I><A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A></I>&gt;<BR>        James Leone &lt;<I><A HREF="mailto:linuxcpa@netscape.net">linuxcpa@netscape.net</A></I>&gt;
  Date: Thu, 13 Feb 2003 09:17:32 +1030
</PRE>
<H1>RE: /var/mail & message forwarding.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt;&gt; &gt;
&gt;&gt; &gt;You could either use something like fetchmail 
&gt;&gt; &gt;
&gt;&gt; If you set this machine up as a pop mail server (Qmail) and have 
&gt;&gt; fetchmail check it periodically, from a machine that will forward the 
&gt;&gt; mail to you, we have a solution! Need help with Qmail?

&gt;The problem is it's not my account on this box that I want to poll for
&gt;mail, it's all of them.  I wanted to attempt to push any mail for any users
&gt;to our primary mail server, but checking for mail via POP will only help me
&gt;for specific accounts that I set up for checking.  
&gt;
&gt;The software, depending
&gt;on what the users are doing, will occasionally send an email to a user on
&gt;the system that gets stuck in /var/mail/username.  It is not critical if
&gt;the user misses these emails, and they are able to get to it in the
&gt;software, but it is trivial using that method.  I was hoping that changing
&gt;the virtusertable would help, but it looks like messages (from PRONTO) are
&gt;still appearing in /var/mail/username files.
&gt;
&gt;I think I need to toy with it a little more and figure out why that is
&gt;happening, because when I send an email using any other client to a user on
&gt;this system, its forwarded automatically thanks to the virtusertable.


How about a cron job to run something like this periodically...

cd /var/spool/mail
for fname in *
do
  formail -Y -s /usr/sbin/sendmail $fname &lt; /var/spool/mail/$fname
done

That will pick up any mail files and inject them back into sendmail where
virtusertable can take care of sending it to the main mail server.

Jim.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
