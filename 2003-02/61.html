<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Fetchmail on the desktop, killing stale lock files." -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="linuxcpa@netscape.net" -->
<!-- ToName="'Linux SA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 03 Feb 2003 17:39:58 -0800" -->
<!-- Id="3E3F19EE.8010405@netscape.net" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Fetchmail on the desktop, killing stale lock files.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:linuxcpa@netscape.net">linuxcpa@netscape.net</A></I>&gt;
  To  : Linux SA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 03 Feb 2003 17:39:58 -0800
</PRE>
<H1>Fetchmail on the desktop, killing stale lock files.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Just a bit of my experience here at work with using fetchmail on the 
desktop, and what I have done to solve an annoying problem.

Some of my coworkers were recently complaining that they were not 
receiving email in Linux. They boot into Linux to retrieve emails.

(I might also add that their Windows desktops have been less of a 
problem since I have done this...)

Anyway the setup is as follows:

ISP---&gt;Fetchmail----&gt;Sendmail-----&gt;Procmail-----&gt;Spamassassin-------&gt;Unix 
Movemail------&gt; Netscape.

Anyway, fetchmail is set to check each desktop's mail every 30 seconds. 
Apparently, if the machine shuts down at a less than optional time, the 
fecthmail lockfile will remain in place the next time the machine boots 
up and fetchmail will not start from the script I have in 
$HOME/.kde/Autostart. The lock file is called fetchmail.pid.

I am just starting to learn more about some of the Unix basics, and want 
to do the following with a shell script:

1. Check for $HOME/fetcmail.pid

2. If a lock file exists, use standard output or the standard error 
output to trigger the removal of $HOME/fetcmail.pid

3. Start fetchmail

So far I can only always ask for the deletion of $HOME/fetcmail.pid each 
time KDE starts, but the error does not look clean.
I guess I could redirect it to a file with &gt; or 2&gt;, but its not as cool 
as the other way.

Any ideas?

James Leone





-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
