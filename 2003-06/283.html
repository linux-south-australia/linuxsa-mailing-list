<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Firewalls.. ipchains (appears filtered from outside, nothing frominside)" -->
<!-- FromName="'jonathan soong'" -->
<!-- FromEmail="jon.soong@imvs.sa.gov.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 06 Jun 2003 10:21:13 +0930" -->
<!-- Id="3EDFE581.1000602@imvs.sa.gov.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Firewalls.. ipchains (appears filtered from outside, nothing frominside)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: jonathan soong &lt;<I><A HREF="mailto:jon.soong@imvs.sa.gov.au">jon.soong@imvs.sa.gov.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 06 Jun 2003 10:21:13 +0930
</PRE>
<H1>Firewalls.. ipchains (appears filtered from outside, nothing frominside)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi guys,

I've recently put a machine on the Internet, and used ipchains as a 
firewall. When i nmap the machine from a local machine
(i.e. a machine on the same network) the results are as expected (see 
below - nothing unexpected open or filtered).
But when i nmap the machine for a remote machine, the scan detects a 
whole bunch of 'filtered' ports - these ports definately
do NOT have anything listening on them.

e.g.
49/tcp     filtered      tacacs
137/tcp   filtered      netbios-ns
138/tcp   filtered      netbios-dgm
139/tcp   filtered      netbios-ssn
               |
               |
529/tcp   filtered      irc-serv

I am guessing that this is a combination of my local router and the 
remote router doing some outbound blocking?
(i have my default ipchains policy as DENY).

Has anyone any ideas?

I figure i'm safe - there's nothing listening on those ports, and 
machine to machine scans show that all ports that should be closed
are closed, but i'm curious as to why so many ports appear filtered.

Thanks

Jon


********************************************************
***FROM A LOCAL MACHINE****
[<A HREF="mailto:root@XXX.XXX.XXX.21">root@XXX.XXX.XXX.21</A> root]# nmap XXX.XXX.XXX.22

Starting nmap V. 2.54BETA31 ( www.insecure.org/nmap/ )
Interesting ports on XXX.com (XXX.XXX.XXX.22):
(The 1546 ports scanned but not shown below are in state: closed)
Port       State       Service
22/tcp     open        ssh
25/tcp     open        smtp
53/tcp     open        domain
80/tcp     open        http
110/tcp    open        pop-3
443/tcp    open        https
11371/tcp  open        pksd
*****************************************************
********************************************************
***FROM A REMOTE MACHINE****
[<A HREF="mailto:root@remote">root@remote</A> root]#nmap XXX.XXX.XXX.22
Starting nmap V. 2.54BETA31 ( www.insecure.org/nmap/ )
Interesting ports on XXX.com (XXX.XXX.XXX.22):
(The 1546 ports scanned but not shown below are in state: closed)
Port       State       Service
22/tcp     open        ssh
25/tcp     open        smtp
49/tcp     filtered      tacacs
53/tcp     open        domain
80/tcp     open        http
109/tcp   filtered      pop-2
110/tcp    open        pop-3
119/tcp   filtered      nntp
137/tcp   filtered      netbios-ns
138/tcp   filtered      netbios-dgm
139/tcp   filtered      netbios-ssn
                |
                |
443/tcp    open        https
529/tcp    filtered     irc-serv  
585/tcp    filtered     imap4-ssl
933/tcp    filtered     unknown
                |
11371/tcp  open        pksd
                |
                | etc





-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
