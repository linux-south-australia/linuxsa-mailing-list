<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Some Proposals for a Linux of The Future (tm) :)" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="jleone@pacbell.net" -->
<!-- ToName="'Damien Uern'" -->
<!-- ToEmail="carrigan_2606@optusnet.com.au" -->
<!-- Date="Sat, 28 Jun 2003 12:40:40 -0700" -->
<!-- Id="" -->
<!-- Reference="200306280119.15340.carrigan_2606@optusnet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Some Proposals for a Linux of The Future (tm) :)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:jleone@pacbell.net">jleone@pacbell.net</A></I>&gt;
  To  : Damien Uern &lt;<I><A HREF="mailto:carrigan_2606@optusnet.com.au">carrigan_2606@optusnet.com.au</A></I>&gt;
  Date: Sat, 28 Jun 2003 12:40:40 -0700
</PRE>
<H1>Re: Some Proposals for a Linux of The Future (tm) :)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Damien Uern wrote:

&gt;Hey,
&gt;
&gt;I've been thinking about the various deficiencies in most GNU/Linux 
&gt;distributions and I would like to detail some of my ideas for improvement 
&gt;here for feedback. These are just notes and are by no means comprehensive, I 
&gt;plan on writing more detailed papers on some possible designs/code etc..
&gt;
I was trying to quickly make a point in my last post, but in my hurry 
messed up the link. Here are some relevent quotes:

<A HREF="http://cr.yp.to/compatibility.html">http://cr.yp.to/compatibility.html</A>

An exerpt:

&gt; Each UNIX integrator has made its own incompatible changes to the OS. 
&gt; This fractures the user community, creating separate pockets of 
&gt; knowledge and experience for each system. It dramatically increases 
&gt; the costs of cross-platform support. It turns 300-page books into 
&gt; 1000-page books.
&gt;
&gt; The tremendous benefits of cross-platform compatibility come from a 
&gt; package's interface being exactly the same on every system. It is a 
&gt; relatively minor benefit for different packages to have similar 
&gt; interfaces. Breaking cross-platform compatibility for the sake of 
&gt; cross-package similarity is a horrible idea.
&gt;
&gt; I used to think that UNIX integrators introduced frivolous 
&gt; incompatibilities because they simply didn't understand the costs. But 
&gt; I've realized that the problem runs deeper: they like the costs. UNIX 
&gt; integrators are competing with each other for new UNIX users; each 
&gt; integrator wants its users to stick to its system. As in Garrett 
&gt; Hardin's ``Tragedy of the Commons,'' every integrator sees an 
&gt; immediate benefit in introducing an incompatibility, even though these 
&gt; benefits eventually add up to a giant loss.
&gt;

So I think the discussion is very important indeed.


&gt;Anyway here they are:
&gt;
&gt;1) Standardised /etc filesystem
&gt;
&gt;- sane filetree:
&gt;
&gt;- e.g. (this is by no means comprehensive, just some ideas - sorry if the 
&gt;indenting doesn't display properly):
&gt;
&gt;/etc/system/services/httpd
&gt;   /ppp
&gt;   /samba/smb.conf
&gt;   /sendmail/sendmail.conf
&gt;   /...
&gt;   /security/hosts.allow
&gt;            /hosts.deny
&gt;            /passwd
&gt;            /fam/fam.conf
&gt;   /...
&gt;   /network/hosts
&gt;   /...
&gt;   /boot/rc.d
&gt;       /init.d
&gt;       /lilo/lilo.conf
&gt;       /grub/grub.conf
&gt;   /...
&gt;   /x11/x11.conf
&gt;   /xdm/xdm.conf
&gt;   /fonts/fonts.conf
&gt;   /...
&gt;   /...
&gt;   /etc/user/skeleton/
&gt;   /applications/gnome
&gt;                /kde
&gt;                /ogle
&gt;   /...
&gt;   /shells
&gt;   /...
&gt;  
&gt;
My initial thought is that I have not been round long enough to want to 
hold on to any of the traditional directory or file names, and that I am 
not as well versed on the structure as you are, but that will prohaps 
provide the advantage of a fresh perspective.

On a first impulse, I thought that file and directory names should be 
picked based upon the function the program aims to achieve, with the 
file being given the program name. 
*So I say rubbish with a /etc directory! It should be called /config !

Another standard should be that there must be an /info directory too, 
much in parallel to the /config directory. These .info files should 
contain a clear listing of all of the necessary files and their versions 
to get the program running properly, as well as point the user to the 
location of the .conf file.

Here is how I would lay it out:

/config/servers/html/apache/apache.conf
                   /smb/samba/samba.conf
              /MTA/sendmail/sendmail.conf
       /security/firewall/ipnumbers/allow.conf
                        /ipnumbers/deny.conf
               /passwords/local/passwd.conf
       /network/tcpip/localipnumber1.conf
       /network/access/ppp/ppp.conf
       /boot/lilo/lilo.conf
       /boot/grub/grub.conf
       /display/display.conf
       /display/fonts/fonts.conf
       /users/users.conf
       /applications/desktops/gnome.conf
                             /kde.conf
                    /Media/DVD/ogle.conf
                    /shells/bash.conf
/boot/services/startup.sh
     /ramdisk
     

/info/servers/html/apache/apache.info
                   /smb/samba/samba.info
              /MTA/sendmail/sendmail.info
       	/security/firewall/ipnumbers/allow.info
                        /ipnumbers/deny.info
               /passwords/local/passwd.info
       	/network/tcpip/localipnumber1.info
       	/network/access/ppp/ppp.info
       	/boot/lilo/lilo.info
       	/boot/grub/grub.info
       	/display/display.info
       	/display/fonts/fonts.info
       	/users/users.info
       	/applications/desktops/gnome.info
                             /kde.info
                    /Media/DVD/ogle.info
                    /shells/bash.info
	/services/startup.sh
     	/ramdisk
     

&gt;-Standardised configuration file syntax with the following design goals:
&gt;
&gt;- Easily human readable and modifyable (so people can edit with vi if need be)
&gt;- Syntax doubles as simple GUI layout guide
&gt;    - entire /etc directory tree should be parseable by a GUI program
&gt;      so that *all* configuration options for the *entire system* can
&gt;      be modified/viewed via a GUI
&gt;    - A GUI program need not know about say "sendmail" specifically in  order 
&gt;to provide a GUI to the user.
&gt;- A library (libetc) provided that can parse the /etc directory tree and the 
&gt;files within it. This library should be cross platform (e.g. so BSD
&gt;  can adopt if it wishes - this includes the structure of the /etc tree)
&gt;
&gt;** See Appendix for a glimpse at the various mish-mash of configuration styles 
&gt;and  file locations currently found under /etc
&gt;
&gt;2) Unified reference distribution that augments the LSB.
&gt;
&gt;- Not a distribution in the common sense, but a specification for a 
&gt;distribution.
&gt;
YES!!

There should be a coalition of major players in the free software 
community that form a standards board. In accounting we have the 
"Financial Accounting Standards Board"; my enginering friend tells me 
that he has something similar.

&gt;- The specification complies with the LSB, but fills in the blanks.
&gt;     - This may include: library versions, compiler version, compile flags    
&gt;       used, etc
&gt;- A repository of packages packaged in a distribution independent format (e.g. 
&gt;something  like "autopackage"). These packages should be able to be installed 
&gt;painlessly on  "Official Reference Distribution" compliant system.
&gt;- "Official Reference Distribution" compliance tested with software. Software 
&gt;for this testing  is free and licensed under the GNU GPL.
&gt;- Distribution companies can display a logo saying they are compatibile with 
&gt;the reference distro  simply by passing the software tests. No fees are 
&gt;charged (it is community supported after all).
&gt;- Documentation repository.
&gt;  - This includes:
&gt;      - HOWTO's for best programming practices for developing and deploying 
&gt;        software on a GNU/Linux system  (e.g. where to store data,
&gt;        configuration data, command line options syntax, user interface guide,
&gt;        when to use libraries, packaging, binary compatibility issues, etc).
&gt;      - any other relevant documentation.
&gt;
&gt;The goal of this is to provide a consistent and unified standard for deploying 
&gt;software on GNU/Linux system without worrying about binary incompatibility 
&gt;issues and/or inconsistencies in the filesystem layout. It also provides 
&gt;guides to programmers so that hopefully all programs on a GNU/Linux system 
&gt;behave in a predictable and consistent manner. Programmers who's programs 
&gt;pass the various guideline tests can display an icon on the webpage for their 
&gt;project. All applications packaged for the "Official Reference Distribution" 
&gt;comply with all defined standards.
&gt;  
&gt;
There needs to be a group that is accepted by the comunity at large to 
set these standards.

And the standard MUST NOT be Linux specific.

&gt;3) Protocol for the underlying system to communicate with the GUI
&gt;
&gt;- A device in the /dev filesystem should be available to facilitate such 
&gt;communication. I nominate "/dev/pts/gui".
&gt;- A process can gain exclusive read access to this file. Text piped into this 
&gt;file is of a certain syntax so that it can be parsed and the desktop 
&gt;environment can provide the user with a suitable notice (such as a flashing   
&gt;icon in the system tray, or messagebox).
&gt;- /dev/pts/gui should be owned by the controlling process (have same uid/gid 
&gt;as the controlling process). If controlling process lacks sufficient 
&gt;permissions to be notified of a message, the write to /dev/pts/gui is denied.
&gt;- If there is no controlling process to /dev/pts/gui, the kernel buffers 
&gt;messages until there is a controlling process  and then passes the messages 
&gt;to it.
&gt;
&gt;The purpose of this is to provide the user with notification of certain things 
&gt;the underlying system is doing that they may need to know about. Such 
&gt;notifications include hardware detection changes at bootup, hotplug changes, 
&gt;system shutdown, etc...
&gt;  
&gt;

All sounds very excellent to me, and would be a big boost for new users. 
  :-)

Now, how do we get a respected and recognized body in place?

James Leone

&gt;APPENDIX:
&gt;
&gt;The following are small snippets from various configuration files in my /etc 
&gt;directory (it details the various syntaxes currently in use):
&gt;
&gt;%/etc/samba/smb.conf
&gt;
&gt;# The following two entries demonstrate how to share a directory so that two
&gt;# users can place files there that will be owned by the specific users. In 
&gt;this
&gt;# setup, the directory should be writable by both users and should have the
&gt;# sticky bit set on it to prevent abuse. Obviously this could be extended to
&gt;# as many users as required.
&gt;;[myshare]
&gt;;   comment = Mary's and Fred's stuff
&gt;;   path = /usr/somewhere/shared
&gt;;   valid users = mary fred
&gt;;   public = no
&gt;;   writable = yes
&gt;;   printable = no
&gt;;   create mask = 0765
&gt;
&gt;[DOWNLOADS]
&gt;   path = /home/damien/downloads
&gt;   comment = /home/damien/downloads
&gt;   public = yes
&gt;   guest ok = yes
&gt;   writable = no
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/X11/XF86Config-4
&gt;
&gt;Section "Device"
&gt;    Identifier "device1"
&gt;    VendorName "nVidia Corporation"
&gt;    BoardName "NVIDIA GeForce3 (generic)"
&gt;    Driver "nvidia"
&gt;    Option "DPMS" "True"
&gt;    Option "CursorShadow" "True"
&gt;    Option "NoLogo" "True"
&gt;    Option "CursorShadowAlpha" "60"
&gt;EndSection
&gt;
&gt;Section "Monitor"
&gt;    Identifier "monitor1"
&gt;    VendorName "Plug'n Play"
&gt;    HorizSync 30-98
&gt;    VertRefresh 50-160
&gt;
&gt;    # Sony Vaio C1(X,XS,VE,VN)?
&gt;    # 1024x480 @ 85.6 Hz, 48 kHz hsync
&gt;    ModeLine "1024x480"    65.00 1024 1032 1176 1344   480  488  494  563 
&gt;-hsync -vsync
&gt;
&gt;    # TV fullscreen mode or DVD fullscreen output.
&gt;    # 768x576 @ 79 Hz, 50 kHz hsync
&gt;    ModeLine "768x576"     50.00  768  832  846 1000   576  590  595  630
&gt;
&gt;    # 768x576 @ 100 Hz, 61.6 kHz hsync
&gt;    ModeLine "768x576"     63.07  768  800  960 1024   576  578  590  616
&gt;EndSection
&gt;
&gt;Section "Screen"
&gt;    Identifier "screen1"
&gt;    Device "device1"
&gt;    Monitor "monitor1"
&gt;    DefaultColorDepth 24
&gt;
&gt;    Subsection "Display"
&gt;        Depth 8
&gt;        Modes "1280x1024" "1280x960" "1152x864" "1024x768" "800x600" "640x480"
&gt;    EndSubsection
&gt;
&gt;    Subsection "Display"
&gt;        Depth 15
&gt;        Modes "1280x1024" "1280x960" "1152x864" "1024x768" "800x600" "640x480"
&gt;    EndSubsection
&gt;
&gt;    Subsection "Display"
&gt;        Depth 16
&gt;        Modes "1280x1024" "1280x960" "1152x864" "1024x768" "800x600" "640x480"
&gt;    EndSubsection
&gt;
&gt;    Subsection "Display"
&gt;        Depth 24
&gt;        Modes "1280x1024" "1280x960" "1152x864" "1024x768" "800x600" "640x480"
&gt;    EndSubsection
&gt;EndSection
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/fonts/fonts.conf
&gt;
&gt;--&gt; &lt;dir&gt;/usr/share/fonts/default/Type1/&lt;/dir&gt;
&gt; &lt;dir&gt;/usr/share/fonts/ttf/decoratives/&lt;/dir&gt;
&gt; &lt;dir&gt;/usr/X11R6/lib/X11/fonts/TTF/&lt;/dir&gt;
&gt; &lt;dir&gt;/usr/X11R6/lib/X11/fonts/winttf/&lt;/dir&gt;
&gt;&lt;!--
&gt;  Enable sub-pixel rendering
&gt;        &lt;match target="font"&gt;
&gt;                &lt;test qual="all" name="rgba"&gt;
&gt;                        &lt;const&gt;unknown&lt;/const&gt;
&gt;                &lt;/test&gt;
&gt;                &lt;edit name="rgba" mode="assign"&gt;&lt;const&gt;rgb&lt;/const&gt;&lt;/edit&gt;
&gt;        &lt;/match&gt;
&gt;--&gt;&lt;!--
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/oglerc
&gt;
&gt;&lt;ogle_conf&gt;
&gt;  &lt;dvd&gt;
&gt;    &lt;nav&gt;
&gt;      &lt;defaults&gt;
&gt;        &lt;DefaultMenuLanguage&gt;en&lt;/DefaultMenuLanguage&gt;
&gt;        &lt;DefaultAudioLanguage&gt;en&lt;/DefaultAudioLanguage&gt;
&gt;        &lt;DefaultSubtitleLanguage&gt;en&lt;/DefaultSubtitleLanguage&gt;
&gt;        &lt;ParentalCountry&gt;US&lt;/ParentalCountry&gt;
&gt;        &lt;ParentalLevel&gt;15&lt;/ParentalLevel&gt;
&gt;        &lt;PlayerRegion&gt;1&lt;/PlayerRegion&gt;
&gt;      &lt;/defaults&gt;
&gt;    &lt;/nav&gt;
&gt;    &lt;device&gt;
&gt;      &lt;path&gt;/dev/dvd&lt;/path&gt;
&gt;    &lt;/device&gt;
&gt;  &lt;/dvd&gt;
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/xinetd.conf
&gt;
&gt;defaults
&gt;{
&gt;        instances               = 60
&gt;        log_type                = SYSLOG authpriv
&gt;        log_on_success          = HOST PID
&gt;        log_on_failure          = HOST
&gt;        cps                     = 25 30
&gt;}
&gt;
&gt;includedir /etc/xinetd.d
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/modules.conf
&gt;
&gt;probeall scsi_hostadapter ide-scsi
&gt;alias eth0 8139too
&gt;above snd-emu10k1 snd-pcm-oss
&gt;alias sound-slot-0 snd-emu10k1
&gt;probeall usb-interface usb-uhci
&gt;#options ide-scsi ignore=hdd
&gt;alias /dev/nvidia*   nvidia
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/man.config
&gt;
&gt;#
&gt;# The below mappings are superfluous when the right hand side is
&gt;# in the mandatory manpath already, but will keep man from statting
&gt;# lots of other nearby files and directories.
&gt;#
&gt;MANPATH_MAP     /bin                    /usr/share/man
&gt;MANPATH_MAP     /sbin                   /usr/share/man
&gt;MANPATH_MAP     /usr/bin                /usr/share/man
&gt;MANPATH_MAP     /usr/sbin               /usr/share/man
&gt;
&gt;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
&gt;
&gt;%/etc/proftpd.conf
&gt;
&gt;# Set the user and group under which the server will run.
&gt;User                            nobody
&gt;Group                           nogroup
&gt;
&gt;# Normally, we want files to be overwriteable.
&gt;&lt;Directory /&gt;
&gt;  AllowOverwrite                on
&gt;&lt;/Directory&gt;
&gt;
&gt;
&gt;  
&gt;


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
