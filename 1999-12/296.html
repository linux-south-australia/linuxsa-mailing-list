<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: NT and Linux user authentication" -->
<!-- FromName="Nick Morrison" -->
<!-- FromEmail="nickm@bhwb.nsw.gov.au" -->
<!-- ToName="Andrew Speer" -->
<!-- ToEmail="andrew.speer@isolutions.com.au" -->
<!-- Date="Tue, 14 Dec 1999 13:40:36 +1030" -->
<!-- Id="000a01bf45e0$ca6571e0$4201010a@bhwb.local" -->
<!-- Reference="008901bf457b$e8b78b20$1500a8c0@isolutions.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: NT and Linux user authentication</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Nick Morrison &lt;<I><A HREF="mailto:nickm@bhwb.nsw.gov.au">nickm@bhwb.nsw.gov.au</A></I>&gt;
  To  : Andrew Speer &lt;<I><A HREF="mailto:andrew.speer@isolutions.com.au">andrew.speer@isolutions.com.au</A></I>&gt;
  Date: Tue, 14 Dec 1999 13:40:36 +1030
</PRE>
<H1>RE: NT and Linux user authentication</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hello Andrew!

Your suggested solution has fitted /perfectly/ with what I needed.

Here's what I've done.

==
[<A HREF="mailto:root@neptune">root@neptune</A> pam.d]# cat /etc/pam.d/pop
#%PAM-1.0
auth       required     /lib/security/pam_smb_auth.so
#auth       required    /lib/security/pam_pwdb.so shadow nullok
account    required     /lib/security/pam_pwdb.so
==

And it seems to work brilliantly!  I'm forever in your debt :)

Users are automatically added to the /etc/passwd file when they access the
samba share (and authenticated against the NT database by Samba)..  so for
them to have email enabled, all they have to do is access the samba share!
I like it muchly.  Minimal administration = A Good Thing.

Can you answer for me one thing though - why is it that I can still log in
using my normal Linux account - even though I've removed pam_pwdb.so from
the required section?  (when I say log in - I mean to the pop service)

I would guess.. logically..  that pam_smb_auth.so is doing all the
authentication for users on the NT database..  as long as they're in the
/etc/passwd file..  but it's NOT doing authentication for Linux users.

So if "nickm" is a user on the Linux system..   but NOT on the NT system..
he wouldn't be authenticated by pam_smb_auth.so.  Right??

-OR-

Am I barking up the wrong tree and therefore should read some documentation.

Tell me either way :)

Many many many thanks again Andrew!  You've saved me a lot of blood,
sweat and tears.
__
Nick Morrison
<A HREF="mailto:nickm@bhwb.nsw.gov.au">nickm@bhwb.nsw.gov.au</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
