<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IPchains and startup scripts" -->
<!-- FromName="Subba Rao" -->
<!-- FromEmail="subb3@attglobal.net" -->
<!-- ToName="Richard Sharpe" -->
<!-- ToEmail="sharpe@ns.aus.com" -->
<!-- Date="Sun, 26 Dec 1999 08:56:35 -0500" -->
<!-- Id="19991226085635.B28893@attglobal.net" -->
<!-- Reference="3.0.6.32.19991221093359.00a14db0@mail.adelaide.on.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IPchains and startup scripts</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Subba Rao &lt;<I><A HREF="mailto:subb3@attglobal.net">subb3@attglobal.net</A></I>&gt;
  To  : Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  Date: Sun, 26 Dec 1999 08:56:35 -0500
</PRE>
<H1>Re: IPchains and startup scripts</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On  0, Richard Sharpe &lt;<A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>&gt; wrote:
&gt; Hi,
&gt; 
&gt; In the past I have chatted to people about the best place to run your
&gt; IPchains commands.
&gt; 
&gt; I have suggested that a startup script should be created and placed in
&gt; /etc/rc.d/init.d and it should be linked to something like
&gt; /etc/rc.d/rc3.d/S05firewall.
&gt; 
&gt; Others have demurred, and decided to put their IPchains commands in
&gt; /etc/rc.d/rc.local, citing simplicity.
&gt; 
&gt; This is a BAD, BAD, BAD IDEA(tm)!
&gt; 
&gt; Since rc.local is run after all your other scripts, there can be a large
&gt; window of opportunity (esp if you are starting squid, which takes a while
&gt; to start) where attackers can get in uncontrolled, probably with IP
&gt; Forwarding turned on.
&gt; 
&gt; Consider the following scenario.
&gt; 
&gt; Attacker fingerprints you using nmap.  Launches a remote crash attack. Then
&gt; launches other well known attacks, while you are rebooting, against things
&gt; you might mistakenly have running in the hope to get the attack over and
&gt; done with before your firewall script runs. 
&gt; 
&gt; You might be hosed.
&gt; 

You can start the filter rules somewhere in the /etc/rc.d/scripts, BEFORE your
system becomes live on the network. That will not give nmap the opportunity to
fingerprint the OS. Unless there is a lot of startup time for servers in the
/etc/rc.d/, before you start your ipchains, you should not have to worry about
the above attack scenario.

Subba Rao
<A HREF="mailto:subb3@attglobal.net">subb3@attglobal.net</A>
<A HREF="http://pws.prserv.net/truemax/">http://pws.prserv.net/truemax/</A>

 =&gt; Time is relative. Here is a new way to look at time. &lt;=
<A HREF="http://www.smcinnovations.com">http://www.smcinnovations.com</A>

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
