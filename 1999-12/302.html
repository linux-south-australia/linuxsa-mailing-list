<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: NT and Linux user authentication" -->
<!-- FromName="Andrew Speer" -->
<!-- FromEmail="andrew.speer@isolutions.com.au" -->
<!-- ToName="Nick Morrison" -->
<!-- ToEmail="nickm@bhwb.nsw.gov.au" -->
<!-- Date="Tue, 14 Dec 1999 16:22:23 +1030" -->
<!-- Id="" -->
<!-- Reference="000a01bf45e0$ca6571e0$4201010a@bhwb.local" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: NT and Linux user authentication</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew Speer &lt;<I><A HREF="mailto:andrew.speer@isolutions.com.au">andrew.speer@isolutions.com.au</A></I>&gt;
  To  : Nick Morrison &lt;<I><A HREF="mailto:nickm@bhwb.nsw.gov.au">nickm@bhwb.nsw.gov.au</A></I>&gt;
  Date: Tue, 14 Dec 1999 16:22:23 +1030
</PRE>
<H1>Re: NT and Linux user authentication</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Nick,

&gt;
&gt; And it seems to work brilliantly!  I'm forever in your debt :)
&gt;
[Sheesh. I was only involved in a small part of it ! Thank David Airlie !
Glad I could help with the suggestion though.]

&gt; Can you answer for me one thing though - why is it that I can still log in
&gt; using my normal Linux account - even though I've removed pam_pwdb.so from
&gt; the required section?  (when I say log in - I mean to the pop service)
&gt;
&gt; I would guess.. logically..  that pam_smb_auth.so is doing all the
&gt; authentication for users on the NT database..  as long as they're in the
&gt; /etc/passwd file..  but it's NOT doing authentication for Linux users.
&gt;
&gt; So if "nickm" is a user on the Linux system..   but NOT on the NT system..
&gt; he wouldn't be authenticated by pam_smb_auth.so.  Right??
&gt;

My understanding of pam_smb is that it checks the supplied username and
password against /etc/passwd (and possibly the shadow file) *first*. If
there is a match, (eg for "root", who probably does not have an NT account)
the module returns SUCCESS. So to your above statement (Right ??) - No -
users with a valid Unix account/passwd, but no NT account will still be
permitted access. If for some reason this was not desirable it would
probably be pretty easy to change this behaviour in the source code.

[Bit of a rant !]

I am kind of puzzled why pam_smb does not get more press. It seems very few
people know about or use it, but it is (to me, anyway) one of the best ways
to introduce Linux to an NT shop. I do not blame users who get frustrated at
obtrusive password regimes, eg having different usernames and passwords for
similar, low to medium security applications. It must be very frustrating
having different passwords on different systems, let alone having them
expire at different times etc, and - theoretically, according to most
security policies, but probably never adhered to by users - different
passwords on different systems.

I am not suggesting that the password the HR people use to get to the
Payroll system neccessarily be the same as their email system, but is it too
much for users to ask that the File/Print/Proxy/Web/Email username and
passwords be in sync ?

pam_smb allows an organisation to use Linux for (say) Web/Proxy and Email,
but retain NT for File and Print services. Rightly or wrongly, for
non-technical reasons NT is entrenched in many places as the "Back End" OS
of choice. If solution providers (or on site admin/techs) can sell the
benifits of Linux apps, and then tell the client/boss that those apps will
also integrate with their NT system, they have to be in with a good chance
of making a sale.

[End Rant]

Anyway, if other people see this post and are interested in implementing
pam_smb within their organisation, and want assistance, I would be happy to
get involved (possibly for a fee, depending who you are !)

Andrew Speer


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
