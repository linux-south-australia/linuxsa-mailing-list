<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Route or IPChains: What is the right way?" -->
<!-- FromName="Darryl Ross" -->
<!-- FromEmail="darryl@bachblue.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="jcampos@di.fc.ul.pt" -->
<!-- Date="Wed, 08 Dec 1999 09:01:18 +1030" -->
<!-- Id="384D8AB6.894B69CD@bachblue.com.au" -->
<!-- Reference="384CFBEB.12304F6F@ui.icat.fc.ul.pt" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Route or IPChains: What is the right way?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:darryl@bachblue.com.au">darryl@bachblue.com.au</A></I>&gt;
  To  : <A HREF="mailto:jcampos@di.fc.ul.pt">jcampos@di.fc.ul.pt</A>
  Date: Wed, 08 Dec 1999 09:01:18 +1030
</PRE>
<H1>Re: Route or IPChains: What is the right way?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Jo\\ao Campos wrote:
&gt; 
&gt; Hi.
&gt; 
&gt; I need to make a LAN connected to the outside world through a Linux box
&gt; (2 NA's). The only thing different from the HOWTOS is that I want my
&gt; internal hosts to be visible (with legal IP addresses) on the outside,
&gt; just as if they were directly connected. I don't want to do any kind of
&gt; filtering.

The first thing is, do you have some legal IP addresses allocated to
you?? If you do, that's fine, but if you don't, then you MUST buy some
from your ISP, as even if they are legal, the Internet will not know how
to route the packets to you unless you own them.
 
&gt; I've already putted the thing to work with IPchains, but only with
&gt; Illegal IP's (192.168.*.*).
&gt; 
&gt; Am I using the right tool, or will route suffice me?

I would use a combination of the two. You need to set up a routing entry
on the linux gateway such as:

route add -net 192.168.1.0 netmask 255.255.255.224 dev eth0

Obviously, replace the 192.168.1.0 with the network address of the IP
block you buy.
Why 224 for the netmask? Well, a full IP address is 32 bits long. For a
block of 16 IP addresses, 4 bits can change, so it leaves 28 bits that
we "care" about. 28 x 8 = 224.

And use ipchains to set up a bit of security on your LAN, so people on
the Internet cannot mess around in your LAN. General rule of thunb is to
block *ALL* access, and then allow what you want to allow.

&gt; Should I put 2 IPAdresses in the same network adaptor and use IPChains?
&gt; How?
&gt; To use route, do I need to create a valid network address?
&gt; What would be the netmask for a 16 hosts network? What would be the
&gt; first address on this network? What would be the broadcast address?

I hope what I have written above helps. If you need any more help, feel
free to email me privately.
 
Darryl

-- 

Darryl Ross - VRM
Need a reliable web host? Need great tech support?
Want answers to your questions in minutes?
Check out Virtualis Systems for this and more!
<A HREF="http://www.virtualisys.com/vr/dross/">http://www.virtualisys.com/vr/dross/</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
