<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="IPchains and startup scripts" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="LinuxSA@linuxsa.org.au" -->
<!-- Date="Tue, 21 Dec 1999 09:33:59 +1000" -->
<!-- Id="3.0.6.32.19991221093359.00a14db0@mail.adelaide.on.net" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: IPchains and startup scripts</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:LinuxSA@linuxsa.org.au">LinuxSA@linuxsa.org.au</A>
  Date: Tue, 21 Dec 1999 09:33:59 +1000
</PRE>
<H1>IPchains and startup scripts</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

In the past I have chatted to people about the best place to run your
IPchains commands.

I have suggested that a startup script should be created and placed in
/etc/rc.d/init.d and it should be linked to something like
/etc/rc.d/rc3.d/S05firewall.

Others have demurred, and decided to put their IPchains commands in
/etc/rc.d/rc.local, citing simplicity.

This is a BAD, BAD, BAD IDEA(tm)!

Since rc.local is run after all your other scripts, there can be a large
window of opportunity (esp if you are starting squid, which takes a while
to start) where attackers can get in uncontrolled, probably with IP
Forwarding turned on.

Consider the following scenario.

Attacker fingerprints you using nmap.  Launches a remote crash attack. Then
launches other well known attacks, while you are rebooting, against things
you might mistakenly have running in the hope to get the attack over and
done with before your firewall script runs. 

You might be hosed.



Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>, Master Linux Administrator :-),
Samba (Team member, www.samba.org), Ethereal (Team member, www.zing.org)
Co-author, SAMS Teach Yourself Samba in 24 Hours
Author: First Australian 5-day, intensive, hands-on Linux SysAdmin course

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
