<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IPC for Apache module child processes (technical)" -->
<!-- FromName="Alan Kennington" -->
<!-- FromEmail="akenning@dog.topology.org" -->
<!-- ToName="Glen Turner" -->
<!-- ToEmail="glen.turner@aarnet.edu.au" -->
<!-- Date="Mon, 8 May 2000 00:59:19 +091800" -->
<!-- Id="20000508005919.A26894@dog.topology.org" -->
<!-- Reference="39158367.66C04FB4@aarnet.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IPC for Apache module child processes (technical)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  To  : Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  Date: Mon, 8 May 2000 00:59:19 +091800
</PRE>
<H1>Re: IPC for Apache module child processes (technical)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Glen,

Many thanks for that, especially for the references
(only one of which I have read - Deitel).

Just a little point about the hash algorithm - I was planning
to use the ATM cell header CRC-8 (polynomial 0x107).
CRCs are so ideally suited to mashing up numbers, I've always
wondered by they aren't used for hash algorithms.
A 32 to 8 bit CRC is just four 1-byte table look-ups too.

Come to think of it, if I'm doing this sort of thing, then
considering that the 386 architecture has so few registers
and therefore presumably has a really small exception stack
(compared to the 68k for instance), maybe I shouldn't worry too much
about the system call overhead. But I know that the kernel does
a whole heap of things everytime the CPU is given back to it -
or... I think the way linux works is that going into kernel
mode by a system call TRAP-instruction (or whatever) only
causes the transition to kernel mode, and only if
the kernel code for that system call gives up the CPU does
the kernel go through its process-scheduling rigmarole.

Conclusion: I'll use the system semaphores provided - especially now
that I've spent a day reading the man-manuals.
(Another day and I should be right.)

Another little point:
All the way through reading up on linux semaphores, it occurred
to me that this is just what one would put together for
a database for record locking - especially the emphasis on
_arrays_ of semaphores rather than single semaphores.
So I'm not surprised that database people implemented them.

Just one more little question:

The Apache throttle module I'm reading for inspiration
(by Anthony Howe) uses the integer 0x61715f02 as the first argument
to semget().

sem.id = semget(0x61715f02, 1, IP_CREAT|0777);

Is there some secret fraternity of programmers who hand out
these numbers?
Are they chosen randomly to be different to everyone else's?
Are they registered in a database somewhere.

There seems to be a lot of hocus-pocus in the semaphores world.
Do you have to join a club or something?

Cheers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
