<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="2.3.99 USB backport to 2.2.14 kernels" -->
<!-- FromName="Peter Freeman" -->
<!-- FromEmail="petefree@bigfoot.com" -->
<!-- ToName="LinuxSA Mailing List" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 09 May 2000 11:49:13 +0000" -->
<!-- Id="3917FB39.4DDDB661@bigfoot.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: 2.3.99 USB backport to 2.2.14 kernels</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Peter Freeman &lt;<I><A HREF="mailto:petefree@bigfoot.com">petefree@bigfoot.com</A></I>&gt;
  To  : LinuxSA Mailing List &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 09 May 2000 11:49:13 +0000
</PRE>
<H1>2.3.99 USB backport to 2.2.14 kernels</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi all

As there's been a bit of talk on this list recently about USB, I thought
I'd post my experiences with the latest USB backport patch, where to get
it, how to install it etc.
Basically the backport patch is the new USB code from the latest dev.
kernel (2.3.99) made suitable for 2.2.14 kernels (the current stable
kernel)

The main site for Linux USB stuff is www.linux-usb.org
Here you'll find links to a lot of bits & pieces, mostly uninteresting
unless you're a programmer.
The three worth looking at are below.

    Backport patch:         <A HREF="http://www.suse.cz/development/usb-backport/">http://www.suse.cz/development/usb-backport/</A>

    Working Devices:      <A HREF="http://www.qbik.ch/usb/devices/">http://www.qbik.ch/usb/devices/</A>
    Linux USB Guide:
<A HREF="http://linuxusbguide.sourceforge.net/USB-guide-1.0.6/book1.html">http://linuxusbguide.sourceforge.net/USB-guide-1.0.6/book1.html</A>

The USB guide is quite handy for info on setting up your particular
device.  I used it for my USB modem.  Its fairly straightforward stuff
really.
Anyway, I'll presume you have the tar files of the 2.2.14 kernel & also
the USB backport patch.
I'll refer to these as 2.2.14.tar.gz & usb.diff respectively.
This will start from scratch & presume you dont have a kernel source
tree for 2.2.14 already, it wont work with any other kernel afaik.
Certainly not 2.2.12, grin ;-), been there, broke that!
Also, this presumes you are logged in as root.
All commands are in quotes as such: "make xconfig"

Copy 2.2.14.tar.gz to /usr/src
"cp 2.2.14.tar.gz /usr/src"

Change dir to /usr/src
Remove your existing linux symlink
"rm linux"

Create a dir for the new kernel (can be anything, we'll call it
linux-2.2.14)
"mkdir linux-2.2.14"

Make a new symlink to that dir
"ln -s /usr/src/linux-2.2.14 linux"

Untar the kernel sources
"tar -zxvf 2.2.14.tar.gz"

Copy the USB patch to the linux dir
"cp usb.diff /usr/src/linux"

Change dir to /usr/src/linux
Apply the patch
"gzip -dc usb.diff | -p1"

Cleanup the source tree
"make distclean"

Compile your new kernel following the usual procedure
ie:"make xconfig; make dep; make clean; make bzImage; make modules; make
modules_install"
(you'll now have a USB support option in xconfig, check the notes for
each option to work out which USB drivers you need)

If u have any other queries, just post the list, I'll see what I can do.

I'm no expert, but this is how I got USB working on my PC & there doesnt
seem to be a whole lot of info about on how to get it working, apart
from the brief bit on the backport site.

Regards


 --------------------------------------------
          .~.
          /V\
         // \\
        /(   )\   Go the Penguin!
         ^^-^^

 Failure is not an option -
 it comes bundled with Windows.

 --------------------------------------------

  Peter Freeman

  Home Email: <A HREF="mailto:petefree@bigfoot.com">petefree@bigfoot.com</A>
  Work Email: <A HREF="mailto:freeman.peter@saugov.sa.gov.au">freeman.peter@saugov.sa.gov.au</A>

 --------------------------------------------


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
