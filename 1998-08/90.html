<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Linux box refusing connections" -->
<!-- FromName="Toby (TC)" -->
<!-- FromEmail="tjcorkin@cs.adelaide.edu.au" -->
<!-- ToName="O'CONNOR, Steve" -->
<!-- ToEmail="SOCONNOR@baea.com.au" -->
<!-- Date="Wed, 12 Aug 1998 14:52:43 +0930 (CST)" -->
<!-- Id="Pine.SV4.3.93.980812144542.8691A-100000@florence.teaching.cs.adelaide.edu.au" -->
<!-- Reference="9FEECB26069DD111B0FB0060B057FD43213D35@SBNTEX1" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Linux box refusing connections</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby (TC) &lt;<I><A HREF="mailto:tjcorkin@cs.adelaide.edu.au">tjcorkin@cs.adelaide.edu.au</A></I>&gt;
  To  : O'CONNOR, Steve &lt;<I><A HREF="mailto:SOCONNOR@baea.com.au">SOCONNOR@baea.com.au</A></I>&gt;
  Date: Wed, 12 Aug 1998 14:52:43 +0930 (CST)
</PRE>
<H1>Re: Linux box refusing connections</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
It is strange that sendmail is accepting connections.
Due to the fact that so many things running through inetd are failling,
yet ping, traceroute, etc. that run without it are succeeding, I would
suggest that you double check that
a) inetd is running (ps auxw|grep inetd)
b) inetd is configured okay (/etc/inetd.conf)
c) check tcp_wrappers (tcpd, /etc/hosts.allow, /etc/hosts.deny)
   It sounds vaguely like someone has put a ALL:ALL line into
/etc/hosts.deny, and then added popmail:All (and probably
telnet.d:secure_machine as well) to /etc/hosts.deny.

As far as thje NFS bit goes, that could be due to inetd/tcpd, or also the
portmapper and nfsd may just not be loaded.

Anyway, have a go with those for starters. THe only thing is - is this
linux machine one you've set up, or someone elses? Just that the default
setup doesn't include denying access like that, although various HOWTOs
etc. reccommend doing that for security purposes. Although the apprent
absence of a All:Local line is a bit strange.

- Toby


...Careful with that axe, Eugene!

On Wed, 12 Aug 1998, O'CONNOR, Steve wrote:

&gt; I have a linux that is currently refusing connections from telnet.
&gt; 
&gt; - It has IP address 203.1.141.3
&gt; - Another machine on network has 203.1.141.6   netmask 255.255.255.0
&gt; - On second machine   telnet 203.1.141.3    waits for a connection, then
&gt; drops with connection refused
&gt; - On problem machine, telnet to self (either 203.1.141.3  or localhost)
&gt; does same thing
&gt; - ping, traceroute, etc all report no errors
&gt; 
&gt; - Telnet to port 23 (telnet), 21 (ftp), 19, 37, etc  all fail with same
&gt; problem
&gt; - Telnet to port 25 connects properly to sendmail
&gt; 
&gt; no errors reported in /var/log/messages
&gt; (I have not looked in /proc yet for any traces there)
&gt; 
&gt; - ps -eax reports that telnetd is running, and netstat -a reports that
&gt; telnetd is in a LISTEN state
&gt; 
&gt; Trying to NFS mount an exported drive from the problem machine fails on
&gt; the client with RPC portmapper failure, and /var/log/messages on the
&gt; problem machine reports connection refused due to unauthorised remote IP
&gt; address.
&gt; 
&gt; I suppose I should change these IP addresses to approved ones (192. ...
&gt; whatever it is), but I dont know why these things may be happening.
&gt; 
&gt; thanks.
&gt; SteveOC
&gt; 
&gt; -- 
&gt; Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 
&gt; 

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
