<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="mgetty respawn woes" -->
<!-- FromName="O'CONNOR, Steve" -->
<!-- FromEmail="SOCONNOR@baea.com.au" -->
<!-- ToName="'linuxsa@linuxsa.org.au'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 16 Jul 1998 12:50:47 +0930" -->
<!-- Id="9FEECB26069DD111B0FB0060B057FD43213CD8@SBNTEX1" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: mgetty respawn woes</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: O'CONNOR, Steve &lt;<I><A HREF="mailto:SOCONNOR@baea.com.au">SOCONNOR@baea.com.au</A></I>&gt;
  To  : 'linuxsa@linuxsa.org.au' &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 16 Jul 1998 12:50:47 +0930
</PRE>
<H1>mgetty respawn woes</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Hi all !
&gt; 
&gt; Here is a problem that I need some advice on -
&gt; 
&gt; Have a P-120 running RH 4.2, with a modem on /dev/modem. I am using
&gt; mgetty to answer the phone and present a login prompt.
&gt; 
&gt; a line in /etc/inittab :
&gt; d:12345:respawn:mgetty -x 4 38400
&gt; 
&gt; in /etc/passwd :
&gt; user1:501:501:password:/home/user1:/bin/bash
&gt; user2:502:501:password:/home/user2:/sbin/pppd -detach
&gt; 
&gt; When I first call into the machine from a remote site, it all works
&gt; fine, I get a login prompt and can then either login as user1 to get a
&gt; shell, or user2 to create a PPP connection, which also works fine.
&gt; 
&gt; After I terminate this call, I would expect that mgetty dies (?) and
&gt; gets respawned. When I ring in for a second time, the modem answers
&gt; correctly, but no login prompt appears. If I hit ENTER a lot (or send
&gt; data to the other modem), I get small amounts of random rubbish thrown
&gt; back, but no login prompt. The random rubbish DOES NOT LOOK LIKE PPP
&gt; traffic, which does look like nonsense, but it is predictable
&gt; nonsense. This just looks like random noise.
&gt; 
&gt; Now -
&gt; If I power off both modems & retry, I have the same problem, so it is
&gt; not some MNP4 setting going wrong on the modems.
&gt; 
&gt; - If I get the remote server to reboot (and hence start mgetty
&gt; afresh), It works fine for the next dialin. After the next hangup, I
&gt; am back to the no-login problem.
&gt; 
&gt; It looks like mgetty is not respawning ?
&gt; 
&gt; Could any of you kind ISP folk cast some light on this ? I know that
&gt; Linux does a good job of reliably answering phone calls, but I must
&gt; have missed something obvious.
&gt; 
&gt; Thankx
&gt; Steve OC
&gt; 

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
