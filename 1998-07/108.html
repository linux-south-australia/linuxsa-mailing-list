<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: bit of a programming question" -->
<!-- FromName="Andrae Muys" -->
<!-- FromEmail="a.muys@mailbox.uq.edu.au" -->
<!-- ToName="Ben Kramer" -->
<!-- ToEmail="ben@WebMedia.com.au" -->
<!-- Date="Wed, 15 Jul 1998 14:51:48 +1000 (GMT+1000)" -->
<!-- Id="Pine.OSF.3.95.980715144333.13134Q-100000@dingo.cc.uq.edu.au" -->
<!-- Reference="35AC1E26.CE87FF40@webmedia.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: bit of a programming question</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrae Muys &lt;<I><A HREF="mailto:a.muys@mailbox.uq.edu.au">a.muys@mailbox.uq.edu.au</A></I>&gt;
  To  : Ben Kramer &lt;<I><A HREF="mailto:ben@WebMedia.com.au">ben@WebMedia.com.au</A></I>&gt;
  Date: Wed, 15 Jul 1998 14:51:48 +1000 (GMT+1000)
</PRE>
<H1>Re: bit of a programming question</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 15 Jul 1998, Ben Kramer wrote:

&gt; Matthew Tippett wrote:
&gt; &gt; 
&gt; &gt; Ben,
&gt; &gt; 
&gt; &gt; &gt;From 'man crypt' on RH5.1 it has the following.
&gt; &gt; 
&gt; &gt; SYNOPSIS
&gt; &gt;        #define _XOPEN_SOURCE
&gt; &gt;        #include &lt;unistd.h&gt;
&gt; &gt; 
&gt; &gt;        char *crypt(const char *key, const char *salt);
&gt; &gt; 
&gt; &gt; Which means that you need to have the #define and the #include
&gt; &gt; line in your code to have access to the function.
&gt; &gt; 
&gt; &gt; So you probably need the #define _XOPEN_SOURCE before you
&gt; &gt; compile.
&gt; 
&gt; 
&gt; Tried this , placing it before all #include's and then the whole thing
&gt; complained on every line...
&gt; 
Well the standard response to this question would have to be UTSL.

Looking in /usr/include/unistd.h and searching for crypt...

Line 846:  extern char *crypt __P ((__const char *__key, __const char
*__salt));

Which is the function you're looking for.

In the surrounding text we see.

/* XPG4.2 specifies that prototypes for the encryption functions must
   be defined here.  */
#ifdef  __USE_XOPEN
/* Encrypt at most 8 characters from KEY using salt to perturb DES.  */
extern char *crypt __P ((__const char *__key, __const char *__salt));

&lt;SNIP SOME OTHER STUFF&gt;

#endif

So the #define you actually needed to use was __USE_XOPEN.  In otherwords,
that man page is out of date.

Moral of the story??  Learn to read your system headers, there's all kinds
of neat stuff in there.

Andrae

P.S. I'm using RH5.0, so you may want to check yourself, but I imagine the
change is a result of the switch to glibc.

P.P.S. Probably the only thing that really really get's on my goat about
the OSS movement, is GNU's insistance on ignoring man in preferance to
info.  AAAHHHHHH!!!!!  KMD.

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Andrae Muys              "I have no wish to recite ... stratagems, for they
<A HREF="mailto:andrae@humbug.org.au">andrae@humbug.org.au</A>     have all the same end in view, which is, to oblige
My stuff, Linux stuff        the enemy to make unnecessary marches in favor 
<A HREF="http://www.uq.edu.au/~cmamuys/">http://www.uq.edu.au/~cmamuys/</A>   of our own designs." - Fredrick the Great.

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
