<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Linux knows too much" -->
<!-- FromName="'Richard Russell'" -->
<!-- FromEmail="richard@yellowgoanna.com" -->
<!-- ToName="'David Lloyd','Andrew Galdes'" -->
<!-- ToEmail="dlloyd@microbits.com.au,AGaldes@elders.com.au" -->
<!-- Date="Wed, 2 Jul 2003 11:49:35 +0930" -->
<!-- Id="000601c34040$73c300b0$020120ac@skink" -->
<!-- Reference="000501c3403c$57607320$020120ac@skink" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Linux knows too much</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Russell &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  To  : David Lloyd &lt;<I><A HREF="mailto:dlloyd@microbits.com.au">dlloyd@microbits.com.au</A></I>&gt;<BR>        Andrew Galdes &lt;<I><A HREF="mailto:AGaldes@elders.com.au">AGaldes@elders.com.au</A></I>&gt;
  Date: Wed, 2 Jul 2003 11:49:35 +0930
</PRE>
<H1>RE: Linux knows too much</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; &gt;  1) The salt is generally small as far as computational power goes
&gt; 
&gt; As I understand, salt is usually stored with the hash. I 
&gt; forget the details, but I have a feeling that the first two 
&gt; characters of your password are the salt for the rest... 
&gt; Think about it -- if the salt wasn't stored somewhere, how 
&gt; could you use it to recreate the hash?
&gt; 
&gt; ie I think the hash that is stored is something like : 
&gt; 
&gt; Salt + hash(Plaintext + Salt)

<A HREF="http://tools.arlut.utexas.edu/gash2/doc/javadoc/md5/MD5Crypt.html">http://tools.arlut.utexas.edu/gash2/doc/javadoc/md5/MD5Crypt.html</A>

(a Java re-implementation of the Unix MD5 password hashing algorithm)

says:
----
public static final java.lang.String crypt(java.lang.String password,
                                           java.lang.String salt)

This method actually generates a OpenBSD/FreeBSD/Linux PAM compatible
md5-encoded password hash from a plaintext password and a salt.

The resulting string will be in the form '$1$&lt;salt&gt;$&lt;hashed mess&gt;
----
...

and that string looks just like my /etc/shadow password entries (note that
with md5 passwords, the salt is now about eight characters). Also, if you
read crypt(3), you'll see something similar, though this is with ye olde
style passwords (and two character salt), not md5 passwords...

&gt; I'm sure I learnt once what the advantage of this was, but I 
&gt; can't, for the life of me, figure out what it is now... This 
&gt; means one of three things -- I've forgotten it, I'm too thick 
&gt; to work it out, or (most likely, IMHO) I have got the above 
&gt; slightly wrong... :)

One advantage I do now remember is that if you have two passwords that are
identical, you will still end up with different hashes... Hence, you can, if
you want, use the same password for two users, but people casually browsing
the shadow file will never know that. Still, I have a feeling that there is
more to it than that. Perhaps the salt is used to pad out the plaintext
password, rather than using 0's to pad it with... Hmmm... Not sure.

rr

-- 
Richard Russell
Yellow Goanna P/L
m: +61 412 827 805
e: <A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>
w: <A HREF="http://www.yellowgoanna.com">http://www.yellowgoanna.com</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
