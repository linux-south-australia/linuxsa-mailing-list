<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ADSL Shaper" -->
<!-- FromName="'Ryan Verner'" -->
<!-- FromEmail="xfesty@computeraddictions.com.au" -->
<!-- ToName="'Matthew Moyle-Croft'," -->
<!-- ToEmail="mmc@mmc.com.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 8 Jul 2003 22:05:46 +0930" -->
<!-- Id="20030708123546.M75220@computeraddictions.com.au" -->
<!-- Reference="Pine.LNX.4.44.0307081804400.32723-100000@tsunami.mmc.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ADSL Shaper</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Ryan Verner &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  To  : Matthew Moyle-Croft &lt;<I><A HREF="mailto:mmc@mmc.com.au">mmc@mmc.com.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 8 Jul 2003 22:05:46 +0930
</PRE>
<H1>Re: ADSL Shaper</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Matthew,

&gt; <A HREF="http://mmc.com.au/pub/adslshape">http://mmc.com.au/pub/adslshape</A>

Few questions:

&gt; iptables -t mangle -A POSTROUTING -s 192.207.120.0/255.255.255.128 -j MARK
--set-mark 0x5

192.207.120/25 is your internal lan?

&gt; iptables -t mangle -A POSTROUTING -s 150.101.234.58 -p tcp -m tcp --sport 80
-j MARK --set-mark 0xf

Is that the static IP of your ADSL connection?  I'm doing stuff through PPPoE
(which makes me wonder if the shaping concept's going to be slightly
different, given PPPoE wierdness), I'm assuming I can knock out the -s line
and replace with -i ppp0?

&gt; # Set the following values to somewhat less than your actual download
&gt; # and uplink speed. In kilobits
&gt; DOWNLINK=512
&gt; UPLINK=128
&gt; DEV=eth1

Hmm.  Are the comments valid (seeing as I'm assuming you're on 512/128)?

In the case of PPPoE, I'm assuming DEV will be ppp0?

R

&gt; should be relatively self explanatory.  
&gt; 
&gt; It's main limitation is that it doesn't shape the incoming stuff - 
&gt; there's arguments for/against it.  I don't.
&gt; 
&gt; Any questions to the list as I'm fairly busy at the moment and 
&gt; others can learn.
&gt; 
&gt; -- 
&gt; Matthew
&gt; --
&gt; <A HREF="mailto:Matthew@Moyle-Croft.com">Matthew@Moyle-Croft.com</A>    | <A HREF="mailto:mmc@mmc.com.au">mmc@mmc.com.au</A>        |   
&gt;  <A HREF="mailto:mmc@206gti.net">mmc@206gti.net</A> <A HREF="http://www.Moyle-Croft.com">http://www.Moyle-Croft.com</A> | <A HREF="http://www.mmc.com.au">http://www.mmc.com.au</A> | 
&gt; <A HREF="http://206gti.net">http://206gti.net</A>
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject


--
Open WebMail Project (<A HREF="http://openwebmail.org">http://openwebmail.org</A>)

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
