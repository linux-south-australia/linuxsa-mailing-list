<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: pam_winbind.so" -->
<!-- FromName="'bryantac67@yahoo.com'" -->
<!-- FromEmail="bryantac67@yahoo.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 22 Jul 2003 13:47:57 -0700 (PDT)" -->
<!-- Id="20030722204757.76279.qmail@web41005.mail.yahoo.com" -->
<!-- Reference="20030722130708.88045.qmail@web41009.mail.yahoo.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: pam_winbind.so</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: bryantac67@yahoo.com &lt;<I><A HREF="mailto:bryantac67@yahoo.com">bryantac67@yahoo.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 22 Jul 2003 13:47:57 -0700 (PDT)
</PRE>
<H1>Re: pam_winbind.so</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I think I've gotten a step closer. The entry in pam
'account sufficient pam_winbind.so' performs a
getpwnam() on the username. For some reason, it
doesn't seem to be going out the PDC to do this. 

Is there a way to change this?

--- "<A HREF="mailto:bryantac67@yahoo.com">bryantac67@yahoo.com</A>" &lt;<A HREF="mailto:bryantac67@yahoo.com">bryantac67@yahoo.com</A>&gt;
wrote:
&gt; I am trying to get authentication working using
&gt; winbind.  I'm playing with the login pam module and
&gt; I've made a little progress. The problem is now,
&gt; though, when someone tries to login, the screen just
&gt; resets itself. Nothing happens. Prompts for username
&gt; and password and then it blinks back to the
&gt; beginning.
&gt; I looked in the logs and this is what I got:
&gt; ________________________________
&gt; Jul 18 16:16:55 pam_winbind[20821]: Verify user
&gt; `xxxx+xxxx'
&gt; Jul 18 16:16:55 pam_winbind[20821]: user 'xxxx+xxxx'
&gt; granted acces
&gt; Jul 18 16:16:55 pam_winbind[20821]: user `xxxx+xxxx'
&gt; not found
&gt; Jul 18 16:16:55 login[20821]: pam_unix2:
&gt; pam_sm_acct_mgmt() called
&gt; Jul 18 16:16:58 login[20821]: pam_unix2: pam_ldap
&gt; returned 10
&gt; Jul 18 16:16:58 login[20821]: User not known to the
&gt; underlying authentication module
&gt; _________________________________
&gt; 
&gt; It is obviously authenticating, but then it dies and
&gt; says user not found. Here is my login pam:
&gt; ____________________________________
&gt; auth required pam_securetty.so debug
&gt; auth sufficient pam_winbind.so debug
&gt; auth requisite pam_unix2.so debug,nullok set_secrpc
&gt; auth required pam_nologin.so debug
&gt; auth required pam_homecheck.so debug
&gt; auth required pam_env.so debug
&gt; auth required pam_mail.so debug
&gt; account sufficient pam_winbind.so debug
&gt; account required pam_unix2.so debug
&gt; password required pam_pwcheck.so debug,nullok
&gt; password required pam_unix2.so debug,nullok
&gt; use_first_pass use\
&gt; _authtok
&gt; session required pam_unix2.so debug,none # debug or
&gt; trace
&gt; session required pam_limits.so debug
&gt; _____________________________________
&gt; 
&gt; NOTE: I think that the account module here is
&gt; failing
&gt; for pam_winbind...if I comment out the account
&gt; pam_unix2 above, the entries in the log for
&gt; pam_unix2
&gt; disappears. So for some reason winbind is failing
&gt; here, but I don't know why. Is login tied to
&gt; something
&gt; else that I need to change?
&gt; 
&gt; Thanks.
&gt; Aaron
&gt; 
&gt; 
&gt; 
&gt; __________________________________
&gt; Do you Yahoo!?
&gt; Yahoo! SiteBuilder - Free, easy-to-use web site
&gt; design software
&gt; <A HREF="http://sitebuilder.yahoo.com">http://sitebuilder.yahoo.com</A>
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC:
&gt; #linuxsa on irc.freenode.net
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with
&gt; "unsubscribe" as the subject
&gt; 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
<A HREF="http://sitebuilder.yahoo.com">http://sitebuilder.yahoo.com</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
