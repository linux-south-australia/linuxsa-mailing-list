<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ADSL Shaper" -->
<!-- FromName="'Matthew Moyle-Croft'" -->
<!-- FromEmail="mmc@mmc.com.au" -->
<!-- ToName="'Ryan Verner'" -->
<!-- ToEmail="xfesty@computeraddictions.com.au" -->
<!-- Date="Tue, 08 Jul 2003 23:23:36 +0930" -->
<!-- Id="3F0ACCE0.5030108@mmc.com.au" -->
<!-- Reference="20030708123546.M75220@computeraddictions.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ADSL Shaper</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Moyle-Croft &lt;<I><A HREF="mailto:mmc@mmc.com.au">mmc@mmc.com.au</A></I>&gt;
  To  : Ryan Verner &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  Date: Tue, 08 Jul 2003 23:23:36 +0930
</PRE>
<H1>Re: ADSL Shaper</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Hmm.  Playing with this now; I can't get much to happen; the main goal is to
&gt; keep my ssh session nice and perky even if I'm downloading via http/ftp.

These rules help - but my main problem is outgoing web traffic NOT incoming.

&gt; Downloading files by both ftp/http both make ssh laggy as hell (5-6 seconds
&gt; before any text pops up), and playing around with minimising values in those
&gt; scripts (i.e. downstream/upstream quartered), it doesn't affect the download
&gt; speed, as it should (as far as I can see).

Indeed - they can't really.  Only way to affect d/l speed really is to 
have a packeteer or foursticks box to tweak tcp windows etc assuming 
it's tcp traffic.  Since you don't control the other end ...

What you CAN do is modify the scripts and do the following:

- assume you have a linux box with 2 ethernet (eth0, eth1)
- eth1 is connected to internet
- eth0 is connected to local lan

Add a separate set of queues and filters for eth0 and chomp THEIR 
computers down (look at wondershaper for the other direction stuff).

See if you can make it appear to THEIR tcp/ip stacks as though they 
don't have 512k.  It might mean you chuck good packets but give it a go.

ie. set yourself as the "5" and them as "15" etc.  mess with the values 
to see how it works.

&gt; (I share a house with other people...  they like downloading lots, and lots,
&gt; and lots.  Trying to do work stuff via ssh is virtually impossible :( - hence
&gt; why I want to packet shape, and was partially my drive to get DSL in the first
&gt; place).

get different people.  only way really.  or get their own link.

&gt; So things are somewhat different.

See above.  If you've still got issues then either, email me and I'll 
help you with the suggestion above or just disconnect their computers 
from the switch when you're wanting to work ....

&gt; 
&gt; Any clues (I'll keep playing...)?
&gt; 
&gt; R
&gt; 
&gt; 
&gt;&gt;Maybe better to mark based on the incoming interface (-i eth0 for 
&gt;&gt;example)
&gt;&gt;-- 
&gt;&gt;Matthew
&gt;&gt;--
&gt;&gt;<A HREF="mailto:Matthew@Moyle-Croft.com">Matthew@Moyle-Croft.com</A>    | <A HREF="mailto:mmc@mmc.com.au">mmc@mmc.com.au</A>        |   
&gt;&gt; <A HREF="mailto:mmc@206gti.net">mmc@206gti.net</A> <A HREF="http://www.Moyle-Croft.com">http://www.Moyle-Croft.com</A> | <A HREF="http://www.mmc.com.au">http://www.mmc.com.au</A> | 
&gt;&gt;<A HREF="http://206gti.net">http://206gti.net</A>
&gt; 
&gt; 
&gt; 
&gt; --
&gt; Open WebMail Project (<A HREF="http://openwebmail.org">http://openwebmail.org</A>)


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
