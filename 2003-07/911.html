<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Firewall rejecting local network" -->
<!-- FromName="'Brian Marr'" -->
<!-- FromEmail="cabernet@ihug.com.au" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 23 Jul 2003 11:12:48 +0930" -->
<!-- Id="20030723014248.GA3612@Gringo" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Firewall rejecting local network</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Brian Marr &lt;<I><A HREF="mailto:cabernet@ihug.com.au">cabernet@ihug.com.au</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 23 Jul 2003 11:12:48 +0930
</PRE>
<H1>Firewall rejecting local network</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
This implementation of Shorewall (firewall) on Knoppix is mostly working. I can dial in,
masquerading appears to be ok, Samba is working, and cups is printing
(printer attached to the firewall box). SSh is working as is ping. 

In the first part of this log you can see net2all is working ok dropping
unauthorized packets from the net. But the log also shows packets from  my
network being dropped. I can't seem to solve this.
Can anyone point me in the right direction ?
Brian Marr



Jul 23 11:17:54 Poncho kernel: Shorewall:net2all:DROP:IN=ppp0 OUT= MAC=
SRC=202.29.62.202 DST=203.220.225.233 LEN=48 TOS=0x00 PREC=0x00 TTL=111
ID=57723 DF PROTO=TCP SPT=35070 DPT=80 WINDOW=16384 RES=0x00 SYN URGP=0
Jul 23 11:17:57 Poncho kernel: Shorewall:net2all:DROP:IN=ppp0 OUT= MAC=
SRC=202.29.62.202 DST=203.220.225.233 LEN=48 TOS=0x00 PREC=0x00 TTL=111
ID=57728 DF PROTO=TCP SPT=35070 DPT=80 WINDOW=16384 RES=0x00 SYN URGP=0
Jul 23 11:18:03 Poncho kernel: Shorewall:net2all:DROP:IN=ppp0 OUT= MAC=
SRC=202.29.62.202 DST=203.220.225.233 LEN=48 TOS=0x00 PREC=0x00 TTL=111
ID=57733 DF PROTO=TCP SPT=35070 DPT=80 WINDOW=16384 RES=0x00 SYN URGP=0
Jul 23 11:22:40 Poncho kernel: Shorewall:all2all:REJECT:IN= OUT=eth0
SRC=192.168.50.3 DST=192.168.50.1 LEN=28 TOS=0x00 PREC=0x00 TTL=64 ID=21032
PROTO=ICMP TYPE=0 CODE=0 ID=35598 SEQ=0
Jul 23 11:22:42 Poncho kernel: Shorewall:all2all:REJECT:IN= OUT=eth0
SRC=192.168.50.3 DST=192.168.50.1 LEN=28 TOS=0x00 PREC=0x00 TTL=64 ID=21034
PROTO=ICMP TYPE=0 CODE=0 ID=35598 SEQ=0
Jul 23 11:22:43 Poncho kernel: Shorewall:all2all:REJECT:IN= OUT=eth0
SRC=192.168.50.3 DST=192.168.50.1 LEN=28 TOS=0x00 PREC=0x00 TTL=64 ID=21035
PROTO=ICMP TYPE=0 CODE=0 ID=35598 SEQ=0
Jul 23 11:23:03 Poncho kernel: Shorewall:all2all:REJECT:IN=eth0 OUT=
MAC=00:02:44:71:03:40:00:02:44:19:8b:50:08:00 SRC=192.168.50.1
DST=192.168.50.3 LEN=60 TOS=0x08 PREC=0x00 TTL=64 ID=39721 DF PROTO=TCP
SPT=33165 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0
Jul 23 11:23:03 Poncho kernel: Shorewall:all2all:REJECT:IN=eth0 OUT=
MAC=00:02:44:71:03:40:00:02:44:19:8b:50:08:00 SRC=192.168.50.1
DST=192.168.50.3 LEN=60 TOS=0x10 PREC=0x00 TTL=64 ID=18765 DF PROTO=TCP
SPT=33166 DPT=21 WINDOW=5840 RES=0x00 SYN URGP=0
Jul 23 11:23:03 Poncho kernel: Shorewall:all2all:REJECT:IN=eth0 OUT=
MAC=00:02:44:71:03:40:00:02:44:19:8b:50:08:00 SRC=192.168.50.1
DST=192.168.50.3 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=36115 DF PROTO=TCP
SPT=33168 DPT=2049 WINDOW=5840 RES=0x00 SYN URGP=0

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
