<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: PHP question" -->
<!-- FromName="'Andrew Halliday'" -->
<!-- FromEmail="andrew@recalldesign.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au,james@adam.com.au" -->
<!-- Date="Fri, 22 Jun 2001 15:27:02 +0930" -->
<!-- Id="08b501c0fae0$28473ef0$df5d0fcb@handy" -->
<!-- Reference="993178015.3b32b19fec42e@thunder.adam.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: PHP question</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew Halliday &lt;<I><A HREF="mailto:andrew@recalldesign.com">andrew@recalldesign.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:james@adam.com.au">james@adam.com.au</A></I>&gt;
  Date: Fri, 22 Jun 2001 15:27:02 +0930
</PRE>
<H1>Re: PHP question</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Something like this general problem has happened to me before.  PHP gets
confused when attempting to expand two variables right next to each other.
If you put spaces between them it would have worked fine.  But of course,
you dont want spaces in a URL, so the way I get around it is a lot less
convaluted than other methods, and that is to make a base string and
concatenate them using the concatenate operator '.' eg:

$sql="INSERT INTO x (whatever,whatever) VALUES
(".$header.$whatever.",".$header.$whatever.");";

That works fine.  As to why this happens im not sure.  Maybe PHP parses
variables from the right to the left, and a resolved variable, when not
separated becomes concatenated with the variable name of the next variable
to make a new variable name that it doesnt recognize ... ? !

AndrewH

----- Original Message -----
From: "James Mclean" &lt;<A HREF="mailto:james@adam.com.au">james@adam.com.au</A>&gt;
To: &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
Sent: Friday, June 22, 2001 12:16 PM
Subject: PHP question


&gt;
&gt;
&gt; All,
&gt;
&gt; Does PHP only parse variables once? Reason I ask, see the script below...
&gt;
&gt; &lt;?
&gt;     if($save) {
&gt;         $i=0;
&gt;         while($i&lt;$cols) {
&gt;
&gt;             $sql = "INSERT INTO latest (heading,text) VALUES
&gt; ('\$header$i','\$text$i')";
&gt;             print"$sql&lt;br&gt;";
&gt;             //$qu = mysql_query($sql) or die(mysql_error());
&gt;         $i++;
&gt;         }
&gt;
&gt;             if(!mysql_error()) {
&gt;                 print"&lt;br&gt;Latest News updated&lt;br&gt;";
&gt;             } else {
&gt;                 print" Dead. MySQL didnt like something";
&gt;             }
&gt;     }
&gt; ?&gt;
&gt;
&gt; In the INSERT statement, it constructs the variables, composed of the $i
for
&gt; the interation, and the $header just as the name on the statement to be
&gt; inserted. Variables are passed into the script with this generated URL...
&gt;
&gt; XXXXX.php?
&gt;
header0=head+1&text0=body+2&header1=head+2+&text1=body+2&header2=head+3&text
2=bo
&gt; dy+3&cols=3&save=Save+Paragraphs
&gt;
&gt; Now, the mysql_query is commented on purpose, and the $sql is echoed to
the
&gt; screen, but it is not replacing the variables like it should.
&gt; Q: Does PHP only parse variables Once??
&gt; Q: If So, how do you get it to parse them more than once? I thought it did
that
&gt; by default, perhaps not...
&gt;
&gt; This is the SQL output, generated by the parser, with 3 loops.
&gt;
&gt; INSERT INTO latest (heading,text) VALUES ('$header0','$text0')
&gt; INSERT INTO latest (heading,text) VALUES ('$header1','$text1')
&gt; INSERT INTO latest (heading,text) VALUES ('$header2','$text2')
&gt;
&gt; Should PHP then parse the $header0 and $text0??
&gt;
&gt; Cheers
&gt;
&gt; James Mclean
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
