<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: software RAID versus hardware RAID" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="'Greg Lehey'" -->
<!-- ToEmail="grog@lemis.com" -->
<!-- Date="Tue, 5 Jun 2001 12:08:16 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.33.0106051155470.16903-100000@localhost.localdomain" -->
<!-- Reference="20010605112759.J95379@wantadilla.lemis.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: software RAID versus hardware RAID</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : Greg Lehey &lt;<I><A HREF="mailto:grog@lemis.com">grog@lemis.com</A></I>&gt;
  Date: Tue, 5 Jun 2001 12:08:16 +0930 (CST)
</PRE>
<H1>Re: software RAID versus hardware RAID</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 5 Jun 2001, Greg Lehey wrote:

&gt; On Monday,  4 June 2001 at 12:00:34 +0930, Dan Shearer wrote:
&gt; &gt; On Mon, 4 Jun 2001, Mike O'Connor wrote:
&gt; &gt;
&gt; &gt;&gt; Hi All
&gt; &gt;&gt;
&gt; &gt;&gt; I would not use software raid, because Linux just does not have enough
&gt; &gt;&gt; tools, there is not an easy way to remove hard drives and add new ones in.
&gt; &gt;&gt;
&gt; &gt;&gt; It is not slow compared to good hardware, but it does load the CPU
&gt; &gt;&gt; unacceptable and this IS true because I had done extensive testing. If you
&gt; &gt;&gt; want the machine doing the software raid to do real work, forget about it.
&gt; &gt;
&gt; &gt; It would be good to get some objective measurements on this. We're running
&gt; &gt; software RAID on a number of Linux systems without performance
&gt; &gt; problems. What measurements would make sense? I imagine the following:
&gt; &gt;
&gt; &gt;   - an indication of raw hardware speed
&gt;
&gt; This is very misleading.
&gt;
&gt; &gt;   - performance doing some large copy and write ops
&gt;
&gt; The real issue here is that large copy and write ops are not typical
&gt; usage of a file system, especially if you're doing only a single
&gt; thread.  You end up with something approaching sequential transfers,
&gt; which on modern IDE disks can be up to 35 MB/s.  In real life, you'll
&gt; probably not see more than a tenth of this value.

Well, horses for courses, and all that.. It depends very much on what you're
doing. People should determine what usage patterns they have, and then build
a system around their needs. RAID exists for both performance increases (eg.
striping), or preventing downtime due to hdd failure (eg. mirroring or
parity), or both (eg striping with parity), and so on..

&gt;
&gt; &gt; If you're using IDE drives have you used hdparm? The speedup factor
&gt; &gt; can be huge.
&gt;
&gt; I don't really understand the use of hdparm.  I played with it a few
&gt; months back when testing a Linux box, but it seems to me that the
&gt; drivers should DTRT without it.  In particular, you should be running
&gt; in the fastest possible DMA mode by default.

umm... biggest difference is enabling DMA - you really, really, want this
enabled. It usually is, in the more recent distros.. there's an auto
optimise option you can pass to the kernel frmo your boot manager, or set on
by default in the kernel.. but turning on 32bit transfers is a good move
too. Turning the block reads up to the maximum is a good move, since the
harddrive has to read that much anyway, really.. may as well get it into the
disk cache at the same time. If you're into performance optimisation, fiddle
with the filesystem read-ahead; if you've got loads of users, lots of small
accesses, keep it small; if you've got a single user, do lots of larger
files, bump it up, etc..

&gt;
&gt; &gt; If you're not using Intel-type systems with high clock rates then
&gt; &gt; you might be right. Greg, how does Vinum do as far as overhead goes
&gt; &gt; on !Intel hardware?
&gt;
&gt; The only other platform on which it runs is Alpha.  I don't have any
&gt; figures on that platform, but I doubt it would be very different from
&gt; Intel.

Alpha's have behaved very differently to Intel, in my experience.
Generally very slow I/O compared to pentium-class PCI-based machines.
Although that might just be Tru64/DEC UNIX


Toby

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
