<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: pppd on two serial ports" -->
<!-- FromName="'Mike O'Connor'" -->
<!-- FromEmail="mike@PINEVIEW.NET" -->
<!-- ToName="" -->
<!-- ToEmail="Norm@newpointtech.com" -->
<!-- Date="Fri, 1 Jun 2001 09:49:27 +0930" -->
<!-- Id="025901c0ea30$863a6e80$21ba26cb@themaster" -->
<!-- Reference="B172085D2860D411ADFB00105A6552DC34BB33@winadmin" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: pppd on two serial ports</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mike O &lt;<I><A HREF="mailto:mike@PINEVIEW.NET">mike@PINEVIEW.NET</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:Norm@newpointtech.com">Norm@newpointtech.com</A></I>&gt;
  Date: Fri, 1 Jun 2001 09:49:27 +0930
</PRE>
<H1>Re: pppd on two serial ports</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
pppd on two serial portsHi Norm

Please remember next time not to send html email to the list.

Now on to your question

This would only be possible if you bios allowed you to set both serial port
to the same irq, which I have never seen. I would say that it will not be
possible to get the extra port working, on this motherboard.

If its possible to set the irq to something else I would do so and use
'setserial' to adjust the ports irq (in software).

Setserial would also be used to set both the irq to the same if you were
able to set the bios to configure the irqs.

Cheers
    Mike O'Connor



----- Original Message -----
From: <A HREF="mailto:Norm@newpointtech.com">Norm@newpointtech.com</A>
To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Sent: Friday, June 01, 2001 4:09 AM
Subject: pppd on two serial ports


Hello List.
Straight to the point.
I'm required to run two ppp daemons on two serial ports. The OEM x86 box I'm
using (RH 2.2.12) reserves IRQ3 for custom IO hardware. Consequently only
standard ttyS0 and ttyS2 are available on the motherboard.
Using ttyS0/ttyS2 (sharing IRQ4) allows me to run a single pppd on either
port and establish a connection. Running pppd on both ports simultaneously
allows no connection to either port.
Observing dmesg I see "Serial driver version 4.27 with MANY_PORTS MULTIPORT
SHARE_IRQ enabled"
I'd suspect that the serial driver would know how to share the motherboard
ports based on this message. Apparently Wrong.
I'm in the process of acquiring a fully configurable 16550-type port card
which should allow me to use any COM port configuration I can imagine (SIIG
Inc.).
I've also created a rc.serial script which apparently succesfully registers
an alternate irq for ttyS1 (using "setserial /dev/ttyS1 irq 7" in the script
and "setserial /dev/ttyS*" to confirm from the command line). However, with
the legacy port card I've been trying to use at IRQ7 for that port I have
been unable to get a pppd to work under any scenario. (pppd on ttyS0 of the
same card works fine)
I'd appreciate any insights or hints that anyone may have to offer. Are
there any tricks to getting multiple serial pppds to play assuming my
hardware is operating as configured?
Thanks in advance.
Norm

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
