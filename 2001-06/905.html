<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: for loop (bash) with spaces in filenames" -->
<!-- FromName="'Andrew McDonnell'" -->
<!-- FromEmail="andymc73@yahoo.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 26 Jun 2001 12:29:45 +1000 (EST)" -->
<!-- Id="20010626022945.78018.qmail@web11705.mail.yahoo.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: for loop (bash) with spaces in filenames</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew McDonnell &lt;<I><A HREF="mailto:andymc73@yahoo.com.au">andymc73@yahoo.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 26 Jun 2001 12:29:45 +1000 (EST)
</PRE>
<H1>Re: for loop (bash) with spaces in filenames</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
n Mon, 25 Jun 2001, Peter Freeman wrote:

&gt; for f in `cat /pathtolist/mp3.txt` do cp "$f"
/newdirectory done
&gt;
&gt; Can anyone see the glaring holes in the syntax?  Or
is there a better
&gt; way to do it?

Spaces do cause a problem somewhat - the for statement
will split the cat
output by space not by carriage return.

Try this - you may need to use something other than
"_" (e.g. "@" should work I think) if any of the
filenames have an underscore:

for f in `cat /pathtolist/mp3.txt | tr ' ' '_'` ; do
cp "`echo ${f} | sed 's/_/ /g'`" /newdirectory;  done

"tr" in this case replaces all " " with "_" and sed
changes the "_" back to " " to
do the copy. The reason the cp command works with ``
in the loop body is because
there is is called one at a time instead of all at
once (I am sure someone with a more
intimate knowledge of the inner workings of the shell
could explain this better)

Andrew

PS anyone know how to stop the ?ISO8859 thingy yahoo
puts next to my name in the list digest header?

=====
-----------------------
www.comptroubsa.com
www.andrewmcdonnell.net

_____________________________________________________________________________
<A HREF="http://messenger.yahoo.com.au">http://messenger.yahoo.com.au</A> - Yahoo! Messenger
- Voice chat, mail alerts, stock quotes and favourite news and lots more!

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
