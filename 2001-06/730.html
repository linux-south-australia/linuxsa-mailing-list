<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Toshiba slimline laptop CD-reader choice" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="'Alan Kennington'" -->
<!-- ToEmail="akenning@topology.org" -->
<!-- Date="Fri, 22 Jun 2001 14:32:29 +0930" -->
<!-- Id="3B32D165.402F29EE@sa.pracom.com.au" -->
<!-- Reference="20010621153638.A14044@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Toshiba slimline laptop CD-reader choice</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@topology.org">akenning@topology.org</A></I>&gt;
  Date: Fri, 22 Jun 2001 14:32:29 +0930
</PRE>
<H1>Re: Toshiba slimline laptop CD-reader choice</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Alan Kennington wrote:
&gt; 
&gt; On Fri, Jun 22, 2001 at 09:58:33AM +0930, Anthony Symons wrote:
&gt; &gt; Alan Kennington wrote:
&gt; &gt; &gt; So I looked in on minix file system <A HREF="file:">file:</A>
&gt; &gt; &gt;
&gt; &gt; &gt; --------------------------------------------------
&gt; &gt; &gt; emu soft/suse# file net-mod
&gt; &gt; &gt; net-mod: Minix filesystem, 30 char names
&gt; &gt; &gt;
&gt; &gt; &gt; emu soft/suse# mount ./net-mod ./net -t minix -o loop
&gt; &gt;
&gt; &gt; &gt; And then I thought - now I'll just collapse this minix
&gt; &gt; &gt; file system that I've mounted and modified back into
&gt; &gt; &gt; a file. But... how on earth do you turn a minix file system
&gt; &gt; &gt; into a file?
&gt; &gt;
&gt; &gt; Correct me if im missing something, but if you mount the file on a
&gt; &gt; loopback, and then write to it, dont you just unmount it, and your done?
&gt; &gt;
&gt; &gt; Ant
&gt; 
&gt; Since I "knew" that that was impossible, I didn't even try it.
&gt; Now I've tried it. And for some explicable reason, it works!
&gt; Life is wierder than I thought.
&gt; Thanks for that.
&gt; 
&gt; Strangely, though, the "frozen" file system file still has the
&gt; same modification-date and size.
&gt; I had thought that the files system was copied into RAM or something,
&gt; and only modified there.
&gt; It seems now like all of the kernel buffering layer is
&gt; where the read/writing occurs, and that this must
&gt; actually be written through to the real file, just like a
&gt; normal file system.

Yep. Well, it is a normal file system, just in a file on another file
system.
 
&gt; Now I can stick the new module onto a modules-disk for the
&gt; boot disk to read in.
&gt; 
&gt; On a related topic, do you happen to know how to _create_ a
&gt; minix file system as a file?
&gt; I can see how to use mkfs.minix to create a minix file
&gt; system in a disk partition and then copy it to a file with "dd".

[<A HREF="mailto:root@ant">root@ant</A> ant]# dd if=/dev/zero of=minix.img count=2048
2048+0 records in
2048+0 records out
[<A HREF="mailto:root@ant">root@ant</A> ant]# mkfs.minix minix.img 
352 inodes
1024 blocks
Firstdatazone=15 (15)
Zonesize=1024
Maxsize=268966912

[<A HREF="mailto:root@ant">root@ant</A> ant]# mkdir test
[<A HREF="mailto:root@ant">root@ant</A> ant]# mount -o loop minix.img test
[<A HREF="mailto:root@ant">root@ant</A> ant]# df
Filesystem           1k-blocks      Used Available Use% Mounted on
/dev/hda3              9187724   7582380   1144280  87% /
/dev/hda5              8465968   8252112    213856  97% /mnt/data
/dev/hda1              2096160   1983840    112320  95% /mnt/nt
/home/ant/minix.img       1009         1      1008   0% /home/ant/test
 
Simple as that!

Ant
-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
