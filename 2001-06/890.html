<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: RAID Array Problems" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="'Andrew Reid'" -->
<!-- ToEmail="andrew.reid@plug.cx" -->
<!-- Date="Tue, 26 Jun 2001 10:34:14 +0930" -->
<!-- Id="3B37DF8E.3A056CDA@sa.pracom.com.au" -->
<!-- Reference="993515973.1057.1.camel@percible.alfred.cx" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: RAID Array Problems</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : Andrew Reid &lt;<I><A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A></I>&gt;
  Date: Tue, 26 Jun 2001 10:34:14 +0930
</PRE>
<H1>Re: RAID Array Problems</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Just out of curiosity, what sort of raid was it? We got hit by the same
thing here (you must be in the same area!), and we had 2 servers that
hadn't come up this morning, but an e2fsk and a few mins and all was
sweet (mylex hardware raid dac960 and accelraid 352). The array was OK,
but there was minor damage to the superblock due to not being syncd
and/or unmounted properly. Also please not that I dont mean to imply
that your raid array is dead!

Ant

Andrew Reid wrote:
&gt; 
&gt; Hi All, I've got a rather urgent and pressing problem that's making my
&gt; ears hurt :-(
&gt; 
&gt; Last night, some bright spark decided to break something at the main
&gt; switchboard causing AGL to have to come out and kill the power for about
&gt; three hours. The UPS lasted for 2 of them, but it died. We couldn't even
&gt; see in the server room to plug a monitor in and type 'halt'.
&gt; 
&gt; Anyway, all but one of the servers have recovered properly. The server
&gt; that hasn't is the main mail server (My personal FreeBSD Mail server is
&gt; still running fine -- hence this email).
&gt; 
&gt; It's a problem regarding the RAID array. /dev/md0 is a RAID-1 Array for
&gt; the /home partition where all the mail is stored.
&gt; 
&gt; The rc script that starts the RAID software and mounts the partition
&gt; failed. More digging revealed that something had more seriously shit
&gt; itself.
&gt; 
&gt; [<A HREF="mailto:root@mail">root@mail</A> /]# raidstart --all
&gt; /dev/md0: Invalid argument
&gt; 
&gt; I assumed that mounting would fail, but I tried anyway:
&gt; 
&gt; [<A HREF="mailto:root@mail">root@mail</A> /]# mount /dev/md0 /home
&gt; /dev/md0: Device not configured
&gt; mount: you must specify the filesystem type
&gt; 
&gt; 'dmesg' revealed something that looked rather dubious:
&gt; 
&gt; (read) sdb1's sb offset: 8891264 [events: 6a4e2b50]
&gt; md: invalid raid superblock magic on sdb1
&gt; md: sdb1 has invalid sb, not importing!
&gt; could not import sdb1!
&gt; autostart sdb1 failed!
&gt; 
&gt; /proc/mdstat didn't reveal much either:
&gt; 
&gt; [<A HREF="mailto:root@mail">root@mail</A> /]# cat /proc/mdstat
&gt; Personalities : [raid1]
&gt; read_ahead not set
&gt; unused devices: &lt;none&gt;
&gt; 
&gt; &lt;weep, weep&gt; Please tell me that my RAID Array is OK and that everything
&gt; will be happy happy. Please! Anyone?
&gt; 
&gt; Desperately yours,
&gt; 
&gt;    - andrew
&gt; 
&gt; --
&gt; void signature () {
&gt;         cout &lt;&lt; "Andrew Reid -- <A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A>" &lt;&lt; endl ;
&gt;         cout &lt;&lt; "Cell: +61 401 946 813" &lt;&lt; endl;
&gt;         cout &lt;&lt; "Quidquid latine dictum sit, altum viditur" &lt;&lt; endl;
&gt; }
&gt; 
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
