<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Runing two copies of Apache" -->
<!-- FromName="'David Lloyd'" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="'Wayne Simes'" -->
<!-- ToEmail="wlsimes@tell.net.au" -->
<!-- Date="Sun, 03 Jun 2001 22:24:06 +0930" -->
<!-- Id="3B1A336E.499E672F@rebel.net.au" -->
<!-- Reference="001101c0ec1d$52f70120$6401a8c0@penguin.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Runing two copies of Apache</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : Wayne Simes &lt;<I><A HREF="mailto:wlsimes@tell.net.au">wlsimes@tell.net.au</A></I>&gt;
  Date: Sun, 03 Jun 2001 22:24:06 +0930
</PRE>
<H1>Re: Runing two copies of Apache</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
If you look at /etc/rc.d/init.d/httpd it uses a function call "daemon"
to start HTTPD. This is contained in /etc/rc.d/init.d/functions.

It has a line that has a comment:

# See if it's already running. Look *only* at the pid file.

I suspect that may be causing you trouble, as it just returns and you
may see the (probably red) fail/not ok information. Given that you say
you don't see any apache/httpd errors this is probably the cause as I
don't see any reason why this script would write to any log files.

You could try writing your own httpd script. It won't be as nice, but
they're not that difficult...

Basics:

#! /bin/bash
# chkconfig: 235 85 15
# descriptionn: A Starting Script

case $1 in

start)

# insert script lines for starting the process

;;

stop)

# insert script lines for stopping the process

;;

esac

Then do:

# chkconfig add myscript

And you can use chkconfig to manage this script (man chkconfig, that
will tell you about the stuff at the top starting with chkconfig: too).

You might try to look at /usr/share/doc/sysvinit-[lots of version
numbers] for the type of script I'm describing.

No doubt one of the RHCE's may know a way to circumvent the check that
appears to be occuring too...

DSL

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
