<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="spaces in filenames" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 20 Jun 2001 10:28:52 +0930" -->
<!-- Id="3B2FF54C.3029CF38@sa.pracom.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: spaces in filenames</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 20 Jun 2001 10:28:52 +0930
</PRE>
<H1>spaces in filenames</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

I have recently come across a problem with bash scripts where bash fails
to recognise escapes or quotes in filenames.

eg:

[<A HREF="mailto:ant@flanders">ant@flanders</A> temp]$ ls -al
total 744080
drwxr-xr-x   2 nobody   nobody       4096 Jun 20 10:03 .
drwxr-xr-x   5 nobody   nobody       4096 Jun 20 09:45 ..
-rwxr--r--   1 nobody   nobody   63226508 Jun 20 09:52 01 - Track  1.wav
-rwxr--r--   1 nobody   nobody   46118060 Jun 20 09:53 02 - Track  2.wav
-rwxr--r--   1 nobody   nobody   38250620 Jun 20 09:54 03 - Track  3.wav
-rwxr--r--   1 nobody   nobody   56523308 Jun 20 09:55 04 - Track  4.wav
-rwxr--r--   1 nobody   nobody   46691948 Jun 20 09:56 05 - Track  5.wav
-rwxr--r--   1 nobody   nobody   53148188 Jun 20 09:57 06 - Track  6.wav
-rwxr--r--   1 nobody   nobody   38619884 Jun 20 09:57 07 - Track  7.wav
-rwxr--r--   1 nobody   nobody   58698908 Jun 20 09:58 08 - Track  8.wav
-rwxr--r--   1 nobody   nobody   43667276 Jun 20 09:59 09 - Track  9.wav
-rwxr--r--   1 nobody   nobody   41804492 Jun 20 10:00 10 - Track 10.wav
-rwxr--r--   1 nobody   nobody   58230860 Jun 20 10:00 11 - Track 11.wav
-rwxr--r--   1 nobody   nobody   38610476 Jun 20 10:01 12 - Track 12.wav
-rwxr--r--   1 nobody   nobody   50175260 Jun 20 10:02 13 - Track 13.wav
-rwxr--r--   1 nobody   nobody   46546124 Jun 20 10:02 14 - Track 14.wav
-rwxr--r--   1 nobody   nobody   44205884 Jun 20 10:03 15 - Track 15.wav
-rwxr--r--   1 nobody   nobody   36540716 Jun 20 10:03 16 - Track 16.wav
[<A HREF="mailto:ant@flanders">ant@flanders</A> temp]$ burn -audio *
/usr/local/bin/cdrecord: No such file or directory. No read access for
'01'.

So, I figured that I could get ls to escape the spaces or quote the
files and use that to generate the filelist, but:

[<A HREF="mailto:ant@flanders">ant@flanders</A> temp]$ ls --quoting-style=escape
01\ -\ Track\ \ 1.wav  04\ -\ Track\ \ 4.wav  07\ -\ Track\ \ 7.wav  10\
-\ Track\ 10.wav  13\ -\ Track\ 13.wav  16\ -\ Track\ 16.wav
02\ -\ Track\ \ 2.wav  05\ -\ Track\ \ 5.wav  08\ -\ Track\ \ 8.wav  11\
-\ Track\ 11.wav  14\ -\ Track\ 14.wav
03\ -\ Track\ \ 3.wav  06\ -\ Track\ \ 6.wav  09\ -\ Track\ \ 9.wav  12\
-\ Track\ 12.wav  15\ -\ Track\ 15.wav
[<A HREF="mailto:ant@flanders">ant@flanders</A> temp]$ burn -audio `ls --quoting-style=escape`
/usr/local/bin/cdrecord: No such file or directory. No read access for
'01\'.

So, it ignores the escape and still breaks on the space. Same goes for
quoted output from ls.

I have also noticed the same problem when using a for loop to step over
files from an ls listing that have spaces in them.

OS is RH6.1 with kernel 2.4.5 and GNU bash, version 1.14.7(1)

Any ideas?

Ant

-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
