<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Problem with lpd on my system" -->
<!-- FromName="mtippett" -->
<!-- FromEmail="mtippett@linuxsa.org.au" -->
<!-- ToName="" -->
<!-- ToEmail="bmoffatt@picknowl.com.au" -->
<!-- Date="Mon, 6 Apr 1998 01:34:13 +0930 (CST)" -->
<!-- Id="199804051604.BAA02530@tne.net.au" -->
<!-- Reference="98040515243000.00194@sneezy" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Problem with lpd on my system</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: mtippett &lt;<I><A HREF="mailto:mtippett@linuxsa.org.au">mtippett@linuxsa.org.au</A></I>&gt;
  To  : <A HREF="mailto:bmoffatt@picknowl.com.au">bmoffatt@picknowl.com.au</A>
  Date: Mon, 6 Apr 1998 01:34:13 +0930 (CST)
</PRE>
<H1>Re: Problem with lpd on my system</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; 
&gt; Fellow Linuxsa-ers,
&gt; 
&gt; I have a problem with my linux 2.0.33 Slackware 3.4 system which you may be able
&gt; to help me with,

Not being a slackware person i cannot comment on Slackware's particular setup.


&gt; I start lpd on boot-up. I cannot print to any of the defined queues unless I
&gt; kill the running lpd process, then restart lpd as root. Any ideas where I might
&gt; begin to look?

Is the job being queued? (check with lpq)

Try starting lpd with the log option. (lpd -l) You might need
to modify a startup script to get lpd to start with the options.
This option only works for network requests (but depending on your
config this might be where the problem lies.

Have you checked your syslogs. (If someone has the source for the lpr
system handy could you check to see if there is a syslog entry to assist
with debugging (there is a print.debug entry for the Solaris lp system that
helped me in the past)).  If someone has got access to the source
are there any 'undocumented' options that allow more verbose
debugging?

Where is the job going?  To a networked printer, or locally?

If it is local, is the lp module being loaded? (check with /sbin/lsmod)

If you can't get it going you could look at lprng (a supposed lpr 
replacement).  I haven't used it but it might work a bit better.

You might want to also try a strace -p &lt;lpd-pid&gt;.
If you redirect stdout + stderr to a file you might be able to see
if it is getting into a loop.

Cheers, (and good luck).

Matt

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
