<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Simple MASQ - FTP Not working." -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="mwestern@affairs.net.au" -->
<!-- Date="22 Aug 2002 15:00:37 +0930" -->
<!-- Id="1029994237.16041.619.camel@ant.internal" -->
<!-- Reference="FD14944A4C95D211AF350004AC4C55A406417DDA@mx.sola.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Simple MASQ - FTP Not working.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A></I>&gt;
  Date: 22 Aug 2002 15:00:37 +0930
</PRE>
<H1>Re: Simple MASQ - FTP Not working.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
ftp&gt; passive
Passive mode on.

then try again....

Passive mode uses the existing connection rather than trying to open a
second one which is where it usually trips up. A good lot of ftp
programs use passive by default these days, but I suspect yours doesnt.

Ant


On Thu, 2002-08-22 at 15:09, Matthew Western wrote:

&lt;snip&gt;

&gt; #default policies
&gt; $IPT -A POSTROUTING -t nat -s 10.1.1.0/24 -o eth0 -j MASQUERADE
&gt; $IPT -P FORWARD ACCEPT
&gt; $IPT -P INPUT ACCEPT
&gt; $IPT -P OUTPUT ACCEPT
&gt; 
&gt; #NAT stuff out
&gt; $IPT -A FORWARD -p all -s 10.1.1.2 -m state --state NEW,ESTABLISHED -j
&gt; ACCEPT
&gt; $IPT -A FORWARD -p all -d 10.1.1.2 -m state --state ESTABLISHED -j ACCEPT

Im not sure you need the "#NAT stuff out" section, as you are allowing
forward, input and output by default, and you have a section to nat your
packets as well. Not the most secure way to do it, but thats up to you.

Ant

-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
