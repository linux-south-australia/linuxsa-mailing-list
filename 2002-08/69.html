<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="PCMCIA on Powerbook G4 500 (Pismo)" -->
<!-- FromName="'Ryan Verner'" -->
<!-- FromEmail="xfesty@computeraddictions.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 4 Aug 2002 00:35:08 +0930" -->
<!-- Id="001901c23aff$2ff63010$5f01a8c0@noyoudont" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: PCMCIA on Powerbook G4 500 (Pismo)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Ryan Verner &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sun, 4 Aug 2002 00:35:08 +0930
</PRE>
<H1>PCMCIA on Powerbook G4 500 (Pismo)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi list...

I've installed Debian 3.0 onto my Powerbook G4/500 (unhappy with how
sluggish OS X is) and I have to say I'm /very/ impressed.  Everything's so
damn responsive, its great.

Everything's running fine, but I can't get PCMCIA working at all.  3.0 comes
with kernel 2.2.19 as per default, but I've installed the 2.4.18-newpmac
image via apt and still can't get PCMCIA happening.

I've installed the pcmcia-cs packages and cardmgr seems to come up fine, but
it doesn't seem to do anything.  I'm trying to get a Cabletron/Enterasys
wireless card to work, which uses the "orinico" driver (wireless-tools is
installed too).  The system doesn't seem to know there's a card in the slot,
and modprobe/insmod'ing the orinico module manually doesn't come back with
any errors but the card certainly isnt initalised.

cat /proc/pci gives back the following (snipped):

  Bus  1, device  26, function  0:
    CardBus bridge: Texas Instruments PCI1211 (rev 0).
      IRQ 58.
      Master Capable.  Latency=168.  Min Gnt=192.Max Lat=5.
      Non-prefetchable 32 bit memory at 0xa0000000 [0xa0000fff].

So the bridge is definitely being seen (gotta love the IRQ's on mac
hardware).

/etc/default/pcmcia has been set to load the yenta_socket module, which
seems to work (the others give errors):

stygian:/etc# /etc/init.d/pcmcia restart
Shutting down PCMCIA services: cardmgr modules.
Starting PCMCIA services: modules cardmgr.
stygian:/etc# tail -n 5 /var/log/messages
Aug  4 02:59:45 stygian kernel: unloading Kernel Card Services
Aug  4 02:59:45 stygian kernel: Linux Kernel Card Services 3.1.22
Aug  4 02:59:45 stygian kernel:   options:  [pci] [cardbus] [pm]
Aug  4 02:59:45 stygian kernel: Yenta IRQ list 0000, PCI irq58
Aug  4 02:59:45 stygian kernel: Socket status: 30000006

But it refuses to see a card:

stygian:/etc# cardctl status 0
  no card

Anybody got any ideas?

Thanks.

- Ryan

(I found a page on google saying that /etc/pcmcia/config.opts had to be
changed to the following values, which I've done, but it hasn't seemed to
help:)

include port 0x100-0x4ff, port 0x1000-0x17ff
include memory 0x80000000-0x80ffffff


 - &lt;&lt; Ryan J Verner                xfesty / irc.oublinet.net &gt;&gt; -
 - &lt;&lt; <A HREF="mailto:xfesty@whackpack.com">xfesty@whackpack.com</A>  <A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A> &gt;&gt; -

 - &lt;&lt; MSN <A HREF="mailto:dev.festy@start.com.au">dev.festy@start.com.au</A>                ICQ 76626240 &gt;&gt; -
 - &lt;&lt; EverQuest, Tholuxe Paells:  Mummer/Bard, Arrjart/Druid &gt;&gt; -

 "createmutatecontaminatedesignrefineundermineinditeincitedisuni
   tedeploydecoydestroydividecollidesuicideextortabortvivelemort"

         00-24-49-6d-92-b6-db-ff-00-24-49-6d-92-b6-db-ff

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
