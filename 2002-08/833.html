<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Wierd network problems" -->
<!-- FromName="'Trevor Nichols'" -->
<!-- FromEmail="trevor@nichols.id.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="31 Aug 2002 02:02:54 +0930" -->
<!-- Id="1030721532.11150.21.camel@core.ocdi.org" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Wierd network problems</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Trevor Nichols &lt;<I><A HREF="mailto:trevor@nichols.id.au">trevor@nichols.id.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: 31 Aug 2002 02:02:54 +0930
</PRE>
<H1>Wierd network problems</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi All,

I've just set up a Linux box as a router in a network, but am getting
wierd occurances.  Refer to the quick ascii-art diagram and network
configurations for the different machines below:

                      +---+
                    __| W1|
                   /  |   |
+---+ .0 +---+ .1 /   +---+
| L1|----| R |----
+---+ /  +---+    \___+---+
     /                | W2|
+---+                 +---+
| W3|
+---+

R = Linux Box Router
     eth0 = 192.168.0.254 (RealTek RTL-8029 card - UTP cabling)
     eth1 = 192.168.1.254 (NE2000 Compatible - BNC cabling)

W1 = Windows 95 Workstation
     NIC = 192.168.0.199

W2 = Windows 95 Workstation
     NIC = 192.168.1.24

L1 = Linux Box
     eth0 = 192.168.0.253

W3 = Windows 2000 Workstation
     NIC = 192.168.0.182

As you can see Workstation W1 is working as it is, even though the NIC
on that interface is configured on a different subnet than eth1 card. 
The default routes are all set appropriately to the IP on the router on
either side of the network.

I tried configuring the computers with the opposite IP ranges and
swapping over the cable from one NIC to the other.  The better solution
would be to set up a bridge between the two physical networks as there
is no real requirement to use the separate subnetting.

I guess my question is: "is this normal, or does anyone know what might
be happening?" It appears to me that the kernel is picking up data that
is coming in physically on eth1 and interpreting it through eth0, as the
RX and TX in ifconfig show RX being 0 bytes on eth1.

Workstation W2, correctly configured worked properly and didn't work
with the .0 address range, but did work (as I'd expect) with .1.
addressing.

Ah well, I might just be tired and not seeing something blindingly
obvious. :-)

Thanks,
Trevor.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
