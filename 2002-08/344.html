<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Version Blues" -->
<!-- FromName="'Peter Gossner'" -->
<!-- FromEmail="gossner@arcom.com.au" -->
<!-- ToName="'Brian Marr'" -->
<!-- ToEmail="cabernet@internode.on.net" -->
<!-- Date="Wed, 14 Aug 2002 18:16:34 +0930" -->
<!-- Id="20020814181634.091cf959.gossner@arcom.com.au" -->
<!-- Reference="Pine.LNX.4.21.0208140946210.6298-100000@calulu.shearer.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Version Blues</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Peter Gossner &lt;<I><A HREF="mailto:gossner@arcom.com.au">gossner@arcom.com.au</A></I>&gt;
  To  : Brian Marr &lt;<I><A HREF="mailto:cabernet@internode.on.net">cabernet@internode.on.net</A></I>&gt;
  Date: Wed, 14 Aug 2002 18:16:34 +0930
</PRE>
<H1>Re: Version Blues</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 14 Aug 2002 12:10:55 +0930
Brian Marr &lt;<A HREF="mailto:cabernet@internode.on.net">cabernet@internode.on.net</A>&gt; wrote:

&gt; 
&gt; I am wondering what determines the dependencies that are needed when a
&gt; package is built. If for example you buid an xxx.rpm, does it pick up
&gt; and use libraries and features from the PC you are using. Does it
&gt; follow that anyone who wants to use the rpm has to have these? Another
&gt; one - does a programmer acquire certain libraries and files to get his
&gt; software to work the way he wants and therefore require all users to
&gt; have these as well. If he creates and i386 package is he following a
&gt; standard ?
&gt; 
&gt; Brian Marr
&gt; &lt;snip&gt;

&lt;short answer&gt;

1/ It only has dependencies for the libs. it uses.
2/ Human intervention is involved.
3/ Yes in spite of what you may think there are "standards".
4/ yes a programmer uses the files and libs. they need and _may_ require
you to have them.(well you will be required to have them one way ot the
other)

&lt;/short answer&gt;

&lt;long answer&gt;



Brian it goes something like this.

Coder writes an application. (lets call it Killerapp)
Writes the core code in her language of choice . 
(and might name the core libraries that do the real work " lib-Killerapp
")

and probably the interface using one of the major widget sets.

(GTK QT etal)

Now said devloper decides that the Gnome-canvas widget is just what is
needed.(so the Gnome-canvas library header files are included in the
project)

That automatically means the developer has taken on all of the canvas
libs depenencies as well. !

Depnding on what the project is and what platform(s) it is being aimed
at you can almost guarantee that there will be multiple layers of deps.
In this case gnome, gtk, libc6 + anything else she might be using.

This is NOT really a problem. The linker is brilliant at getting things
sorted out.(and it's the sort of thing computers (as apposed to humans) 
can do extremely well.


The developer decides Killerapp is ready for testing in the real world
and (brave fool) releases an RPM of the thing.

When Mz Developer builds the RPM she has  to hand edit the rpm
configuration files. ... there is a place for human error here. The
linker (ldd) can only know what's on her system so she builds a list of
stuff based what is on her system. She may also add other stuff but that
would probably not be good practice..


So to answer your question.

the dependencies (while referenced from the developers system)
 are only those that are relevant to the particular application.

There are other types of dependancies that might be considered optional.
Generally the case is that the "Killerapp" is designed to work with some
other application(s) or not .

RPM is just as stupid as any other app: somewhere somebody tells it what
it needs (which is not the same as saying it's no good) It generally
does an excellent job of this. what's the old saying? : garbage in
garbage out .

to get an idea of the scale of this :
try this:

$ldd /usr/bin/kmail |less

The linker is showing you all the library files used by the app. and
which version of those files it is accessing. man ldd for hours more
fun.


The standards I mentioned above are essentially agreed on by an evolved
common practice.(Often the choice of API esentially sets the style)
Most (by no means all) applications are now built using GNU tools:

autoconf
make
etc etc.

But that's a story for another week.

Once you have a working app you can package it lots of differnet ways
for all the different platforms and distribution systems.

One reason Debian tends to get this right is the high level of Human
based quality control.(and better standardised tools IMHO)

The Debian Developer system really is excellent.
i.e somebody adopts a package and looks after it while they can. That
person is often not the original developer and often (in my experience)
gives great advice on how to confihure the package / bugs etc.. You need
to jump through a few hoops before you may be a Debian Developer :)

(just in case .. I'm NOT)

but I digress sorry..

Hopefully I haven't confused you.

Peter.



















 


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
