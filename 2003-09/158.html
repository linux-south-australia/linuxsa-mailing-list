<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: corrupt rpm db/apt?" -->
<!-- FromName="'Alex Wallis'" -->
<!-- FromEmail="awol@prepaidonline.com.au" -->
<!-- ToName="'linuxsa@linuxsa.org.au'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 03 Sep 2003 16:07:34 +0930" -->
<!-- Id="3F558C2E.C6EFE6A0@prepaidonline.com.au" -->
<!-- Reference="3F5538A3.7060206@webmedia.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: corrupt rpm db/apt?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alex Wallis &lt;<I><A HREF="mailto:awol@prepaidonline.com.au">awol@prepaidonline.com.au</A></I>&gt;
  To  : linuxsa@linuxsa.org.au &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 03 Sep 2003 16:07:34 +0930
</PRE>
<H1>Re: corrupt rpm db/apt?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Ben Williams wrote:
&gt; 
&gt; any ideas as to how i could get around it, short of removing X? i guess
&gt; i could just not use apt, but it's so *nice* when it's working properly!
&gt; 

Redhat 8.0 shipped with a buggy rpm as they split rpmbuild into it's own
binary. The fixes for the various "hangs" it causes is at
<A HREF="http://www.rpm.org/hintskinks/repairdb/">http://www.rpm.org/hintskinks/repairdb/</A>

To resolve ALL your problems you will need to run the following
commands...

rm -f /var/lib/rpm/__db* 
rpm -vv --rebuilddb 
apt-get update
apt-get install apt

Make sure you kill -9 ALL rpm and apt processes before you begin.
You'll need to upgrade your apt packages (including synaptic if
installed) as well, to resolve all the conflicts, and do NOT try to do
an apt-get upgrade until upping your version of apt first.

HTH

Alex
--
Mate, this parrot wouldn't VOOM if you put four million volts through
it!
                -- Monty Python

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
