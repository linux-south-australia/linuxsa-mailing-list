<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Web100 will clobber VoIP? Was Re: [ANNOUNCE] LinuxSA September 2003 Meeting" -->
<!-- FromName="'John Edwards'" -->
<!-- FromEmail="isplist@adam.com.au" -->
<!-- ToName="'Alan Kennington'" -->
<!-- ToEmail="ak1.linuxsa@topology.org" -->
<!-- Date="Wed, 10 Sep 2003 23:54:42 +0930" -->
<!-- Id="1063203882.3f5f342abeb3e@webmail.adam.com.au" -->
<!-- Reference="20030910230812.B26060@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Web100 will clobber VoIP? Was Re: [ANNOUNCE] LinuxSA September 2003 Meeting</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: John Edwards &lt;<I><A HREF="mailto:isplist@adam.com.au">isplist@adam.com.au</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:ak1.linuxsa@topology.org">ak1.linuxsa@topology.org</A></I>&gt;
  Date: Wed, 10 Sep 2003 23:54:42 +0930
</PRE>
<H1>Re: Web100 will clobber VoIP? Was Re: [ANNOUNCE] LinuxSA September 2003 Meeting</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Quoting Alan Kennington &lt;<A HREF="mailto:ak1.linuxsa@topology.org">ak1.linuxsa@topology.org</A>&gt;:

&gt; Your response seems to indicate that CPU speed is the limiting factor in
&gt; network congestion. That's the first I heard of this. I thought it was
&gt; the physical bit-rate of links.

Dollars are the limiting factor in network congestion, to quote from
the movie Mad Max: "speed's just a question of money. How fast can you go?"

It's been traditionally uncommon for all but the most expensive routers to be
able to realise the potential of their fastest interfaces due to processing
limitations. ie: I have a number of routers with Gigabit interfaces, but with a
normal mix of Internet traffic they would experience congestion at around
400Mb/s of throughput. With larger packet sizes they can reach their full
potential and have the medium be a limiting factor.
 
I'm not saying that link speed isn't a factor in congestion, but it's also not
the only one.

&gt; There's a kind of diminishing returns thing here.
&gt; 
&gt; CPU time per packet must be something like a constant K plus some small
&gt; linear factor for the packet length.
&gt; So if you look at typical file transfers, you have soemthing like
&gt; 
&gt; CPU time per byte = K/1500.
&gt; 
&gt; For RTP, you might have more like K/100.
&gt; 
&gt; So now you are saying that going from, say K/1500 to K/15000 is going
&gt; to make a big difference. But the difference is
&gt; 
&gt; 	K * (1/1500 - 15000) = about K/1650.
&gt; 
&gt; This is such a tiny difference compared to K/100 that it is negligeable.
&gt; You are improving a ratio which are already low.


That's right, the difference in processing power is negligable, possibly even
non-existent as the CPU only needs to see the IP header to make a decision, the
rest of the packet can just remain in a buffer and wait to be switched.

The point is that the same amount of processing time has now resulted in 15000
bytes being moved for the same processor hit as 1500 bytes.

&gt; If you increase file transfer packet size, then you necessarily increase
&gt; jitter for RTP. 

Most VoIP implementations have some kind of buffer to manage Jitter, the trick
is making sure that the combined times of jittery packets don't cause them to
remain in the buffer long enough to be perceptable to humans. This gives you
about 30ms to play with, in which time you can transmit 375K of data at a
100Mb/s, and only about 5 of those packets need to be voice data (although
obviously the odds are against them if you really are pushing 100Mb/s). If the
router is lacking in CPU to pass all the packets, then it might show as a
buffer underrun condition, which is a more likely cause of packet latency and
VoIP crappiness.

ie: on backbone links, packet size really isn't going to affect VoIP. Where it
gets closer to the edge and is queued into smaller pipes where delays and large
packets might have a greater impact, then you apply the queuing anyway, web100
or not.

I guess there are some network design philosophies that will affect VoIP -
large
buffers will sometimes increase throughput at the expense of latency, and small
buffers result in starvation that limits throughput under similar conditions.

John Edwards


-----------------------------------------------
This message sent through Adam Internet Webmail
          <A HREF="http://www.adam.com.au">http://www.adam.com.au</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
