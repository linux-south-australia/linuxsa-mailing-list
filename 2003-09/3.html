<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: copying files correctly" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="'Conrad Gittins'" -->
<!-- ToEmail="conradg@bigbutton.com.au" -->
<!-- Date="Mon, 01 Sep 2003 10:38:37 +0930" -->
<!-- Id="3F529C15.8060209@aarnet.edu.au" -->
<!-- Reference="3F51FEFA.9030704@bigbutton.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: copying files correctly</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : Conrad Gittins &lt;<I><A HREF="mailto:conradg@bigbutton.com.au">conradg@bigbutton.com.au</A></I>&gt;
  Date: Mon, 01 Sep 2003 10:38:37 +0930
</PRE>
<H1>Re: copying files correctly</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; using cp -dpR /*

The edge cases are:

   files beginning with "."
   sparse files
   symbolic links
   timestamps, permissions and ownerships

I'm not sure that you command covers all of these
cases.

Using the tar command is more usual, simply because it
has an option to stop at filesystem boundaries, which
allows copying a disk without copying up /proc, etc.

Typical syntax (ie, RTFM) for GNU tar is

   su
   cd /
   tar --create --file=- --one-file-system --sparse --atime-preserve OLDFILESYSTEM | \
   ( cd /mnt/NEWFILESYSTEM; tar --extract --file=- --same-permissions --same-order )

I've spelled out all the options so you can see at a glance
what we're trying to achieve.

Cheers,
Glen

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
