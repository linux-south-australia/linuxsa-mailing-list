<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ftp server behind adsl router" -->
<!-- FromName="'damar thapa'" -->
<!-- FromEmail="damar@sst.com.hk" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 24 Sep 2002 18:28:43 +0800" -->
<!-- Id="3D903E5B.C1C36E98@sst.com.hk" -->
<!-- Reference="3D90398F.D948A751@sst.com.hk" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ftp server behind adsl router</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: damar thapa &lt;<I><A HREF="mailto:damar@sst.com.hk">damar@sst.com.hk</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 24 Sep 2002 18:28:43 +0800
</PRE>
<H1>Re: ftp server behind adsl router</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

After sending my earlier message, I happened to find the following message,
written by ant, in the archive.  On typing passive after login, as he
suggested, server starts to work.

My interpretation that the server was in passive mode, and server had not
fulfilled its requirements, turned out to be wrong.

Now, how can I make passive mode as my default in my ftp server?

Any pointers would be higly appreciated.

Damar

--------------------------------------------------
Re: Simple MASQ - FTP Not working.

ftp&gt; passive
Passive mode on.

then try again....

Passive mode uses the existing connection rather than trying to open a
second one which is where it usually trips up. A good lot of ftp
programs use passive by default these days, but I suspect yours doesnt.

Ant
--------------------------------------------------
damar thapa wrote:

&gt; Hi,
&gt;
&gt; My RH7.1 server, with internal IP address, accesses Internet through
&gt; adsl router.
&gt;
&gt; I am setting http and ftp server on the above machine.  Necessary
&gt; mapping in router is done, and http server is doing fine.
&gt;
&gt; As for the ftp server, I can log in, but  on entering 'ls' command, the
&gt; server responds with '227 Entering Passive Mode (192,168,1,80,74,20)' ,
&gt; and it stucks there.
&gt;
&gt; As per the article (very nicely illustrated) at
&gt; <A HREF="http://slacksite.com/other/ftp.html,">http://slacksite.com/other/ftp.html,</A> for PASSIVE MODE following ports
&gt; have to be opened:
&gt;
&gt; 1.    FTP server's port 21 from anywhere (Client initiates connection)
&gt; 2.    FTP server's port 21 to ports &gt; 1024 (Server responds to client's
&gt; control port)
&gt; 3.    FTP server's ports &gt; 1024 from anywhere (Client initiates data
&gt; connection to random port specified by server)
&gt; 4.    FTP server's ports &gt; 1024 to remote ports &gt; 1024 (Server sends
&gt; ACKs (and data) to client's data port)
&gt;
&gt; Let me write a bit what I have interpreted from the above  4 points
&gt; first.
&gt;
&gt; In 1, server's port 21 should be opened so that any clients can connect
&gt; to it (in my case, it is doing fine, I guess).
&gt;
&gt; In 2, Server should be able to connect to clients' any ports higher than
&gt; 1024, using its port 21.
&gt;
&gt; In 3, Server's all ports higher than 1024 should be opened, so that
&gt; clients can connect to them.
&gt;
&gt; In 4, once data transfer starts, servers' higher than 1024 port should
&gt; be able to communicate with clients' higher than 1024 ports.
&gt;
&gt; I would appreciate if some one on the list can clarify, (1) if my above
&gt; interpretation is right? and (2) how I can ensure  (check/set etc.) all
&gt; above conditions  are fulfilled in Redhat 7.1 ?
&gt;
&gt; Thanks.
&gt;
&gt; Damar
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
