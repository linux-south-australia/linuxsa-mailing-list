<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Tar problems." -->
<!-- FromName="'Adam Smith'" -->
<!-- FromEmail="adam.smith@sageautomation.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 9 Sep 2002 12:16:07 +0930" -->
<!-- Id="005701c257ab$0c5004b0$e209a8c0@bugman" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Tar problems.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Adam Smith &lt;<I><A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 9 Sep 2002 12:16:07 +0930
</PRE>
<H1>Tar problems.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Y'all.


I have two primary Unix servers at work, one runs FreeBSD 4.6.2, and the
other runs Red Hat 7.3.

At present, both of these servers run a small daily script (that is
almost identical) which tgz's up various directories and then transfers
them to a windows server via Samba so they are incorporated into a
nightly backup.  This script runs beautifully on the FreeBSD machine,
backing up a tgz file usually no bigger than 5Mb.

The Red Hat machine has difficulty.

The script begins to tar the appropriate directories and seems to go
fine until.. BAM.

tar: Error exit delayed from previous errors

It stops at the same location every time and I'm left with a
semi-complete tar archive:
-rw-r--r--    1 root     458824039 Sep  9 11:28 backup-20020909.tar.gz

Notice the file size?  Is this an issue?  At first I tried substituting
directories, and made a complete copy of the data area I wished to back
up, and tried it again, but I got the same problem.  Could tar be having
difficulty taring a particular file, considering it stops at the same
one each time (usr/local/backup/pronto/pronto/.addressbook.lu)?

There is 15G free on this disk.  The tar command is run as follows:

tar -T $FILELIST -cvzf $BACKUP_FILENAME 2&gt;&1

Where $FILELIST is a text file with a list of files to backup, and
$BACKUP_FILENAME is fairly obvious.  I'm unsure about the "2&gt;&1" portion
of the command, because I originally wrote this script with guidance
from a friend of mine, and I can't recall now what this redirects or why
it is there, exactly.

Does anyone have any suggestions?



Adam Smith
Information Technology Officer
SAGE Automation Ltd

<A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A>
<A HREF="http://www.sageautomation.com">http://www.sageautomation.com</A>

Phone:   (08) 8276 0703
Fax:     (08) 8276 0799
Mobile:  0414 895 273



 


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
