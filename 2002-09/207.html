<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: fscked partition" -->
<!-- FromName="'Kirsty Rae'" -->
<!-- FromEmail="junkie@rae.cx" -->
<!-- ToName="'Adam Smith'" -->
<!-- ToEmail="adam.smith@sageautomation.com" -->
<!-- Date="Fri, 6 Sep 2002 14:20:33 +1000 (EST)" -->
<!-- Id="Pine.LNX.4.44.0209061417001.7593-100000@cairo.rae.cx" -->
<!-- Reference="003501c25559$4293fbc0$e209a8c0@bugman" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: fscked partition</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Kirsty Rae &lt;<I><A HREF="mailto:junkie@rae.cx">junkie@rae.cx</A></I>&gt;
  To  : Adam Smith &lt;<I><A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A></I>&gt;
  Date: Fri, 6 Sep 2002 14:20:33 +1000 (EST)
</PRE>
<H1>Re: fscked partition</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
It looks to me like you have deleted the messages file without stopping 
syslogd first.

This isn't a good idea as that open file you just deleted is still 
thinking that it exists and it all gets quite confusing...

I think that if you SIGHUP syslogd, the open file will disappear and your 
df will start being sensible, but I don't have a box that I can try this 
on to hand right now....

Good luck...


On Fri, 6 Sep 2002, Adam Smith wrote:

&gt; 
&gt; Hello,
&gt; 
&gt; I'm having some difficulty with my var partition.  As you can see from
&gt; the results below,
&gt; 
&gt; Filesystem    Size   Used  Avail Capacity  Mounted on
&gt; /dev/ad0s1a    97M    41M    48M    46%    /
&gt; /dev/ad0s1f   9.1G   6.0G   2.4G    72%    /usr
&gt; /dev/ad0s1e    48M    48M  -3.4M   108%    /var
&gt; procfs        4.0K   4.0K     0B   100%    /proc
&gt; 
&gt; df reports /var to be full.  It's not.  According to "du," var only
&gt; contains 5.5Mb of data.
&gt; 
&gt; I can still write to the var partition if I purge my logs, but I am then
&gt; inundated with messages in syslog saying var is full, and within several
&gt; seconds it fills up again.
&gt; 
&gt; I ran a " fsck -f " and got the follwing results for ad0s1e:
&gt; 
&gt; 
&gt; 234805 files, 6283920 used, 3259482 free (121714 frags, 392221 blocks,
&gt; 1.3% fragmentation)
&gt; ** /dev/ad0s1e (NO WRITE)
&gt; ** Last Mounted on /var
&gt; ** Phase 1 - Check Blocks and Sizes
&gt; ** Phase 2 - Check Pathnames
&gt; ** Phase 3 - Check Connectivity
&gt; ** Phase 4 - Check Reference Counts
&gt; UNREF FILE I=6282  OWNER=root MODE=100644
&gt; SIZE=74505 MTIME=Aug 21 00:44 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6341  OWNER=root MODE=100644
&gt; SIZE=50086 MTIME=Sep  4 04:03 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6415  OWNER=nobody MODE=100644
&gt; SIZE=475057 MTIME=Aug 16 22:41 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6416  OWNER=root MODE=100644
&gt; SIZE=24576 MTIME=Aug  1 18:26 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6417  OWNER=root MODE=100664
&gt; SIZE=106449 MTIME=Sep  6 12:17 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6418  OWNER=root MODE=100664
&gt; SIZE=24725 MTIME=Apr  5 00:29 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6419  OWNER=root MODE=100664
&gt; SIZE=24576 MTIME=Apr  5 00:19 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6420  OWNER=root MODE=100664
&gt; SIZE=24616 MTIME=Jul 30 23:35 2002
&gt; CLEAR? no
&gt; 
&gt; UNREF FILE I=6501  OWNER=root MODE=100644
&gt; SIZE=43663222 MTIME=Sep  6 13:10 2002
&gt; CLEAR? no
&gt; 
&gt; ** Phase 5 - Check Cyl groups
&gt; 596 files, 49120 used, 463 free (463 frags, 0 blocks, 0.9%
&gt; fragmentation)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; But I am unclear as to what exactly this means, or what I need to do to
&gt; go about fixing the problem.  All those "no" responses were
&gt; automatically generated.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Adam Smith
&gt; Information Technology Officer
&gt; SAGE Automation Ltd
&gt; 
&gt; <A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A>
&gt; <A HREF="http://www.sageautomation.com">http://www.sageautomation.com</A>
&gt; 
&gt; Phone:   (08) 8276 0703
&gt; Fax:     (08) 8276 0799
&gt; Mobile:  0414 895 273
&gt; 
&gt; 
&gt; 

-- 
Kirsty Rae &lt;<A HREF="mailto:junkie@rae.cx">junkie@rae.cx</A>&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
