<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="ftp server behind adsl router" -->
<!-- FromName="'damar thapa'" -->
<!-- FromEmail="damar@sst.com.hk" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 24 Sep 2002 18:08:15 +0800" -->
<!-- Id="3D90398F.D948A751@sst.com.hk" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: ftp server behind adsl router</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: damar thapa &lt;<I><A HREF="mailto:damar@sst.com.hk">damar@sst.com.hk</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 24 Sep 2002 18:08:15 +0800
</PRE>
<H1>ftp server behind adsl router</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

My RH7.1 server, with internal IP address, accesses Internet through
adsl router.

I am setting http and ftp server on the above machine.  Necessary
mapping in router is done, and http server is doing fine.

As for the ftp server, I can log in, but  on entering 'ls' command, the
server responds with '227 Entering Passive Mode (192,168,1,80,74,20)' ,
and it stucks there.

As per the article (very nicely illustrated) at
<A HREF="http://slacksite.com/other/ftp.html,">http://slacksite.com/other/ftp.html,</A> for PASSIVE MODE following ports
have to be opened:

1.    FTP server's port 21 from anywhere (Client initiates connection)
2.    FTP server's port 21 to ports &gt; 1024 (Server responds to client's
control port)
3.    FTP server's ports &gt; 1024 from anywhere (Client initiates data
connection to random port specified by server)
4.    FTP server's ports &gt; 1024 to remote ports &gt; 1024 (Server sends
ACKs (and data) to client's data port)

Let me write a bit what I have interpreted from the above  4 points
first.

In 1, server's port 21 should be opened so that any clients can connect
to it (in my case, it is doing fine, I guess).

In 2, Server should be able to connect to clients' any ports higher than
1024, using its port 21.

In 3, Server's all ports higher than 1024 should be opened, so that
clients can connect to them.

In 4, once data transfer starts, servers' higher than 1024 port should
be able to communicate with clients' higher than 1024 ports.

I would appreciate if some one on the list can clarify, (1) if my above
interpretation is right? and (2) how I can ensure  (check/set etc.) all
above conditions  are fulfilled in Redhat 7.1 ?

Thanks.

Damar





-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
