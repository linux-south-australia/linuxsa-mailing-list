<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: consolehelper in rh7.3" -->
<!-- FromName="'Alex Wallis'" -->
<!-- FromEmail="awol@prepaidonline.com.au" -->
<!-- ToName="'Andy Zivkovic'" -->
<!-- ToEmail="andy@a-z.au.com" -->
<!-- Date="Sat, 21 Sep 2002 12:09:15 +0930" -->
<!-- Id="3D8BDBD3.748C4E73@prepaidonline.com.au" -->
<!-- Reference="LEEMKLALDICPKJECCGCLIECJCDAA.andy@a-z.au.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: consolehelper in rh7.3</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alex Wallis &lt;<I><A HREF="mailto:awol@prepaidonline.com.au">awol@prepaidonline.com.au</A></I>&gt;
  To  : Andy Zivkovic &lt;<I><A HREF="mailto:andy@a-z.au.com">andy@a-z.au.com</A></I>&gt;
  Date: Sat, 21 Sep 2002 12:09:15 +0930
</PRE>
<H1>Re: consolehelper in rh7.3</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Andy Zivkovic wrote:
&gt; 
&gt; When as a user I run poweroff, halt or reboot, I immediately get back the

If you do "which poweroff" or "which halt" or "which reboot" you will
see these commands reside in /sbin which is a system binary directory.
In other words all system commands should be run as root NOT as a user.

&gt; command prompt, without any text (even an error message), but the usual (The
&gt; system is going down) message doesn't appear either. Those three commands
&gt; are symlinks to consolehelper, so I type consolehelper at the command prompt
&gt; and it segfaults (it doesn't tell me poweroff, halt or reboot segfaults
&gt; though).

The consolehelper app will segfault because it's a wrapper script only
intended to be run from within an X environment where it calls a simple
little tk box and asks for the root passwd so it can then run those and
other commands as root.

&gt; 
&gt; Since I used RedHat's own RPM, I'm surprised it doesn't work. Is it possible
&gt; it has a dependency on another library, but isn't listed in the RPM, so I
&gt; haven't installed it? The machine in question is a gateway box (I haven't
&gt; tried on any other computers, but don't have rh7.3 installed on any other
&gt; machines at the moment either), so when I installed, I unchecked everything,
&gt; then after installation, I installed only the packages that I wanted. I'd
&gt; like to do an exec("poweroff") in a PHP script, so it needs to work as a
&gt; user.
&gt; 
&gt; Looking at RH's errata page, usermode (where consolehelper comes from)
&gt; doesn't have a updated package.
&gt; 
&gt; and talking about errata, is there a mailing list that will tell me when RH
&gt; release a new update? The redhat-annouce list hasn't had a post since July
&gt; 16th (according to the archives).

If you go to <A HREF="http://apt.freshrpms.net">http://apt.freshrpms.net</A> and install both the apt- and
apt-devel packages then run "apt-get update ; apt-get install synaptic"
you will then have installed apt-get for redhat and the gui for it. If
you run synaptic while in X and as root, you will be able to browse
availables packages and you should be able to find the redhat network
applet for your gnome panel bar which will indicate immediately when
errata packages become available.

BTW apt-get can also upgrade all the errata as well as a complete
distribution upgrade when they are released whereas up2date cannot.

Incidently redhat will automatically email registered users of new
errata packages within 48 hrs of their release unless you
install/upgrade them first.

HTH

Alex

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
