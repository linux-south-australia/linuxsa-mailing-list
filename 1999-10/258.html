<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: scsi disk doctor" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="Alan Kennington" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Sat, 16 Oct 1999 13:06:06 +0930 (CST)" -->
<!-- Id="199910160336.NAA79970@atdot.dotat.org" -->
<!-- Reference="199910160322.MAA04745@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: scsi disk doctor</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  Date: Sat, 16 Oct 1999 13:06:06 +0930 (CST)
</PRE>
<H1>Re: scsi disk doctor</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Alan Kennington wrote:

 &gt; I have two SCSI drives.
 &gt; Only the one which has the linux file system
 &gt; shows up in the "dd" command.

This has nothing to do with filesystems and everything to do with
partition IDs.  Use fdisk to make sure that the partition you want
to write to contains the right magic number to have it recognized
as a Linux partition (or suffix "sdb" with a number to identify the
non-Linux partition you really want to write to).

 &gt; If I turn on the disk _after_ I boot, I can't get
 &gt; a single peep out of it, appaarently because the
 &gt; SCSI controller (Tekram DC-310) only recognizes
 &gt; SCSI targets that respond at reset time.

It has nothing to do with the controller;  The Linux OS only probes
for SCSI devices at boot time, and configures the kernel appropriately.
The controller is just a dumb device which transmits any SCSI protocol
traffic that the OS tells it to transmit; it doesn't even know the 
difference between a tape, disk, CD-ROM or scanner.

 &gt; What I wanted was a program at the command level
 &gt; which will transmit basic primitives down the SCSI
 &gt; bus and give me the results.

I truly doubt you want this.  What you really want is a way of 
accessing non-Linux partitions so that you can make "dd" work on
them, and/or instructing the Linux kernel to reprobe for SCSI devices
after a reboot.  

 &gt; A related problem is that fact that linux allocates
 &gt; the /dev/sd? devices in order of Target number
 &gt; at boot time. So logically my Quantum drive should
 &gt; be /dev/sda, which it is if it is turned on at boot time.
 &gt; 
 &gt; Target	drive		map if both on	map if quantum off
 &gt; 0	Quantum 105 MB	/dev/sda	---
 &gt; 2	IBM 1 GB	/dev/sdb	/dev/sda
 &gt; 
 &gt; Since the drive has not been allocated to 
 &gt; a /dev/sd?, it can't be read with "dd"!

Have you thought about rejumpering the disks so that the IBM disk
is temporarily at ID 0?  Then you could turn 'em both on and boot
with impunity.

   - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
