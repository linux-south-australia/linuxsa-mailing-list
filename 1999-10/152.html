<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Raid 1 and 2.2.10" -->
<!-- FromName="Mark Williams" -->
<!-- FromEmail="hirm@chariot.net.au" -->
<!-- ToName="Tim Ansell" -->
<!-- ToEmail="ansell@chariot.net.au" -->
<!-- Date="Fri, 8 Oct 1999 23:40:50 +0930" -->
<!-- Id="000f01bf1196$ed850e70$0201a8c0@comp" -->
<!-- Reference="37D6672F.4280C8AC@chariot.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Raid 1 and 2.2.10</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Williams &lt;<I><A HREF="mailto:hirm@chariot.net.au">hirm@chariot.net.au</A></I>&gt;
  To  : Tim Ansell &lt;<I><A HREF="mailto:ansell@chariot.net.au">ansell@chariot.net.au</A></I>&gt;
  Date: Fri, 8 Oct 1999 23:40:50 +0930
</PRE>
<H1>Re: Raid 1 and 2.2.10</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I had HUGE problems with this....

And theres an easy answer.

The raidtools kernel patch wont work with kernels 2.2.9 through to 2.2.11.
You have to get 2.2.12 to be able to patch the kernel.

Then all works like it should.

MWP


&gt; I had been successfully been using raid 1 on my web server with the
&gt; standard 2.2.5-25 redhat built kernel.
&gt; I recently decided to upgrade the kernel (i had been putting it off) i'm
&gt; now running 2.2.10. But raid no longer works when i try and use
&gt; /sbin/raidtools --all i get the following error...
&gt; 
&gt; [<A HREF="mailto:root@www">root@www</A> /dev]# /sbin/raidstart --all
&gt; /dev/md0: Invalid argument
&gt; [<A HREF="mailto:root@www">root@www</A> /dev]#
&gt; 
&gt; I have
&gt; 
&gt; [<A HREF="mailto:root@www">root@www</A> /dev]# /sbin/raidstart -V
&gt; /sbin/raidstart v0.3d compiled for md raidtools-0.90
&gt; 
&gt; My kernel definitely has raid 1 personality registered (it is built into
&gt; the kernel)
&gt; as in /var/log/messages i get
&gt; Oct  8 21:25:18 www kernel: raid1 personality registered
&gt; 
&gt; My /etc/raidtab is as follows...
&gt; 
&gt; [<A HREF="mailto:root@www">root@www</A> /dev]# more /etc/raidtab
&gt; # Sample raid-1 configuration
&gt; raiddev                 /dev/md0
&gt; raid-level              1
&gt; nr-raid-disks           2
&gt; nr-spare-disks          0
&gt; chunk-size              4
&gt; 
&gt; device                  /dev/sdb1
&gt; raid-disk               0
&gt; 
&gt; device                  /dev/sdc1
&gt; raid-disk               1
&gt; 
&gt; [<A HREF="mailto:root@www">root@www</A> /dev]#
&gt; 
&gt; Could someone please help??
&gt; 
&gt; Tim
&gt; 
&gt; -- 
&gt; Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
