<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Kernel Mount Count Idea" -->
<!-- FromName="'David Lloyd'" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 06 Jan 2001 18:34:58 +1030" -->
<!-- Id="3A56D1AA.AB9D5FF3@rebel.net.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Kernel Mount Count Idea</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sat, 06 Jan 2001 18:34:58 +1030
</PRE>
<H1>Kernel Mount Count Idea</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
The kernel keeps track of the number of times that you have mounted any
one particular partition. If that partitions is marked as being
checkable (i.e. run fsck on it at initialisation) the kernel initiates
this process. It appears that most partitions will fsck on the same
time, however because of the way the system is initialised fsck does not
parallelize; that is to say it runs sequentially.

Does anyone think that it would be useful to hack in something like:

1) do start up stuff
2) read /etc/fstab
3) get mount counts for all file systems to be mounted
4) determine which ones need to be fsck'ed
5) run a parallel fsck on them all

This should, in theory, make systems start more quickly. The reason I am
thinking this is that if you are in a production situation and you have
to reboot, having 4 of your partitions fsck sequentially with no warning
can be stressful...

DL
-- 
Installing Nvidia's XFree86 4.0.1 drivers broke various module
dependencies
 How to fix?
  - reboot once, twice and thrice
  - problem gone...

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
