<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="sound problems" -->
<!-- FromName="'Matthew Hamnett'" -->
<!-- FromEmail="hammer@epc.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 8 Jan 2001 10:59:09 +1030" -->
<!-- Id="01010810590902.01223@localhost.localdomain" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: sound problems</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Hamnett &lt;<I><A HREF="mailto:hammer@epc.net.au">hammer@epc.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 8 Jan 2001 10:59:09 +1030
</PRE>
<H1>sound problems</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
First of all, sorry for the length of this e-mail but I includes the complete 
output from dmesg just incase it helps.

I've just compiled linux2_4_0
and everything is working well except for a small prob with my soundcard 
(creative pci 128)

this first one is from my default MD7.2 Kernel. 

Linux version 2.2.17-21mdksecure (<A HREF="mailto:chmou@no.mandrakesoft.com">chmou@no.mandrakesoft.com</A>) (gcc version 
2.95.3 19991030 (prerelease)) #1 SMP Thu Oct 5 12:52:38 CEST 2000
mapped APIC to ffffe000 (002c7000)
Detected 567972 kHz processor.
ide_setup: ide1=autotune
ide_setup: ide0=autotune
Console: colour dummy device 80x25
Calibrating delay loop... 1130.50 BogoMIPS
Memory: 63664k/66556k available (1204k kernel code, 424k reserved, 1124k 
data, 140k init, 0k bigmem)
Dentry hash table entries: 16384 (order 5, 128k)
Buffer cache hash table entries: 65536 (order 6, 256k)
Page cache hash table entries: 16384 (order 4, 64k)
VFS: Diskquotas version dquot_6.4.0 initialized
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
mtrr: v1.35a (19990819) Richard Gooch (<A HREF="mailto:rgooch@atnf.csiro.au">rgooch@atnf.csiro.au</A>)
Intel machine check architecture supported.
Intel machine check reporting enabled on CPU#0.
per-CPU timeslice cutoff: 25.01 usecs.
CPU0: Intel Pentium III (Coppermine) stepping 03
SMP motherboard not detected. Using dummy APIC emulation.
PCI: PCI BIOS revision 2.10 entry at 0xfdb01, last bus=1
PCI: Using configuration type 1
PCI: Probing PCI hardware
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
TCP: Hash tables configured (ehash 65536 bhash 65536)
Initializing RT netlink socket
Starting kswapd v 1.5 
vesafb: framebuffer at 0xdc000000, mapped to 0xc4809000, size 16384k
vesafb: mode is 800x600x16, linelength=1600, pages=16
vesafb: protected mode interface info at c000:7ae0
vesafb: scrolling: redraw
vesafb: directcolor: size=0:5:6:5, shift=0:11:5:0
Console: switching to colour frame buffer device 100x37
fb0: VESA VGA frame buffer device
Detected PS/2 Mouse Port.
Serial driver version 4.27 with MANY_PORTS MULTIPORT SHARE_IRQ enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
pty: 256 Unix98 ptys configured
apm: BIOS version 1.2 Flags 0x03 (Driver version 1.13)
Real Time Clock Driver v1.09
RAM disk driver initialized:  16 RAM disks of 4096K size
Uniform Multi-Platform E-IDE driver Revision: 6.30
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
VP_IDE: IDE controller on PCI bus 00 dev 39
VP_IDE: chipset revision 6
VP_IDE: not 100% native mode: will probe irqs later
VT 82C691 Apollo Pro

Split FIFO Configuration:  8 Primary buffers, threshold = 1/2
                           8 Second. buffers, threshold = 1/2
    ide0: BM-DMA at 0xffa0-0xffa7, BIOS settings: hda:DMA, hdb:pio
ide0: VIA Bus-Master (U)DMA Timing Config Success
    ide1: BM-DMA at 0xffa8-0xffaf, BIOS settings: hdc:DMA, hdd:pio
ide1: VIA Bus-Master (U)DMA Timing Config Success
hda: Maxtor 90432D2, ATA DISK drive
hdc: CRD-8320B, ATAPI CDROM drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: Maxtor 90432D2, 4121MB w/512kB Cache, CHS=525/255/63
hdc: ATAPI 32X CD-ROM drive, 128kB Cache
Uniform CD-ROM driver Revision: 3.11
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
md driver 0.90.0 MAX_MD_DEVS=256, MAX_REAL=12
raid5: measuring checksumming speed
raid5: MMX detected, trying high-speed MMX checksum routines
   pII_mmx   :  1283.208 MB/sec
   p5_mmx    :  1307.211 MB/sec
   8regs     :   984.885 MB/sec
   32regs    :   580.644 MB/sec
using fastest function: p5_mmx (1307.211 MB/sec)
scsi : 0 hosts.
scsi : detected total.
md.c: sizeof(mdp_super_t) = 4096
Partition check:
 hda: hda1 hda2 &lt; hda5 hda6 &gt;
autodetecting RAID arrays
autorun ...
.... autorun DONE.
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 140k freed
Adding Swap: 248968k swap-space (priority -1)
es1371: version v0.22 time 12:57:08 Oct  5 2000
es1371: found chip, vendor id 0x1274 device id 0x1371 revision 0x08
es1371: found es1371 rev 8 at io 0xd000 irq 9
es1371: features: joystick 0x0
es1371: codec vendor CRY (0x435259) revision 19 (0x13)
es1371: codec features Headphone out 20bit DAC 18bit ADC
es1371: stereo enhancement: Crystal Semiconductor 3D Stereo Enhancement
amd forgot to set AF_INET in udp sendmsg. Fix it!

These last few lines from "Adding Swap...." dont actually show during bootup.
But the sound works fine with this config. KDE Detects it as an "es1371 sound 
device" and I can adjust the sound and every thing.

Not sure what the last line about the Auto Mount Daemon is about but my 
automounting in KDE wont work.


This is dmesg from my 2.4.0 (obviously !)

Linux version 2.4.0 (<A HREF="mailto:root@localhost.localdomain">root@localhost.localdomain</A>) (gcc version 2.95.3 19991030 
(prerelease)) #2 Mon Jan 8 02:50:03 CST 2001
BIOS-provided physical RAM map:
 BIOS-e820: 000000000009fc00 @ 0000000000000000 (usable)
 BIOS-e820: 0000000000000400 @ 000000000009fc00 (reserved)
 BIOS-e820: 0000000000010000 @ 00000000000f0000 (reserved)
 BIOS-e820: 0000000007ef0000 @ 0000000000100000 (usable)
 BIOS-e820: 0000000000008000 @ 0000000007ff0000 (ACPI data)
 BIOS-e820: 0000000000008000 @ 0000000007ff8000 (ACPI NVS)
 BIOS-e820: 0000000000010000 @ 00000000ffff0000 (reserved)
On node 0 totalpages: 32752
zone(0): 4096 pages.
zone(1): 28656 pages.
zone(2): 0 pages.
Kernel command line: BOOT_IMAGE=linux2.4.0 ro root=301 ide1=autotune 
ide0=autotune
ide_setup: ide1=autotune
ide_setup: ide0=autotune
Initializing CPU#0
Detected 567.975 MHz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 1130.49 BogoMIPS
Memory: 126728k/131008k available (948k kernel code, 3892k reserved, 348k 
data, 196k init, 0k highmem)
Dentry-cache hash table entries: 16384 (order: 5, 131072 bytes)
Buffer-cache hash table entries: 4096 (order: 2, 16384 bytes)
Page-cache hash table entries: 32768 (order: 5, 131072 bytes)
Inode-cache hash table entries: 8192 (order: 4, 65536 bytes)
CPU: Before vendor init, caps: 0383f9ff 00000000 00000000, vendor = 0
CPU: L1 I cache: 16K, L1 D cache: 16K
CPU: L2 cache: 128K
Intel machine check architecture supported.
Intel machine check reporting enabled on CPU#0.
CPU: After vendor init, caps: 0383f9ff 00000000 00000000 00000000
CPU: After generic, caps: 0383f9ff 00000000 00000000 00000000
CPU: Common caps: 0383f9ff 00000000 00000000 00000000
CPU: Intel Celeron (Coppermine) stepping 03
Enabling fast FPU save and restore... done.
Enabling unmasked SIMD FPU exception support... done.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
mtrr: v1.37 (20001109) Richard Gooch (<A HREF="mailto:rgooch@atnf.csiro.au">rgooch@atnf.csiro.au</A>)
mtrr: detected mtrr type: Intel
PCI: PCI BIOS revision 2.10 entry at 0xfdb01, last bus=1
PCI: Using configuration type 1
PCI: Probing PCI hardware
PCI: Using IRQ router VIA [1106/0686] at 00:07.0
isapnp: Scanning for Pnp cards...
isapnp: No Plug & Play device found
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
DMI 2.3 present.
29 structures occupying 956 bytes.
DMI table at 0x000F04F0.
BIOS Vendor: American Megatrends Inc.
BIOS Version: 62710
BIOS Release: 07/12/2000
System Vendor: American Megatrends Inc..
Product Name: VIA694X/686A.
Version 0000000.
Serial Number 00000000.
Board Vendor: GIGABYTE.
Board Name: 6VX7-4X.
Board Version: 1.0.
Asset Tag: 0000000.
Starting kswapd v1.8
parport0: PC-style at 0x378, irq 7 [PCSPP,TRISTATE,EPP]
parport0: cpp_daisy: aa5500ff(18)
parport0: assign_addrs: aa5500ff(18)
parport0: Printer, EPSON Stylus
parport_pc: Via 686A parallel port: io=0x378, irq=7
pty: 256 Unix98 ptys configured
lp0: using parport0 (interrupt-driven).
Uniform Multi-Platform E-IDE driver Revision: 6.31
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
VP_IDE: IDE controller on PCI bus 00 dev 39
VP_IDE: chipset revision 6
VP_IDE: not 100% native mode: will probe irqs later
VP_IDE: VIA vt82c686a IDE UDMA66 controller on pci0:7.1
    ide0: BM-DMA at 0xffa0-0xffa7, BIOS settings: hda:DMA, hdb:pio
    ide1: BM-DMA at 0xffa8-0xffaf, BIOS settings: hdc:DMA, hdd:pio
hda: Maxtor 90432D2, ATA DISK drive
hdc: CRD-8320B, ATAPI CDROM drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: 8440992 sectors (4322 MB) w/512KiB Cache, CHS=525/255/63, UDMA(33)
hdc: ATAPI 32X CD-ROM drive, 128kB Cache, DMA
Uniform CD-ROM driver Revision: 3.12
Partition check:
 hda: hda1 hda2 &lt; hda5 hda6 &gt;
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
Serial driver version 5.02 (2000-08-09) with MANY_PORTS SHARE_IRQ SERIAL_PCI 
ISAPNP enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
PPP generic driver version 2.4.1
PPP Deflate Compression module registered
PPP BSD Compression module registered
Linux agpgart interface v0.99 (c) Jeff Hartmann
agpgart: Maximum main memory to use for agp memory: 94M
agpgart: Detected Via Apollo Pro chipset
agpgart: AGP aperture is 64M @ 0xe0000000
[drm] AGP 0.99 on VIA Apollo Pro @ 0xe0000000 64MB
[drm] Initialized mga 2.0.1 20000928 on minor 63
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 8192 bind 8192)
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 196k freed
Adding Swap: 248968k swap-space (priority -1)
es1371: version v0.27 time 02:57:47 Jan  8 2001
es1371: found chip, vendor id 0x1274 device id 0x1371 revision 0x08
PCI: Found IRQ 9 for device 00:0d.0
es1371: found es1371 rev 8 at io 0xd000 irq 9
es1371: features: joystick 0x0
ac97_codec: AC97 Audio codec, id: 0x4352:0x5913 (Cirrus Logic CS4297A)

Once again these last few lines dont appear at boot up but when I first log 
in (autologin to my user) my sound works fine, but KDE sees it as a (Cirrus 
Logic CS4297A) sound device and I can adjust the volume and such.When I log 
out and log back in I get no sound and no audio devices in my volume 
control.(invalid mixer "Cirrus Logic CS4297A" & Invalid mixer "Ensoniq 
ES1371")

The startup logs from /var/log/boot.log Are Identical for both Kernel boots.

Automounting my CD & Floppy dont work on either kernel Boots Here is the only 
error lines about it I can find in /var/log/boot.log

Jan  8 05:05:02 localhost amd: Jan  8 05:05:02 localhost amd[296]/info:  
using configuration file /etc/amd.conf
Jan  8 05:05:02 localhost amd: Cannot register service: RPC: Unable to send; 
errno = Invalid argument
Jan  8 05:05:02 localhost amd: amd startup succeeded

Any help would be appreciated, because as I stated in my previous email this 
new kernel config seems to make everything run much faster and I would like 
to be able to keep It.

Regards Matt

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
