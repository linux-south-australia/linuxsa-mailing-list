<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Kernel Mount Count Idea" -->
<!-- FromName="" -->
<!-- FromEmail="branko@senet.com.au" -->
<!-- ToName="'David Lloyd'" -->
<!-- ToEmail="lloy0076@rebel.net.au" -->
<!-- Date="Sat, 6 Jan 2001 23:00:39 +1030 (CST)" -->
<!-- Id="E14EsUZ-0001Iz-00@scorpio" -->
<!-- Reference="3A56D1AA.AB9D5FF3@rebel.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Kernel Mount Count Idea</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:branko@senet.com.au">branko@senet.com.au</A></I>&gt;
  To  : David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  Date: Sat, 6 Jan 2001 23:00:39 +1030 (CST)
</PRE>
<H1>Re: Kernel Mount Count Idea</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
David,

Don't let this prevent you from writing your hack, but take a look at
"tune2fs".  This could be used to stagger the fsck intervals on your
4 partitions so that they don't all happen at once.  

However, this may kill that hack... if all 4 partitions are on the
same drive, then doing them in parallel may cause each process to
compete with each other for access to the heads.  Anticipated
time saving may not be realised.

Cheers
-- 
Branko Bratkovic
<A HREF="mailto:branko@senet.com.au">branko@senet.com.au</A>

&gt;The kernel keeps track of the number of times that you have mounted any
&gt;one particular partition. If that partitions is marked as being
&gt;checkable (i.e. run fsck on it at initialisation) the kernel initiates
&gt;this process. It appears that most partitions will fsck on the same
&gt;time, however because of the way the system is initialised fsck does not
&gt;parallelize; that is to say it runs sequentially.
&gt;
&gt;Does anyone think that it would be useful to hack in something like:
&gt;
&gt;1) do start up stuff
&gt;2) read /etc/fstab
&gt;3) get mount counts for all file systems to be mounted
&gt;4) determine which ones need to be fsck'ed
&gt;5) run a parallel fsck on them all
&gt;
&gt;This should, in theory, make systems start more quickly. The reason I am
&gt;thinking this is that if you are in a production situation and you have
&gt;to reboot, having 4 of your partitions fsck sequentially with no warning
&gt;can be stressful...
&gt;
&gt;DL

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
