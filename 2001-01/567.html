<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Squid and DNS Question" -->
<!-- FromName="'David Lloyd'" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="'John Edwards'" -->
<!-- ToEmail="isplist@pinnacle.net.au" -->
<!-- Date="Sun, 14 Jan 2001 08:29:29 +1030" -->
<!-- Id="3A60CFC1.3ED942E@rebel.net.au" -->
<!-- Reference="003c01c07d69$20b5d740$0800a8c0@duel.pinnacle.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Squid and DNS Question</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : John Edwards &lt;<I><A HREF="mailto:isplist@pinnacle.net.au">isplist@pinnacle.net.au</A></I>&gt;
  Date: Sun, 14 Jan 2001 08:29:29 +1030
</PRE>
<H1>Re: Squid and DNS Question</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
John and Jake!


&gt; &gt;My end goal is to serve a particular page no matter what IP address or
&gt; &gt;DNS hostname is given to a web server. The server will:

Yes, only ever one connection not even connected to the Internet.

&gt; This probably isn't a good way to do it, since
&gt; a) the client will need to be configured to use your DNS (or have DNS
&gt; transproxied also)

Agreed. Although I agree in principle:

* people who know how to change their DNS will also know how to work out
what's wrong
* people who don't know how to change their DNS, well, won't change
their DNS from what it already has been

&gt; b) more than just a http client will be trying to lookup stuff this way
&gt; (ICQ, mail checkers, MS-ie5 proxy auto-discovery.. etc).

I'm going to point blank either block them, or they'll be not connected
through to the Internet anyway :-P But for ease of administration, the
next way (2nd way) seems much simpler...

&gt; Yes, it is possible!

Something told me it was, but I couldn't see the detail for the trees.
Squid seems to have a configuration file almost as complex as Samba...

&gt; If you use squid's redirector feature, you can make it always re-write the
&gt; URL to return the page you want to return. ie, in the squid.conf <A HREF="file:">file:</A>
&gt; 
&gt; redirect_program /usr/local/bin/redirect.pl
&gt; redirect_children 5
&gt; 
&gt; and in redirect.pl (off the top of my head, YMMV):

&lt;snip&gt;
Looks OK to me
&lt;/snip&gt;

&gt; Now, to really answer your question, why use squid at all?

Ummm, because I hadn't thought of using a transpoxy to port 80 and
serving an error page :-) In fact, I think I'll be able to get away with
NOT redirecting them anywhere and serve an error page up immediately. I
don't _need_ a web server to serve them and in fact it would be in my
clients' best interests to have the page load ASAP because of the serial
way we're setting this up.

Thanks for both of your help :-)

DL

-- 
Compromise or death, 
 he fought 'til his last breath
 he never had it in him to surrender
Just like me he never could surrender!

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
