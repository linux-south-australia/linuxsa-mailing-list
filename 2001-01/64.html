<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: which line does sendmail access denial apply to?" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="'Alan Kennington'" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Thu, 04 Jan 2001 16:58:24 +1030" -->
<!-- Id="3A541808.7D583011@aarnet.edu.au" -->
<!-- Reference="20010104141236.A31166@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: which line does sendmail access denial apply to?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  Date: Thu, 04 Jan 2001 16:58:24 +1030
</PRE>
<H1>Re: which line does sendmail access denial apply to?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Alan Kennington wrote:
&gt; 
&gt; Now suppose I create a file /etc/mail/access.db
&gt; containing a bunch of domains and addresses.
&gt; 
&gt; Question:
&gt; Which lines do the access denials refer to?
&gt; 
&gt; Since the most authentic line is probably the "Received:"
&gt; line (e.g. a couple of weeks ago, I got an email
&gt; which was "From" someone at ibm.com, but "Received:"
&gt; from somewhere completely different), I'd like to know
&gt; which domain name I should be putting in the
&gt; access.db file.

The "MAIL FROM" part of the SMTP protocol is what
sendmail looks at, this is called the "sender listed
in the envelope".  The "From" header is merely informational
and is referred to as the "sender listed in the header".

sendmail copies the "MAIL FROM" address into a
"Received" header.

In short, use the address from the Received header
in the access database.

You can also discard a lot of spam by requesting
that sendmail check that the domain name part
supplied by MAIL FROM exists in DNS.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
