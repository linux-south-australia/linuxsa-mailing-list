<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Portable server-side Java rare-to-impossible [LONG]" -->
<!-- FromName="'Michael Gratton'" -->
<!-- FromEmail="mike@vee.net" -->
<!-- ToName="'Dan Shearer'" -->
<!-- ToEmail="dan@tellurian.com.au" -->
<!-- Date="Thu, 24 Oct 2002 14:09:42 +0930" -->
<!-- Id="3DB7798E.7070309@vee.net" -->
<!-- Reference="Pine.LNX.4.21.0210241027290.14221-100000@calulu.shearer.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Portable server-side Java rare-to-impossible [LONG]</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Gratton &lt;<I><A HREF="mailto:mike@vee.net">mike@vee.net</A></I>&gt;
  To  : Dan Shearer &lt;<I><A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A></I>&gt;
  Date: Thu, 24 Oct 2002 14:09:42 +0930
</PRE>
<H1>Re: Portable server-side Java rare-to-impossible [LONG]</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Dan Shearer wrote:

&gt; Right now, though, people doing either big business things on Linux (s390,
&gt; PPC64, Alpha) or small business things (ARM, MIPS, SH and plenty more)
&gt; haven't got good options.

Hmm, I think Linux is the keyword here, unfortunately. Most (all?) of 
those arches have a Java2 runtime available for the vendor's OS. IBM 
provides it's own runtimes, I know there's a J2ME JVM for WinCE 
machines like iPaqs, and I'm pretty sure a Java2 port for Alphas existed 
running whatever the DiComHP UN*X was called back then. IIRC, I heard 
someone getting the Alpha JVM running under under emulation under 
FreeBSD/Alpha once.

So, if you're running the vendor's OS, then you're fine. But yes, Java 
on Linux suffers under the more esoteric arches.

&gt;  There are a lot of companies in both areas. I
&gt; don't know if PDAs and phones are esoteric architectures, maybe they are
&gt; because they aren't i386.

PDAs and phones usually are targets for J2ME or Personal Java or 
similar, so you'd probably have trouble running a modern servlet 
container on them anyway. They're a whole different kettle of fish. :)

&gt; Aren't these related? Getting critical mass seems to be hard, and that may
&gt; well be because so many people have problems with the licensing.

Yeah, I guess so. I'd say the license exacerbates the problem. You need 
a fair few people working on a port becuase of the complexity, but the 
licensing restrictions cut down the number of people who can or are even 
willing work on the port.

The FreeBSD Java porting process (which I've been following for a large 
number of years) has been long and drawn out becuase there's just not 
enough bodies doing the hard, gritty, porting work. A lot of progress 
has been made regardless: The port for 1.2 with the classic JVM (i.e., 
no JIT) has been usable for some time, and quite recently the 1.3 and 
1.4 ports with HotSpot are nearing a usable state, but none of them are 
by any means perfect.

As the ports progress, the emphasis changes from fixing big, blocking 
problems - which usually require serious knowledge of the internals - to 
less massive changes; debugging and fixing the edge cases. Here, people 
who are less familiar with the internals can really help; "given enough 
eyeballs, ..." etc. etc. This is where the onerous licensing hurts the most.

Sun's licensing only has an indirect effect on clean-room 
implementations like GCJ and Classpath, however. So I would suggest that 
the complexity for these projetcs really is the big blocker.

&gt; I don't know very much about what it takes to port a JVM. 

[snip]

&gt;  Is
&gt; it just performance that requires assembler, or what?


AFAIK, an annoying amount of assembly is used, mostly in HotSpot, the 
most performance-critical part of the whole runtime environment, but 
also in places in the actual JVM as well. There is also a lot of twisty 
threading and OS-specific code, again mostly in HotSpot and to a lesser 
degree in the JVM. This can consume a lot of the porting effort as well, 
and has been a big problem with the FreeBSD ports.

Porting the API is less of a problem, because most of the implementation 
is pure Java. Some of the native parts of that may need some work, but 
most of native code either interfaces to either fairly standard 
libraries, or directly to the JVM and/or JIT. The AWT being the usual 
exception to this rule, of course.

A clean room effort is a huge task compared to a straight port, because 
the enitre Java implementation of the API must be rewritten as well as 
all of the above.

/mike

-- 
Mike Gratton &lt;jabber:<A HREF="mailto:mjg@jabber.vee.net">mjg@jabber.vee.net</A>&gt; &lt;<A HREF="http://web.vee.net/&gt">http://web.vee.net/&gt</A>;
"Heresy! Heresy! Heres... mmm, XDonuts."
  - Mark Pilgrim vs The Parable of the Languages

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
