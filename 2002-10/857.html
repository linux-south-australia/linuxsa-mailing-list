<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Lazy Programmers (was: Re: Floating Point (was: diskless firewall?))" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 15 Oct 2002 16:42:50 +0930" -->
<!-- Id="3DABBFF2.7010001@aarnet.edu.au" -->
<!-- Reference="OF7B774ABB.873C0AE4-ONE9256C53.001166DB-E9256C53.00113A22@LocalDomain" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Lazy Programmers (was: Re: Floating Point (was: diskless firewall?))</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 15 Oct 2002 16:42:50 +0930
</PRE>
<H1>Re: Lazy Programmers (was: Re: Floating Point (was: diskless firewall?))</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; But when a maths functions take 10 clock cycles and a lookup takes 4 which
&gt; do you choose ?

I spent my first three years out of university fixing the
floating point mistakes of programmers that thought that
table lookups were faster than floating point without
asking why something that run outside the silicon of the
CPU would be faster than something that run inside the
CPU.

glibc's math functions are good and Intel have a reasonable
FP implementation.  GCC is a bad math compiler, there are
alternatives (Lahey).

If you are going to use lookup tables than please don't use
them in multi-step calculations.  That is, have a table that
does the *entire* math problem rather than one that just
does sin(x).  Then validate the values (inlcuding for underflow)
before you do the lookup.  If you are going to automatically
create the contents of the table then don't do this using
Perl and don't write the results as program source, read them
from a file as raw FP values and retain the extra bits of
precision.

That should help you avoid most traps as long as you don't
do division with the result.

Note that tables often *aren't* faster than FP once you've
accounted for the CPU cache effects of the table.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
