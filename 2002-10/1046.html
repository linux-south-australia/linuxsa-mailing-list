<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: DNS Lookups" -->
<!-- FromName="'Jim O'Halloran'" -->
<!-- FromEmail="jim@kendle.com.au" -->
<!-- ToName="'Andrew Pullin'," -->
<!-- ToEmail="andrew@hotspurbgc.com.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 17 Oct 2002 15:24:44 +0930" -->
<!-- Id="C16C7A51BA30D51187EE0000E8D8C9972F88F6@int-gw.kendle.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: DNS Lookups</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jim O &lt;<I><A HREF="mailto:jim@kendle.com.au">jim@kendle.com.au</A></I>&gt;
  To  : Andrew Pullin &lt;<I><A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 17 Oct 2002 15:24:44 +0930
</PRE>
<H1>RE: DNS Lookups</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Andrew,

I was recently setting up an RH7.3 machine as a NAT gateway...  I found I
could ping domain names from the Linux box itself, but named on the gateway
didn't seem to be working.  which meant that  I couldn't ping domain names
from a windows box on the "private" side of the NAT box.  I ended up adding
a forwarders line in my /etc/named.conf file like so...


options {
        directory "/var/named";
        forwarders { 139.130.4.4; };
};

... so that the named on this machine will forward all queries to Telstra's
DNS for resolution.

Hope that helps.

Jim.

-----Original Message-----
From: Andrew Pullin [mailto:<A HREF="mailto:andrew@hotspurbgc.com.au">andrew@hotspurbgc.com.au</A>]
Sent: Thursday, 17 October 2002 15:10
To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Subject: DNS Lookups


Hi All,
    Before I start my new question, thanks to all who helped
with my Apache problem. It still doesn't work 100% the way
it was supposed to, but the important bit does. It was
solved by individually listing the <A HREF="http://server.site">http://server.site</A> , and
<A HREF="http://www.site">http://www.site</A> separately on the Telstra DNS servers.

    Speaking of DNS, I have run across this problem before
and forgotten how to fix it, and it sounds similar to the
"Internet access" thread that has been running today, but
the suggestions haven't fixed this problem.

    I have just installed a dual boot machine with RH7.3,
(yeah I know RH8.0 is out but it was handy at the time and
was adequate for the task). Now normally I don't have any
problems setting up a new machine and getting it working,
but this is the first time I have set up 7.3 and so I am
sure that this problem is something turned off by default I
am not aware of or something that has changed.

    Basically what is happening is that the Windoze side
works fine (ie. mail, surfing etc.), but when I dual boot
into Linux, routing is working (I can ping IP addresses),
but DNS lookups are not (I cannot ping domain names, or surf
or nslookup etc).

    I have checked my /etc/resolve.conf file and it has the
name servers correctly. I have checked /etc/hosts,
/etc/hosts.allow and /etc/hosts.deny and they are set up
properly. Routing is working properly and route -n returns
the correct gateway information. The gateway server is set
up correctly to let requests through from this machine (well
it works for windoze and has worked for Linux using the same
IP addresses before).  The machine in question has an IP
allocated to this network and Telstra DNS "knows" about this
machine.

    From the similar discussion on the "Internet access"
thread, I have turned off iptables (the gateway firewall is
keeping people out that need to be at present). I have set
up ipchains on the dual boot machine just in case. shorewall
is not installed, and prelude seems to refer to the scheme
interpreter and nothing else. Now I know this is a simple
fix and I will probably say "Doh!" when I see it, but your
help would be greatly appreciated. TIA.
    Cheers!
        Andrew.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on
irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
