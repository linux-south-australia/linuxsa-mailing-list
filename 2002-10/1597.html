<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Lightning Strike?" -->
<!-- FromName="'Adam Smith'" -->
<!-- FromEmail="adam.smith@sageautomation.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 31 Oct 2002 16:55:18 +1030" -->
<!-- Id="000001c280a6$48a5ff40$e209a8c0@bugman" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Lightning Strike?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Adam Smith &lt;<I><A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 31 Oct 2002 16:55:18 +1030
</PRE>
<H1>Lightning Strike?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
We put in a the traffic monitoring system down on the Southern
Expressway in which a panel is located along the Expressway every few
kilometers, and this panel contains a small unit running a trimmed
version of Red Hat 6.3.

The system monitors inputs from the plates under the roadway and they do
things like check to see the boom gates are operational and things like
that, I think.

Last night there was a lightning strike, and it would appear that about
ten of these units were affected by it.  Each unit has six serial ports,
and several of them have one or two serial ports that have suddenly all
failed at once -- of which you would assume the nearby lightning strike
must have been responsible.  Each unit runs a process (midgetd) which
controls all of the inputs and such that it collects from the devices
out under the roadway.  Upon booting, this process reads from a
configuration file to get its parameters while it is loaded.

On all of these units that have failed, the midgetd configuration file
has been overwritten with data from somewhere else on the disk (eg. One
was half full of a different log file while the remainder of the file
contained binary data.)  None of the other files seem to be affected.
The operating system boots with no problems.

The systems runs from flash memory, and let's not forget that the same
symptoms occur on at least ten of these identical units.

I am under the assumption that the lightning strike must have affected
the midgetd process somehow, causing it to overwrite its configuration
file with garbage.  

Does this sound feasible?  
If so, why would it only be the single configuration file, and not other
files on the disk?  
Is it because the midgetd process may have been affected by the strike,
and then because the process was reading the file at the time, this
somehow caused it to obliterate it?

Or are the results of nearby lightning strikes just too unpredictable?

The guys from Transport SA (or whatever the department is) want a brief
report as to why these units failed, and I would like some opinions on
what I've said above to ensure my report is concise and as correct as
possible.

On a side note, this lightning strike managed to take out their
microwave link, too, which meant they couldn't even send data back to
head-office ;P


Thanking you!

--
Adam Smith
Information Technology Officer
SAGE Automation Ltd.

<A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A>
<A HREF="http://www.sageautomation.com">http://www.sageautomation.com</A>

Phone:   (08) 8276 0703
Fax:     (08) 8276 0799
Mobile:  0414 895 273


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
