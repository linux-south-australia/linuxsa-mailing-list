<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Problems with RedHat 7.3 (2.4.18smp) on SuperMicro P4DPE dual Xeon" -->
<!-- FromName="'Illusion Weaver'" -->
<!-- FromEmail="indigo@mail.bg" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 21 Oct 2002 20:41:58 +0300 (EEST)" -->
<!-- Id="1035222118.3db43c665f1d7@mail.bg" -->
<!-- Reference="3DB26319.20308@ozonline.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Problems with RedHat 7.3 (2.4.18smp) on SuperMicro P4DPE dual Xeon</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Illusion Weaver &lt;<I><A HREF="mailto:indigo@mail.bg">indigo@mail.bg</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 21 Oct 2002 20:41:58 +0300 (EEST)
</PRE>
<H1>Re: Problems with RedHat 7.3 (2.4.18smp) on SuperMicro P4DPE dual Xeon</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Damien (thank you for the response!)was right - kernel 2.4 recognizes 
Xeon's hyperthreading units like separate CPUs. About the "800MHz" - it 
turned out that they realy run at this frequency - the support guy has 
forgotten to set the cpu multiplyer correctly :-).
After recompiling php,apache and 2.4.19 kernel the machine has stabilized 
and now is running well. But still there are things to be done:
Even with new recompiled 2.4.19smp kernel there are annoing dmesg entry:
1.
mtrr: your CPUs had inconsistent fixed MTRR settings
mtrr: probably your BIOS does not setup all CPUs
2.
localhost kernel:  WARNING: unexpected IO-APIC, please mail
localhost kernel:           to <A HREF="mailto:linux-smp@vger.kernel.org">linux-smp@vger.kernel.org</A>
3.
[<A HREF="mailto:root@localhost">root@localhost</A> root]# cat /proc/interrupts
           CPU0       CPU1       CPU2       CPU3       
  0:    3326772          0          0          0    IO-APIC-edge  timer
  1:          3          0          0          0    IO-APIC-edge  keyboard
  2:          0          0          0          0          XT-PIC  cascade
  8:          1          0          0          0    IO-APIC-edge  rtc
 14:          6          0          0          1    IO-APIC-edge  ide0
 17:   45414153          0          0          0   IO-APIC-level  eth0
100:     181124          0          0          0   IO-APIC-level  aic7xxx
NMI:          0          0          0          0 
LOC:    3326760    3326758    3326750    3326757 
ERR:          0
MIS:          0


After some google-ing I found other people having similar problem ( there 
are some patches for 2.4.18 and APIC and irq but i wonder isn't it fixed 
in 2.4.19?) - if somebody can help?

Damien Uern &lt;<A HREF="mailto:carrigan@ozonline.com.au">carrigan@ozonline.com.au</A>&gt;:
&gt; The 4 CPU's it's detecting may possibly be 4 logical CPU's 
&gt; (hyperthreading), not sure about the 800MHz. I think only recently in 
&gt; kernel 2.5.x has the kernel become hyperthreading aware (old kernels 
&gt; will still work, just not take full advantage of hyperthreading). Not 
&gt; sure about the other problems, you could try compiling a vanilla 2.4.19
&gt; 
&gt; SMP kernel yourself and enabling only what you need. Other than that, 
&gt; you'll have to wait for the more knowledgeable people to reply :)
&gt; 
&gt; Damien

__________________________________
12MB-POP3-WAP-SMS---TOBA-E-mail.bG
----------------------------------

" Ako uckame u Bue agpec B mail.bg 
ugeme myk: <A HREF="http://www.mail.bg/new/">http://www.mail.bg/new/</A> "

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
