<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Samba query" -->
<!-- FromName="'Dan Shearer'" -->
<!-- FromEmail="dan@tellurian.com.au" -->
<!-- ToName="'Daryl Tester'" -->
<!-- ToEmail="Daryl.Tester@iocane.com.au" -->
<!-- Date="Wed, 30 Oct 2002 00:10:39 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.21.0210300000470.8704-100000@calulu.shearer.org" -->
<!-- Reference="3DBE5BAB.7B09178A@iocane.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Samba query</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Dan Shearer &lt;<I><A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A></I>&gt;
  To  : Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;
  Date: Wed, 30 Oct 2002 00:10:39 +1030 (CST)
</PRE>
<H1>Re: Samba query</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 29 Oct 2002, Daryl Tester wrote:

&gt; Daryl Tester wrote:
&gt; 
&gt; &gt; David Sambell wrote:
&gt; 
&gt; &gt;&gt; Samba will change ascii files automatically under certain circumstances.
&gt; &gt;&gt; This has most to do with the conversion between dos and unix style line terminations.
&gt; 
&gt; &gt; I believe it can be configured to do so.
&gt; 
&gt; Nope - colour me full of rubbish, I can't find the option now, so I was probably making
&gt; it all up.

No you didn't. There have been numerous patches done for Samba which do
automatic translation on the fly for all sorts of purposes, especially
CRLF conversions. I remember at least two back at 1.9.18 and more since.
None of them were included and I doubt any ever will be.

The problem is always in the detection. There is simply no way of being
sure 100% of the time that what you guessed is a file that needs
converting in fact really is. Some of the time you are going to give the
user a nasty surprise.

Then there's the filesize issue. When an application does file save of a
something it knows is 20k, who can reliably predict the app won't mind if
the file is actually 18k when written to the server and stripped of all
those CRs? If it rereads the directory information immediately and notices
it might well complain that there's been corruption. And too bad if there
are checksums being kept somewhere. Etc.

The VFS layer in Samba allows free reign to all that creativity. You can
implement a conversion scheme and then apply it to particular sharenames.
But this will be a site-specific solution rather than something
distributed with Samba.

--
Dan Shearer
Open Source Manager
Mob: +61 411 49 1800
Tel: +61 8 8130 3104
<A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
