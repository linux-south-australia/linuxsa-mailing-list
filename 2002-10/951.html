<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IP-masquerading / firewalling with IRC" -->
<!-- FromName="'Daniel Mundy'" -->
<!-- FromEmail="djmunds@gmx.net" -->
<!-- ToName="'Linux SA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 16 Oct 2002 12:56:14 +0930" -->
<!-- Id="20021016032614.GB23740@xion.void" -->
<!-- Reference="1034726630.14530.11.camel@elmo.hawesy.org.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IP-masquerading / firewalling with IRC</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daniel Mundy &lt;<I><A HREF="mailto:djmunds@gmx.net">djmunds@gmx.net</A></I>&gt;
  To  : Linux SA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 16 Oct 2002 12:56:14 +0930
</PRE>
<H1>Re: IP-masquerading / firewalling with IRC</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
* Adam Hawes (<A HREF="mailto:ahawes@ihug.com.au">ahawes@ihug.com.au</A>) wrote:
&gt; On Wed, 2002-10-16 at 09:13, Mcleod, Ian wrote:
&gt; &gt; Does this make sense to people?  I thought the best security it to just DROP
&gt; &gt; the packets - although I imagine I can enable TCP RESET for one port only.

If you have no other services already being let through, then using DROP
instead of REJECT will make your box effectively invisible to scans. If
there /are/ other ports already visible, it doesn't make much difference.

&gt; If you drop the packets the IRC server will sit at the other end until
&gt; it's TCP connection times out.  With TCP it expects a reply if it can't
&gt; connect to an IP/port.  if you reject with tcp-reset the server gets its
&gt; reply immediately and carries on.

Right. So if you DROP the packet, you will still be able to irc (unless
the server *requires* the ident server to reply) but if you REJECT the
packet you will not get the delay. The usual security vs. convinience
issue that needs to be given thought.

&gt; As far as you're concerned DROP and REJECT are the same thing; packets
&gt; never make it past (or even into) your firewall.  The exception is that
&gt; port 113 looks like it exists, rather than your machine just not
&gt; replying (looking like it is not there).
&gt; 
&gt; One thing I was going to ask the list:  is it possible to set iptables
&gt; to only reject a packet if there is an OUTGOING connection from my
&gt; machine to the machine the packet originates from?  Otherwise I want to
&gt; drop the packet.  It's a little more stateful and to random scanners it
&gt; looks like ident isn't there.  To things like IRC (and some web) servers
&gt; it just appears closed so that they don't take forever to respond.

Interesting idea, I guess the --state RELATED (from the iptables
manpage: "meaning that  the  packet  is  starting a new connection, but
is associated with an existing connection, such as an FTP data transfer,
or an ICMP error.") match is what you would use for this.

Daniel

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
