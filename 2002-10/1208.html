<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: System outages" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="'Andrew Galdes'" -->
<!-- ToEmail="AGaldes@elders.com.au" -->
<!-- Date="Mon, 21 Oct 2002 18:33:09 +0930" -->
<!-- Id="3DB3C2CD.3050404@aarnet.edu.au" -->
<!-- Reference="C4F0D9D424216A408BE98AEE84EAA3EF6946@adlex2.elderslimited.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: System outages</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : Andrew Galdes &lt;<I><A HREF="mailto:AGaldes@elders.com.au">AGaldes@elders.com.au</A></I>&gt;
  Date: Mon, 21 Oct 2002 18:33:09 +0930
</PRE>
<H1>Re: System outages</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Andrew Galdes wrote:
&gt; I would like to know what most often causes your LINUX (i don't car about NT
&gt; or other) servers to go down. Is it over load (of whatever it is doing),
&gt; directly user related errors or perhaps software bugs/viruses? 
&gt; 
&gt; I don't mean to go too specific but just something general. Ta muchly.

We keep stats, a quick look suggests the rankings are:

  1. C library bug fix (init uses the C library, so you need
     to restart init)
  2. Kernel upgrade
  3. Tripwire database creation/update (single mode)
  4. Operating system upgrade
  4. New disk set (usually combined with OS upgrade)
  5. After disk failure (the disk is hot swapped, this is to
     make sure that the machine will sucessfully reboot, rather
     than finding that out much later on).
  6. technican error and poor practice (oh, *that* cable)
  7. single mode (non-tripwire)
  8. system compromise (before, and the inspiration for, automated
     RPM maintenance)
  9. Scheduled UPS power fail (test or maintenance)
10. init system bug fix
11. Unscheduled UPS power fail -- clean shutdown

This might be slightly wrong, I'm doing this by eye and trying
to exclude the test machines (which obviously have stuff-all
uptime).

We're not happy with our stats collecting, as the machines
also go unavailable due to network events but it's unclear
how to classify these (a failure of the ethernet switch the
box is plugged into should count towards the unavailability
of the machine).

Also, the failure of a single machine is decreasingly related
to *service* availability.  These tend to go unavailable due
to entirely different reasons (DNS, BGP, DoS, etc).

We've only ever lost the mirror due to load ('lost' for that
service being no response to a HTTP GET after 30s), but that's
a Slowaris box (more reasonably, it was serving 2Gbps of
traffic at the time).  My feel is that Solaris dies more
gracefully under load than Linux, some would say that the
SPARC's performance makes this essential :-)

You need to be careful about 'bugs'.  You don't care about
99% of the bugs.  Patch and move on.  But just one bug effecting
the facility for which the machine exists can make your
life a misery.

This is *the* enterprise argument for open source, as normally
you're beholden to the vendor in this circumstance ("we might
fix it in version 1.02d which might ship in the 2nd quarter
after hell freezes over").  Open source lets you, or your
favoured gun-for-hire programmer, kill the bug.

-- 
  Glen Turner                                 Network Engineer
  (08) 8303 3936      Australian Academic and Research Network
  <A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>          <A HREF="http://www.aarnet.edu.au/">http://www.aarnet.edu.au/</A>
--
  The revolution will not be televised, it will be digitised

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
