<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Ghost 7.0 no good.  Kernel Panic" -->
<!-- FromName="'Lists'" -->
<!-- FromEmail="list@davey.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="mwestern@affairs.net.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 4 Oct 2002 13:37:19 +0930" -->
<!-- Id="GNECLCLHIFNNAHMOKHDPGEBLDFAA.list@davey.net.au" -->
<!-- Reference="FD14944A4C95D211AF350004AC4C55A4064182F7@mx.sola.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Ghost 7.0 no good.  Kernel Panic</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Lists &lt;<I><A HREF="mailto:list@davey.net.au">list@davey.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:mwestern@affairs.net.au">mwestern@affairs.net.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 4 Oct 2002 13:37:19 +0930
</PRE>
<H1>RE: Ghost 7.0 no good.  Kernel Panic</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Fri, 2002-10-04 at 09:33, Barney Wrightson wrote:
&gt; Matthew Western wrote:
&gt; &gt; Hi All,
&gt; &gt; As the title states, i've just tried everything in the book to ghost
a
&gt; &gt; redhat 7.3 across to an identical drive.  It boots up until it tries
to
&gt; &gt; mount one of the ext3 partitions.  Then it all goes pearshaped and
does
a
&gt; &gt; kernel panic:
&gt; &gt;
&gt; &gt; Loading ext3 module
&gt; &gt; Mounting /proc filesystem
&gt; &gt; Creating root device
&gt; &gt; Mounting root filesystem
&gt; &gt; EXT3 - fs : journal inode is deleted
&gt; &gt; mount:  error 22 mounting ext3
&gt; &gt; pivotroot: pivot_root(/sysroot, /sysroot/initd) failed: 2
&gt; &gt; Freeing unused kernel memory: 280k freed
&gt; &gt; Kernel panic: No init found: try passing init = option to kernel
&gt; &gt;

Easy......
Ghost 7.0 does not recognise ext3 only ext2

Fix

Assuming Ghosted drive is now /dev/hda

.
Boot with RH Distribution CD-1. At the install menu type in 'linux
rescue'

When you get to the bash prompt.   'e2fsck /dev/hdaX'
for all your partitions.
This removes the journal


Then do 'tune2fs -j -i 180d -c 30 /dev/hdaX'
for all your partitions.
This adds a new journal and sets autofsck to 180 days or 30 mounts

reboot

Often this is all that is required but sometimes you need to
re enter linux rescue and do the following

chroot /mnt/sysimage
mount /boot

lilo (if you're using lilo.)

then reboot

Volia!


It's all on GOOGLE...

-- Regards John

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
