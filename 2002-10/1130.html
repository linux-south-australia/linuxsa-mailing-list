<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Network QOS and DL Limit management (Longish)" -->
<!-- FromName="'michael'" -->
<!-- FromEmail="michael@home.lyppard.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 20 Oct 2002 18:37:19 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.10.10210201811080.2924-100000@sandwich.home.lyppard.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Network QOS and DL Limit management (Longish)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: michael &lt;<I><A HREF="mailto:michael@home.lyppard.com.au">michael@home.lyppard.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sun, 20 Oct 2002 18:37:19 +0930 (CST)
</PRE>
<H1>Network QOS and DL Limit management (Longish)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi.

I'm looking for suggestions for maintaining good internet performance for
all users of my small network, and limiting the impact of download hungry
teenagers within it :)

Currently, I have:

--- Internet ---
       |
---  IPCop   ---
       |\
       |_\__ Lan users
       | /
--- MAil/FTP/SSH server

What I'd like to do would be to limit any one user (by IP Address) from
maxing out the internet connection by using multi threaded downloads
(Kazaa et al.), so that every user sees reasonable performance.

Also, I'd like to keep some sort of bandwidth quota so that the more
active users do not push the ISP account into the red. I've thought that
probably, the best approach would be to define two classes of user (high,
low), and grant say 75% of the D/L limit to the high users, and the
remainder to the low. This has the advantage of catering for the odd
visitor or lan-party that would have it's quota taken out of the high user
group's limit, leaving the low user group still able to use their quota.
The high user group would have dhcp assigned IP's and the low would be
static, or specific addresses assigned from dhcp in relation to the
ethernet MAC address.

IPCop is currently on kernel 2.2.21, and my reading of tc/tc-ng tells me
that 2.4.x is probably required for an effective QOS system. So, I'm
thinking that either IPCop gets replaced (with what?) with a distro that
can handle the QOS stuff, and the firewall function, or I change the
network layout so that my mail/ftp/ssh box becomes the gateway to the
IPCop box, and I implement the QOS stuff there:

--- Internet ---
       |
---  IPCop   ---
       |
       | &gt; Via crossover cable
       |
--- MAil/FTP/SSH server
       |
--- LAN Users --

Any suggestions/comments on best practice, and methods of implementing the
download limits?

Regards,

Michael

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
