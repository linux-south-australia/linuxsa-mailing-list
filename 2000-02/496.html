<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Transparent Proxy problems: no address for squid, please help" -->
<!-- FromName="James Morgan" -->
<!-- FromEmail="jmorgan@bigpond.net.au" -->
<!-- ToName="'Linux'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 23 Feb 2000 21:37:42 +1100" -->
<!-- Id="002501bf7dea$193e5d40$0601a8c0@vic.bigpond.net.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Transparent Proxy problems: no address for squid, please help</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Morgan &lt;<I><A HREF="mailto:jmorgan@bigpond.net.au">jmorgan@bigpond.net.au</A></I>&gt;
  To  : 'Linux' &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 23 Feb 2000 21:37:42 +1100
</PRE>
<H1>Transparent Proxy problems: no address for squid, please help</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>

I am trying to set up a transparent proxy. I know that squid works =
however when I redirect http traffic (port 80) to the proxy (port 8080) =
squid doesn't receive the address of the site it is to visit only the =
location of the page. E.g. (from access.log):

951301585.591      4 192.168.1.6 NONE/400 1103 GET /cable/flash.htm - =
NONE/- -

When I manually change the browser settings in a client machine I get an =
access.log like this:
951300687.568    247 192.168.1.6 TCP_MISS/200 7751 GET =
http://ad.au.doubleclick.net/viewad/21615-seem00063.gif - =
DIRECT/ad.au.doubleclick.net image/gif

My IP chains rules are as follows:

ipchains -A input -p tcp -s 192.168.1.0/24 -d 0/0 80 -j REDIRECT 8080

I have been looking at numerous HOW-TOs and FAQs but have not found =
anything that resembles this problem.=20

Please help.


Thank you



James Morgan



</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
