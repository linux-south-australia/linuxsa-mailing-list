<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: unwanted clock setting on reboot -- UTC mixup" -->
<!-- FromName="'Naota'" -->
<!-- FromEmail="naota@tampabay.rr.com" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 22 Oct 2003 16:52:24 -0400" -->
<!-- Id="3F96EE08.80007@tampabay.rr.com" -->
<!-- Reference="1066850837.3389.10.camel@bench.chipcity.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: unwanted clock setting on reboot -- UTC mixup</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Naota &lt;<I><A HREF="mailto:naota@tampabay.rr.com">naota@tampabay.rr.com</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 22 Oct 2003 16:52:24 -0400
</PRE>
<H1>Re: unwanted clock setting on reboot -- UTC mixup</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Luke Vanderfluit wrote:
&gt; Hi,
&gt; 
&gt; Every once in a while, usually about monthly I reboot my linux box for
&gt; whatever reason. The last couple of times that I did this, the hardware
&gt; clock (BIOS) got set to the system time, then on reboot the system added
&gt; 9:30 to that (iow there's a mixup with UTC).
&gt; So theoretically each time I reboot, I would end up adding 9:30 hours to
&gt; the system time.
&gt; This happens on power down, the exiting OS sets the hardware clock to
&gt; system time. The BIOS believes this is UTC, then on boot up the OS adds
&gt; 9:30 (for Adelaide).
&gt; 
&gt; Is there any way to tell the system to keep it's current time and not
&gt; set the hardware clock to system time on power down?
&gt; 
&gt; Thanks,
&gt; kind regards,
&gt; 
&gt; Luke
&gt; 
&gt; 

Hello,
I'd suggest using 'ntpdate'

It's really easy, and all you have to do is pick some time servers (I 
tend to pick three) in your time zone that allow open access to your 
area, and, if they require, write them an e-mail saying that you are 
going to be syncing your time with theire's.

Select time servers at <A HREF="http://www.eecis.udel.edu/~mills/ntp/servers.html">http://www.eecis.udel.edu/~mills/ntp/servers.html</A>
That isn't a direct link to it.  The links to two different lists are at 
the bottom of that page the link leads to...

Anyway, I made this script (and stuck it in /usr/local/sbin/ so that I 
could run it upon boot, by supplying its path in /etc/rc.d/rc.local):

ntpdate bonehed.lcs.mit.edu ntp.ourconcord.net

The time servers listed are for MY time zone (eastern US).

Here's my /etc/rc.d/rc.local/ with that script included:

# Sets the freakin' time, since it's always screwed up after reboot.
/usr/local/sbin/settime.sh

Anyway, enjoy.

Naota.

ntpdate on my system is a root command.








-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
