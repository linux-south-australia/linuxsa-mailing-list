<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: C code" -->
<!-- FromName="" -->
<!-- FromEmail="iwrigb@tpg.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 2 Nov 2000 04:04:50 GMT" -->
<!-- Id="200011020404.PAA10117@buffy.tpgi.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: C code</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:iwrigb@tpg.com.au">iwrigb@tpg.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 2 Nov 2000 04:04:50 GMT
</PRE>
<H1>Re: C code</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,
  the difference is that the {} syntax is used for initialising 
arrays, and can be used for arrays other than just character arrays. 
the "" syntax is a special case for character arrays, that as you 
have noticed behaves similarly to the {} syntax with characters.

On the other hand a pointer is not an array. Therfore the {} syntax 
will not work, and the "" syntax behaves diferently ie:

char *p = "whatever";

this allocates space for the pointer p, and creates a constant array 
of characters with a value equal to {'w', 'h' ..., 'r', '\0'} and 
then initialises p with the address of the constant char array. This 
is bad if you want to change the values of the characters, as the 
memory that is pointed to is constant and should not be changed, this 
is NOT the same as doing this, which allows the characters to be 
changed:

char *p;
p = new char[strlen("whatever") + 1];
strcpy(p, "whatever");

this allocates memory for the pointer p and then allocates memory for 
an array of 9 characters and puts its address in p, and finally 
copies the charecters 'w', 'h', ... 'r', '\0' into that array. This 
is much closer in operation to:

char c[9] = "whatever";
//or char c2[9] = {'w', 'h', ..., 'r', '\0'}

HTH
Barney

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
