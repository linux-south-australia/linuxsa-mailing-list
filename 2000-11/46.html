<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="C query" -->
<!-- FromName="'Paul Malcolm Bailey'" -->
<!-- FromEmail="pmbailey@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 01 Nov 2000 18:24:16 +1030" -->
<!-- Id="39FFCC28.B1BDC648@senet.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: C query</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Paul Malcolm Bailey &lt;<I><A HREF="mailto:pmbailey@senet.com.au">pmbailey@senet.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 01 Nov 2000 18:24:16 +1030
</PRE>
<H1>C query</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi.

Since I received such a good response from the list last time I had a C
query, thought I'd try my luck again with this one.  It's in regards to
arrays and pointers (yep, the fun stuff!)

The following is legal C code:

char a[] = { 'T', 'h', 'i', 's', ' ',
             's', 't', 'r', 'i', 'n', 'g', '\0' };
char b[] = "This string";

That is, a string constant is the same as a char array, and either is an
acceptable way to declare and initialise an array of characters (a
string).

So how come (if they're equivalent) I can do this:

char *p1;
p1 = "One more";

...but this...

char *p2;
p2 = { 'O', 'n', 'e', ' ', 'm', 'o', 'r', 'e', '\0' };

...renders a parse error under gcc?  (I'm guessing it's illegal.)  I
mean, an array of char is what a string constant is, right?  I mean,
apart from the '\0' character at the end of a declared and initialised
char array, a string constant is defined as an array of char, surely?


Worse still, I can do this with a pointer declaration:

char *ptr_str_1 = "Some stuff or other.";

Yet I can't even do this:

int *ptr_int_2 = 45;

(What I'm saying here is that *for only strings* I can combine a pointer
declaration with an assignment, but not for other data types.  What
gives?)

So, is there something idiosyncratic or "special" about strings and
pointers, or is it that strings and pointers are so often used together
in C that to declare and initialise a pointer with a string constant
*directly* is there as a convenience measure?  (I.e. it just saves a bit
of time.)

I hope I've put all this clearly enough.  (Oh, yes, I checked through
the C FAQ but couldn't find a substantive enough answer for this kind of
question.)

R,

Paul.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
