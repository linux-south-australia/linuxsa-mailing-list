<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Perl Script... Stuck on the passing parameters from the command line" -->
<!-- FromName="'Jason Tan'" -->
<!-- FromEmail="jason@rebel.rebel.net.au" -->
<!-- ToName="'George Patterson'" -->
<!-- ToEmail="george@laopdr.com" -->
<!-- Date="Tue, 14 Nov 2000 18:53:01 +1030 (CST)" -->
<!-- Id="Pine.LNX.3.95.1001114181558.3513I-100000@rebel.rebel.net.au" -->
<!-- Reference="3A10C93C.3B24A926@laopdr.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Perl Script... Stuck on the passing parameters from the command line</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jason Tan &lt;<I><A HREF="mailto:jason@rebel.rebel.net.au">jason@rebel.rebel.net.au</A></I>&gt;
  To  : George Patterson &lt;<I><A HREF="mailto:george@laopdr.com">george@laopdr.com</A></I>&gt;
  Date: Tue, 14 Nov 2000 18:53:01 +1030 (CST)
</PRE>
<H1>Re: Perl Script... Stuck on the passing parameters from the command line</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi George,


I am not supplying a running finshed program because I dont personally
feel that the purpose of mailing lists is to write programs for peopel
whose .sig makes it sound like they probably get paid to write programs.
(if you want me to do that please contact me off list the company I work
for charges ~$100aud per hour to do this kind of thing)

However here are some possible tips.

In perl you can:

o	find the number of arguments in @ARGV with $#ARGV. This will return the
	number of args minus 1 so if there are three args it will return
	2, if there ar no artgs it will return -1.
	In fact this works for any perl array not just @ARGV.
	So if you want to see how many elements are in @myarray
	you can examine $#myarray

	A shortcut for exmaning the number of comamnd line params and
	sending an error message if incorrect is:
	( 1 == $#ARGV ) or die "$errorMessage";

o 	execute arbitrary commands in a shell with system() man perlfunc
	for details or consult the camel book (man perlbook for details
	on the camel book)
	eg
	if you wanted to execute echo hi there you could go: 
		
	#!/usr/bin/perl
	system ("echo hello there");

By the way is there any reason you are using perl as basically a parameter
checking wrapper to a shell script? why not just do it all in sh?

You  can check the number of parameters in sh with $#

eg
#!/bin/sh

if [ $# -eq 2 ]
then
  echo 2 params
else
  echo not 2 params
fi


                                                                               
[<A HREF="mailto:jtan@dangerous">jtan@dangerous</A> jtan]$ ./test.sh param1 param2
2 params
[<A HREF="mailto:jtan@dangerous">jtan@dangerous</A> jtan]$ ./test.sh param1 param2 param3
not 2 params
[<A HREF="mailto:jtan@dangerous">jtan@dangerous</A> jtan]$ ./test.sh                     
not 2 params
[<A HREF="mailto:jtan@dangerous">jtan@dangerous</A> jtan]$ 


Regards
jason

On Tue, 14 Nov 2000, George Patterson wrote:

&gt; I'm trying to write a Perl to preform the following commands. 
&gt; 
&gt; 
&gt; if (! defined($ARGV[0]) {      
&gt;        die "Please type in the form of command user domain\n";
&gt; }
&gt; 
&gt; if !undefined($ARGV[1]) {       
&gt;        die "Please type in the form of command user domain\n";
&gt; }
&gt; 
&gt; And then do the following commands which are bash script...
&gt; mkdir user/Maildir
&gt; mkdir user/Maildir/cur
&gt; mkdir user/Maildir/new
&gt; mkdir user/Maildir/tmp
&gt; chmod -R 0700 user
&gt; cp ../george/.qmail .
&gt; chmod 0700 .qmail
&gt; chown -R popuser:popusers user
&gt; 
&gt; --
&gt; <A HREF="mailto:george@laopdr.com">george@laopdr.com</A>	/"\  Campanha da Fita ASCII - Contra Mail HTML	
&gt; Network Administrator	\ /  ASCII Ribbon Campaign - Against HTML Mail
&gt; Planet Online		 X  
&gt; Vientiane, Lao PDR  	/ \  Not needed, Not wanted, Not appreciated



-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
