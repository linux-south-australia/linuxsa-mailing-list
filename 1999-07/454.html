<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Adding Harddisk" -->
<!-- FromName="Toby Corkindale" -->
<!-- FromEmail="tjcorkin@steadycom.com.au" -->
<!-- ToName="Robert Wuttke" -->
<!-- ToEmail="robert.wuttke@disc.com.au" -->
<!-- Date="Fri, 16 Jul 1999 12:28:42 +0930" -->
<!-- Id="378E9FE2.3EEC50D2@steadycom.com.au" -->
<!-- Reference="009b01becf30$c3c68620$9d000045@robert.disc.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Adding Harddisk</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@steadycom.com.au">tjcorkin@steadycom.com.au</A></I>&gt;
  To  : Robert Wuttke &lt;<I><A HREF="mailto:robert.wuttke@disc.com.au">robert.wuttke@disc.com.au</A></I>&gt;
  Date: Fri, 16 Jul 1999 12:28:42 +0930
</PRE>
<H1>Re: Adding Harddisk</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I wouldn't use mv to copy filesystems around - while it may be okay for
a single user, copying say, his own files around his/her home directory,
it's inappropriate for multi-user use. This is because it won't maintain
the correct timestamps, permissions, ownership, links, etc.
Try using tar like this:
(cd /original/directory; tar -cf - .) | (cd /mnt/new/directory; tar -xvf
- .)

Do it as root, and it should maintain links,ownership, modes, etc.
`man tar` for details of other ways to use it.

Toby

Robert Wuttke wrote:
&gt; 
&gt; One trick here Lai, is to copy part of the /usr path to the other drive and
&gt; then use mount to mount it into usr
&gt; 
&gt; Quick one,
&gt; 
&gt; mkdir /usr/src1
&gt; 
&gt; mount /usr/src1 /dev/hdb1
&gt; 
&gt; mv src src1 - This should be okay, maybe check some of the previous mails
&gt; regarding copying or moving directories.
&gt; 
&gt; umount /dev/hdb1
&gt; 
&gt; vi vfstab
&gt; 
&gt; add an entry to mount /dev/hdb1 into /usr/src
&gt; 
&gt; rm /usr/src1
&gt; 
&gt; mount /usr/src /dev/hdb1
&gt; 
&gt; Of course you could just tar /usr/src to tape, remove the directory, mount
&gt; the new disk and then untar as well..
&gt; 
&gt; Rob.
&gt; 
&gt; -----Original Message-----
&gt; From: lai kokcheong &lt;<A HREF="mailto:dot_lai@hotmail.com">dot_lai@hotmail.com</A>&gt;
&gt; To: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A> &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
&gt; Date: Friday, 16 July 1999 10:32 AM
&gt; Subject: Adding Harddisk
&gt; 
&gt; &gt;I plan to mount another harddisk dirve to my Linux system.Unfortunately , I
&gt; &gt;have mount all of my filesystem to my previous harddisk that to can't
&gt; &gt;transfer the system file ( /usr , /var  , /home etc ) to my new drive . I
&gt; &gt;plan to transfer the /usr and /home to my new drive because the former one
&gt; &gt;is nearly full.
&gt; &gt;
&gt; &gt;I plan to put /usr and /home to this new drive so that the installation of
&gt; a
&gt; &gt;new program and creating a directory for the new user  will not be easily
&gt; &gt;fill up  the hardisk space.
&gt; &gt;
&gt; &gt;I don't think I can mv the /usr to the new drive or use tar and untar it
&gt; &gt;'coze the client is accessing from it .and I don't want to reformat it and
&gt; &gt;just tape archive the /home ?
&gt; &gt;
&gt; &gt;What is the alternative ?
&gt; &gt;
&gt; &gt;
&gt; &gt;______________________________________________________
&gt; &gt;Get Your Private, Free Email at <A HREF="http://www.hotmail.com">http://www.hotmail.com</A>
&gt; &gt;
&gt; &gt;--
&gt; &gt;Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; &gt;To unsubscribe from the LinuxSA list:
&gt; &gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; &gt;
&gt; &gt;
&gt; 
&gt; --
&gt; Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

-- 
..I started out with nothing...and I still have most of it left

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
