<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Further Strange Behaviour" -->
<!-- FromName="David Lloyd" -->
<!-- FromEmail="lloy0076@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 18 Jul 1999 02:15:05 +0930" -->
<!-- Id="3790B311.531CEBCC@senet.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Further Strange Behaviour</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@senet.com.au">lloy0076@senet.com.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Sun, 18 Jul 1999 02:15:05 +0930
</PRE>
<H1>Further Strange Behaviour</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Here is some more information:

The last few lines of my /var/log/messages are:


***
Jul 18 01:57:06 localhost ifup-ppp: pppd started for ppp0 on /dev/ttyS1
at 115200
Jul 18 01:57:06 localhost modprobe: can't locate module ppp0
Jul 18 01:57:06 localhost kernel: registered device ppp0 
Jul 18 01:57:06 localhost pppd[379]: pppd 2.3.7 started by root, uid 0
Jul 18 01:57:35 localhost pppd[379]: Serial connection established.
Jul 18 01:57:35 localhost pppd[379]: Using interface ppp0
Jul 18 01:57:35 localhost pppd[379]: Connect: ppp0 &lt;--&gt; /dev/ttyS1
Jul 18 01:57:44 localhost pppd[379]: Remote message: ^F
Jul 18 01:57:44 localhost modprobe: can't locate module ppp-compress-21
Jul 18 01:57:44 localhost modprobe: can't locate module ppp-compress-26
Jul 18 01:57:44 localhost modprobe: can't locate module ppp-compress-24
Jul 18 01:57:48 localhost pppd[379]: local  IP address 203.152.255.70
Jul 18 01:57:48 localhost pppd[379]: remote IP address 203.11.90.6
Jul 18 01:57:48 localhost modprobe: can't locate module ppp0:
***

I understand the ppp-compress lines (although if someone could remind me
of what I should alias them to under /etc/conf.modules I'd really
appreciate it).

1) I am using Kernel 2.2.10 custom compiled. I appear to be using kmod
as opposed to kerneld. 
2) My conf.modules file is empty. It only had PCMIA stuff in it and I
don't actually have that so I took it out. This has neither added to the
problem nor removed it.
3) I am certain I don't have kerneld lurking in the background
somewhere.

In addition, I have tried the following:

1) Rebuilding the kernel with PPP support as a module:
The Kernel recognises the PPP support, dials the ISP and appears to
work. I receive my local and remote IP addresses, but I don't get any
packets out via ping at all. I've tried ping www.senet.com.au, ping
203.11.90.1 and various other combinations.

I appear to be missing a connection somewhere and it's broken, but not
enough to fully kill the chat program pppd uses.

2) Rebuilding the kernel with PPP support built-in
Here's the funny part. I used to do it this way and never get this
result, so I've obviously broken something but I don't know *what*.
Nonetheless, I get reasonable ping rates from both ping www.senet.com.au
and ping 203.11.90.1. NetBloat also talks to the network.

I set my ppp connection up with linuxconf or netcfg. It actually depends
on how I feel at the time that I set it up. I don't choose anything out
of the ordinary and the options I have chosen are *exactly* as I've
chosen before and they have worked.

I use the standard RedHat 6.0 installed
/etc/sysconfig/network-scripts/ifup ppp0 to start my Internet
connection. I know this method is a little bit convoluted but it's
always worked for me with no problems at all.

I guess this comes to this question: why in the world has Kernel 2.2.10
suddenly decided that ppp0 is a loadable module when to my knowledge I
asked it not to be? Incidentally, I think the network daemon (or one of
them) has suddenly decided to bring it up at boot time along with lo
(127.000.000.1).

And for the life of me I can't see any strange quirks in any files which
would cause kmod (or for that matter even kerneld) to go searching for
modules...

Hmmm...at least it *works* but I really don't like having broken
systems...well at least not this broken...

DAVID.

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
