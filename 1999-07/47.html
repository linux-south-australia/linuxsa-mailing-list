<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: An entry in inetd doesnt work.." -->
<!-- FromName="Toby Corkindale" -->
<!-- FromEmail="tjcorkin@steadycom.com.au" -->
<!-- ToName="John" -->
<!-- ToEmail="john@fiend.securesys.com.au" -->
<!-- Date="Fri, 02 Jul 1999 16:56:53 +0930" -->
<!-- Id="377C69BD.8994B862@steadycom.com.au" -->
<!-- Reference="199907021441.AAA04737@fiend.securesys.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: An entry in inetd doesnt work..</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@steadycom.com.au">tjcorkin@steadycom.com.au</A></I>&gt;
  To  : John &lt;<I><A HREF="mailto:john@fiend.securesys.com.au">john@fiend.securesys.com.au</A></I>&gt;
  Date: Fri, 02 Jul 1999 16:56:53 +0930
</PRE>
<H1>Re: An entry in inetd doesnt work..</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
John wrote:
&gt; 
&gt; &gt; I thought inetd was just supposed to do a select() on the sockets
&gt; &gt; myself..
&gt; 
&gt;         A socket needs to be bound and listened on before you can
&gt;         call select() on it. How else do you get the file descriptor
&gt;         you need????
Bound, yes, listened, I didn't think so.
Notice that netstat doesn't show any listens for most of the things
inetd's checking for? This is my logic here, anyway.


&gt; 
&gt; &gt; It's up to your client to do the accepting and all that.
&gt; 
&gt;         Crap. Servers do the accept()ing. That's what makes them
&gt;         servers. Clients do the connect().
Terminology, terminology.
If inetd is a superserver, then the things like in.ftpd can be called
clients, even if they're servers on an ordinary level. Makes sense to me
8)

&gt; 
&gt; &gt; inetd is called a 'superserver' because it waits until there is a need
&gt; &gt; to have a server running before it starts the server...
&gt; 
&gt;         Inetd does the opening and the listening. When it detects a connect
&gt;         it calls the relevant server, with file descriptors 0-2 (stdin,
&gt;         stdout, stderr) replaced with the fd of the newly created
&gt;         connection.
&gt;         That's why servers called via inetd are different (code wise) than
&gt;         standalone servers.
What, even if it's not a TCP stream connection?

&gt; 
&gt; &gt; This way, you don't need servers running until someone tries to connect,
&gt; &gt; then the server loads, services the port, and then quits at the end.
&gt; 
&gt;         No, no, no. Look at the source code to in.*.
Yeah, okay, you're right.

&gt; 
&gt; &gt; If a server had to start up for every possible connection, then you'd
&gt; &gt; need  a million telnet/ftp/etc daemons all running just incase that many
&gt; &gt; connected.
&gt; 
&gt;         Sigh. Inetd listen()s on all ports that have servers associated with
&gt;         them. Inetd does the accept(). Then it dup2()s the file descriptor
&gt;         returned from the accept() call, and passes it to the server
&gt;         (file descriptors are transparent to execv() calls -- unless the
&gt;         CLOSE_ON_EXEC bits are set using fcntl()).
&gt; 
&gt;         You really need to read up on TCP/IP.

You really didn't read what I just said in that paragraph, did you?
At least, I can't find any relevance between what you said in reply
there, to what I said.

&gt; 
&gt; J.

-- 
..I started out with nothing...and I still have most of it left

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
