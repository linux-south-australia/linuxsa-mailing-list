<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: MIT-MAGIC COOKIES? HUH?" -->
<!-- FromName="John" -->
<!-- FromEmail="john@fiend.securesys.com.au" -->
<!-- ToName="Nick Morrison" -->
<!-- ToEmail="nickm@ior.org.au" -->
<!-- Date="Thu, 15 Jul 1999 01:20:07 +0930 (CST)" -->
<!-- Id="199907141550.BAA29112@fiend.securesys.com.au" -->
<!-- Reference="000001becd99$0d9f8100$023a10ac@nickm.ior.org.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: MIT-MAGIC COOKIES? HUH?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: John &lt;<I><A HREF="mailto:john@fiend.securesys.com.au">john@fiend.securesys.com.au</A></I>&gt;
  To  : Nick Morrison &lt;<I><A HREF="mailto:nickm@ior.org.au">nickm@ior.org.au</A></I>&gt;
  Date: Thu, 15 Jul 1999 01:20:07 +0930 (CST)
</PRE>
<H1>Re: MIT-MAGIC COOKIES? HUH?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; I had similar problems after changing the hostname or the IP of my box (ie
&gt; I've had the problem twice).  I didn't know which services to restart, so I
&gt; rebooted (*cry*).  After the reboot, things seemed to work ok.  I think it
&gt; had something to do with X only allowing connections from certain
&gt; hosts/IP's.  But I rarely use X, so I haven't found anything more out about
&gt; it.

	MIT_MAGIC_COOKIEs contain the DISPLAY number (server IP, screen no.
	& protocol no.), and a string of 16 'random' 8-bit numbers.
	The MIT_MAGIC_COOKIE is renewed everytime you login via xdm (hence
	when you changed your machine name, the cookie was no longer 
	valid, but once you logged out and back in again, you got a new
	cookie, so everything was kewl...)

	See the Xsecurity manpage for details.

&gt; Also - if you don't want session management - ummm does Gnome handle that?
&gt; I'm actually not a big fan of gnome .. IMO it provides too many nice glossy
&gt; user friendly administration tools, and nice glossy user friendly

	Damn right. Give 'em all twm(1).  :)

&gt; they instead tend to make the administrator rest on her/his laurels a bit
&gt; and not bother learning -what- the said tools are actually doing.  This is
&gt; one of the (many) reasons I dislike Microsoft products.

	...and when the GUI dies, you're left stranded. (Thankfully under
	unices, when X dies, you aren't completely dead in the water...)

[And what the heck, I'll continue answering the rest of it too...]
 
&gt; &gt; &gt; 3) Whether you can DUMP the session management...I don't want it, it's
&gt; &gt; &gt; BLOAT ware as far as I'm concerned

	Bloat? Try XDM_AUTHENTICATION_1, or SUN_DES_1. Now that's bloated.
	As for session management....Uh, given that X-windows was kinda
	designed around networked graphics terminals and remote clients,
	the session bit is going to be a bit hard to do away with...

&gt; &gt; Can you dump MIT-MAGIC-COOKIE?  I guess you mean can you open your system
&gt; &gt; to anyone who can reach it via the network?  Well, of course you can, but
&gt; &gt; much easier would be to simply remove the root password.  :-)

	Dump MIT_MAGIC_COOKIEs? Sure: 

	xauth list $DISPLAY

	Dumped. :)

&gt; &gt; I do think you might be better off finding out what the problem really
&gt; &gt; is and fixing it.  For what it's worth, having recently installed RH6,
&gt; &gt; I found all of that completely a non-issue; it's almost certainly not
&gt; &gt; that Gnome/Session Management/MIT-MAGIC-COOKIE-1 is crap, or bloat, but
&gt; &gt; that you broke something.

	If it's really broken, add the following line to your xinit script:

	xhost +

	(and don't forget to unplug from the network when you do.... :)

&gt; &gt; Good luck fixing your problem, and if I could request you keep notes and
&gt; &gt; write us a report when you've finished.  X security is something which I
&gt; &gt; am quite uncertain about, and I bet I'm not alone.

	The problem is most likely in the setup with xdm...

J.

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
