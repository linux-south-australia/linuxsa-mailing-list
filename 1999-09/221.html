<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Optimising the kernel" -->
<!-- FromName="Benjamin Close" -->
<!-- FromEmail="linux@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="miikl@bigfoot.com" -->
<!-- Date="Fri, 10 Sep 1999 15:27:35 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.10.9909101519490.2248-100000@Bytes4u.nodomain.yet" -->
<!-- Reference="19990910053910.83770.qmail@hotmail.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Optimising the kernel</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Benjamin Close &lt;<I><A HREF="mailto:linux@senet.com.au">linux@senet.com.au</A></I>&gt;
  To  : <A HREF="mailto:miikl@bigfoot.com">miikl@bigfoot.com</A>
  Date: Fri, 10 Sep 1999 15:27:35 +0930 (CST)
</PRE>
<H1>Re: Optimising the kernel</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Fri, 10 Sep 1999, Michael Wardle wrote:

&gt; What does everyone think is the best compiler for kernel building:
&gt; gcc, egcs, or pgcc?  I have Red Hat 6.0.  I think that I have gcc and egcs, 
&gt; but not pgcc.  Would this be right?  Is pgcc provided in a standard Red Hat 
&gt; distribution?

gcc = stable, least likely to fail
egcs = almost 100% stable depending on version(not tested by time yet)
pgcc = egcs & pgcc were the same thing at one point. pgcc now specializes
in intel chips and using newer instructions to optimise the code.

gcc with redhat 6 is actually still egcs - it's a symlink
To find out the version of any compiler: gcc --version

&gt; -m486 appears in the Makefile.  Is this what I should be altering?
&gt; If so, which would be appropriate for my Pentium MMX chip?
&gt; * -m586
&gt; * -mpentium
&gt; * -march=pentium

Yes, that is the line you should alter.
If I recall correctly the 3 options you listed above all do the same
thing. Can anyone verify this?

&gt; It seems that there are two types of 586's for the -march option (586 and 
&gt; 586TSC/Pentium).  Is this also applicable to the -DCPU=586 option?

Some early chips (ibm/cyrix) which claimed to be as fast as the pentium
didn't have tsc (a time register). If you chose this option and your cpu
doesn't have this register, the new kernel won't boot. Setting this option
does set -DCPU=586

Just remember. If you try to speed up your kernel using better
optimisation, you can corrupt your filesystem. Also you can't report
kernel bugs as it may be caused by the optimization (inlining a function
which shouldn't be or something);


 Cheers,

--

* Benjamin Close
* <A HREF="mailto:Benjsc@senet.com.au">Benjsc@senet.com.au</A>
* Web Page: <A HREF="http://users.senet.com.au/~benjsc">http://users.senet.com.au/~benjsc</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
