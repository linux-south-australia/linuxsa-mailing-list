<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: mke2fs doesn't recognise partition size" -->
<!-- FromName="'W. Sierke'" -->
<!-- FromEmail="ws@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 19 Feb 2001 01:59:18 +1030" -->
<!-- Id="001f01c099bf$8fe92b40$be64a8c0@regional.net.au" -->
<!-- Reference="000f01c098f4$88e62440$be64a8c0@regional.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: mke2fs doesn't recognise partition size</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: W. Sierke &lt;<I><A HREF="mailto:ws@senet.com.au">ws@senet.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 19 Feb 2001 01:59:18 +1030
</PRE>
<H1>Re: mke2fs doesn't recognise partition size</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Curiouser and curiouser...

Having rebooted the system since and taken another stab, now mke2fs by
default is creating filesystems of about 250M rather than 40M! (Remember,
this is on a newly created logical partition of 1G).

So I took the plunge and told mke2fs the block count as reported in fdisk
(around 1040000). It seemed ok, fsck was happy with it. I noticed, however,
that mke2fs reported that around 13000 blocks (5% - it claimed!) were
allocated for the super-user, rather than the 50000 that I expected. Running
df on the mounted partition gave a free blocks figure of about 50000 less
than the total.

To add to the mystery, I also noticed that the extended partition (hdb1) in
which this partition (hdb6) had been created, had shrunk from its 4G size,
down to 3G (which happens to be the amount of space allocated to logical
partitions, an original 2G to a FAT partition, and now another 1G for this
ext2 partition). Now, I *never* touched that extended partition directly.

I'm at a loss, not having ever had this kind of behaviour before. There was
a BSD/386 partition (hdb4), and I think that was a remnant of trying to have
a play with BSD. I can recall that there are some significant differences
with BSD partitions (slices?). Don't they need special (BSD-specific) tools
to manipulate them? And surely they can't interfere with the operation of
fdisk (au contraire, isn't the problem that fdisk, etc., will simply trash
them?).

I'm a tad reluctant to trust that partition. Thoughts, anyone?


Wayne

----- Original Message -----
From: W. Sierke &lt;<A HREF="mailto:ws@senet.com.au">ws@senet.com.au</A>&gt;
To: &lt;<A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>&gt;
Sent: Sunday, February 18, 2001 1:45 AM
Subject: mke2fs doesn't recognise partition size


&gt; RH6.x
&gt;
&gt; A newly created (extended) partition, about 1G. When I run mke2fs, it only
&gt; creates a 40M filesystem.
&gt;
&gt; I know you can specify the number of blocks to mke2fs, but I don't recall
&gt; ever having had to do so, which has made me paranoid.
&gt;
&gt; I originally created the partition with fdisk, then tried deleting and
&gt; re-creating it with cfdisk. No change.
&gt;
&gt; Anyone have any suggestions as to what's going on?
&gt;
&gt;
&gt; Thanks,
&gt;
&gt; Wayne


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
