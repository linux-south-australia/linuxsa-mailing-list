<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Time Server Problems :-(" -->
<!-- FromName="'Richard Russell'" -->
<!-- FromEmail="richardrussell@mail.com" -->
<!-- ToName="" -->
<!-- ToEmail="lloy0076@rebel.net.au" -->
<!-- Date="Wed, 7 Feb 2001 19:54:50 +1030" -->
<!-- Id="HKEMJGGDNENEDGGDCJBBCEGCCCAA.richardrussell@mail.com" -->
<!-- Reference="3A8110D8.EDD6574E@rebel.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Time Server Problems :-(</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Russell &lt;<I><A HREF="mailto:richardrussell@mail.com">richardrussell@mail.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  Date: Wed, 7 Feb 2001 19:54:50 +1030
</PRE>
<H1>RE: Time Server Problems :-(</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
to be honest, I really don't get ntp... at work, sometimes it just drifts
massively -- hours and days... this is only on x86/linux, not
sparc/solaris... At home, it does that also, but then, I'm on a dialup
system, and can't get to my timeserver most of the time...  If anyone has
any idea what is going on and how to fix it, I'd be indebted :)

rr

&gt; -----Original Message-----
&gt; From: <A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A> [mailto:<A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A>]
&gt; Sent: Wednesday, 7 February 2001 7:40 PM
&gt; To: <A HREF="mailto:richardrussell@mail.com">richardrussell@mail.com</A>
&gt; Cc: John Davey; <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
&gt; Subject: Re: Time Server Problems :-(
&gt;
&gt;
&gt;
&gt; Richard et al:
&gt;
&gt; &gt; or you can start with just setting the date manually (or even
&gt; with rdate -s)
&gt; &gt; to get it within cooee of the real time....
&gt;
&gt; I had to adjust the hardware clock on the time server using hwclock. Now
&gt; because I haven't rebooted the system, it's possible that the change
&gt; hasn't come about in Linux's internal system clock. Which means that it
&gt; will jump 12 hours ahead on next reboot (1)...however there are some
&gt; salient thoughts here:
&gt;
&gt; * ntpd is using the hardware clock
&gt;
&gt; If this is so, then why is my backup server (another machine using ntpd
&gt; synchronisation) keeping the correct time? It's hardware clock and
&gt; system time are both correct. About 12 hours ago they were 12 hours
&gt; ahead...but system time syncs wonderfully
&gt;
&gt; * ntpd is using the system clock
&gt;
&gt; If this is so, I can't for the life of me work out why it thinks there
&gt; is -3500 milli-seconds difference (way to many for ntpd to fix).
&gt;
&gt; Interestingly, if I use:
&gt;
&gt; * ntpd -b time.server
&gt;
&gt; The time gets set correctly but an hour behind. This silly behaviour is
&gt; the behaviour I'm trying to fix; my main server which actually needs to
&gt; keep the time properly loses time all the time. Even so, the server it
&gt; syncs to:
&gt;
&gt; * pings at unmeasurable speeds (i.e. very very quickly)
&gt; * has the correct time (except the hardware time might be out - see
&gt; above)
&gt; * manages every other machine's time service sensibly
&gt;
&gt; And my main server drops an hour! For no particular reason at all...
&gt;
&gt; I'm beginning to think I'm losing UDP packets like mad, but everything
&gt; else speaks nicely to the machine (mainly TCP/IP traffic and SMB over
&gt; TCP/IP) and I'm not hearing any complaints about network speed being
&gt; noticeably different. This, I think, may be an explanation but I can see
&gt; the UDP packets bouncing backwards and forwards about every minute (when
&gt; ntpd polls the time server) and they don't appear to be terribly out of
&gt; order.
&gt;
&gt; DL
&gt;
&gt;
&gt; --
&gt; For the beauty of the earth
&gt;  For the glory of the skies
&gt;  For the love which o'er and
&gt; 'round us lies...

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
