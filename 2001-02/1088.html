<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="how to list TCP ports opened by a process?" -->
<!-- FromName="'Alan Kennington'" -->
<!-- FromEmail="akenning@dog.topology.org" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 28 Feb 2001 01:00:06 +1030" -->
<!-- Id="20010228010006.A5119@dog.topology.org" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: how to list TCP ports opened by a process?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 28 Feb 2001 01:00:06 +1030
</PRE>
<H1>how to list TCP ports opened by a process?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Can anyone remind me how to list all of the TCP sockets
opened by a given process?

I used to know hwo to do this, because I used it once to
verify that "sshd" was leaving up to 250 sockets open at a time,
which then caused it to fail.

The tools I've tried are "netstat", "fuser" and "lsof"
with various parameters.  All I can get is a complete list
of files opened by a process, or the list of processes which
are listening on a given port, and so forth.

What I really wanted was something that could give me a list
like

sshd pid=....
sockets = 22 22 22 22 22 22 ....

I.e. I want it to show an item for each open socket.

By the way, now that I've upgraded to OpenSSH 2.3.0 on
my old RH 5.2 machine, the "lingering sockets" problem
seems to have disappeared, because my "sshd" hasn't run out
of sockets for a very long time.
But I want to be certain that it is releasing sockets
correctly by using some tool to show the open sockets.

"lsof", strangely, seems to only show a small subset of
the total set of open TCP sockets, although it gives a
stunning list of open file sockets, and pipes, unix sockets,
etc. etc. etc.

Cheers, and thanks in advance,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
