<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Mounting/unmounting query" -->
<!-- FromName="'David Drury'" -->
<!-- FromEmail="idavid@smug.adelaide.edu.au" -->
<!-- ToName="'Paul Malcolm Bailey'" -->
<!-- ToEmail="pmbailey@senet.com.au" -->
<!-- Date="Tue, 6 Feb 2001 02:06:24 +1030 (CST)" -->
<!-- Id="200102051536.f15FaOx04537@mulder.smug.adelaide.edu.au" -->
<!-- Reference="3A7D503F.4F2A86FB@senet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Mounting/unmounting query</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Drury &lt;<I><A HREF="mailto:idavid@smug.adelaide.edu.au">idavid@smug.adelaide.edu.au</A></I>&gt;
  To  : Paul Malcolm Bailey &lt;<I><A HREF="mailto:pmbailey@senet.com.au">pmbailey@senet.com.au</A></I>&gt;
  Date: Tue, 6 Feb 2001 02:06:24 +1030 (CST)
</PRE>
<H1>Re: Mounting/unmounting query</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

&gt; I booted up my Linux box recently, and amongst the list of messages that
&gt; usually come up was one that read something like:
&gt; 
&gt; WARNING:  check time reached, running e2fsck is recommended

Hmm, what version, Redhat usually automatically does this check on boot if
required, but I think you can change the options somewhere, but I've no
idea where.

&gt; 
&gt; or something similar.
&gt; 
&gt; Okay, I've not used e2fsck before and (other than when first installing
&gt; Linux on this machine) I only use the "mount" command when inserting a
&gt; new CD-ROM.  That is, infrequently.

e2fsck is the chkdsk of the unix world. Specifically fsck is the File
System ChecKer, e2fsck checks EXT2 formatted file systems. fsck is smart
enough generally to detect the file system type, and call the appropriate
program for the file system.

&gt; So I su'd, and after viewing fstab to see what partitions were mounted
&gt; as what names, I entered:
&gt; 
&gt; e2fsck /dev/hda1
&gt; 
&gt; I got the error message:
&gt; 
&gt; e2fsck 1.17, 26-Oct-1999 for EXT2 FS 0.5b, 95/08/09
&gt; /dev/hda1 is mounted.  
&gt; 
&gt; WARNING!!!  Running e2fsck on a mounted filesystem may cause
&gt; SEVERE filesystem damage.
&gt; 
&gt; After that, I declined to go further and figured I'd better get some
&gt; advice before mounting and unmounting filesystems on the drive.
&gt; 
&gt; My question sort of runs like this:
&gt; 
&gt; If I unmount the root directory (/), which means all files and
&gt; sub-directories (recursively) underneath root *also* get unmounted,
&gt; doesn't that mean those files are unaccessible until I mount the root
&gt; directory again?
&gt; 
&gt; That being the case, isn't /bin underneath root?  I mean, how can I use
&gt; the "mount" command (i.e. calling the mount program, which is in /bin)
&gt; if, by definition, it isn't available?  Or do I have to copy the mount
&gt; program to a floppy (or another hard drive partition) and run it from
&gt; there?
&gt; 
&gt; Essentially, how can you run a program (even a Linux command) from an
&gt; unmounted partition?  And if *all* partitions were simultaneously
&gt; unmounted, wouldn't you have an unusable system (unless you had at least
&gt; the "mount" command available to you elsewhere)?
&gt; 
&gt; As you can probably tell, very newbie stuff, but mounting and unmounting
&gt; filesystems and hard drive partitions has always worried me a bit...

You've neetly summed up a catch 22. You can for instance quite happily
close all programs accessing your /home partition (assuming you have one),
dismount it and run fsck, then re-mount it. (Think of that process like
ejecting a CDROM), but howm do you dismount / ?

The simplest solution is to boot from your handy linux boot disk created
at install time, or handy linuxcare CD ROM (freely downloadable from the
LinuxCare site), and then check the file system over that way.

Hope this helps.

cya

-- 
David Drury
   _______________________________________
   \ <A HREF="mailto:iddrury@teaching.cs.adelaide.edu.au">iddrury@teaching.cs.adelaide.edu.au</A>  \
    \    <A HREF="mailto:idavid@smug.adelaide.edu.au">idavid@smug.adelaide.edu.au</A>       \                __________ |
     \     Adelaide University Union        \        / \___-=O`/|O`/___|
      \        IT Co-ordinator.              \_______\        / | /     )
      /    Student Machine User Group        /      `/-==__ _/__|/__=--|
     /       Systems Administrator.         /         *      \  |      |
    /   "Cogito cogito ergo cogito sum."   /                  (o)
   /______________________________________/

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
