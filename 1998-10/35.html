<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Kernel Compile OK, next!" -->
<!-- FromName="Mark Pulford" -->
<!-- FromEmail="mark@kyne.com.au" -->
<!-- ToName="Paul OBrien" -->
<!-- ToEmail="paulob@bold.net.au" -->
<!-- Date="Wed, 7 Oct 1998 10:49:26 +0930 (CST)" -->
<!-- Id="Pine.LNX.3.96.981007101556.4362A-100000@hamster.kyne.com.au" -->
<!-- Reference="3.0.5.32.19981007084156.0085c100@bold.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Kernel Compile OK, next!</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Pulford &lt;<I><A HREF="mailto:mark@kyne.com.au">mark@kyne.com.au</A></I>&gt;
  To  : Paul OBrien &lt;<I><A HREF="mailto:paulob@bold.net.au">paulob@bold.net.au</A></I>&gt;
  Date: Wed, 7 Oct 1998 10:49:26 +0930 (CST)
</PRE>
<H1>Re: Kernel Compile OK, next!</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wed, 7 Oct 1998, Paul OBrien wrote:

&gt; 	Now this is the first time I have tried something like this so I am amazed
&gt; to get this far with it, the next thing is installing the new kernel, the
&gt; HOWTO text is a bit vague on this, it said to run make zlilo, which I did
&gt; but it didn't seem to put things in the right place?
&gt; 	the kernel was placed in the / directory but the lilo.conf file still
&gt; pointed to the kernel in /boot directory.
&gt; While booted off a floppy I copied the kernel into the boot directory
&gt; created links etc and fixed Lilo and re-run lilo, OK the system boots and
&gt; runs fine but what should I do in the boot directory, what files are
&gt; supposed to be updated and what should I look for?

The only files you need to change under /boot are the kernels & the
System.map files.

Everybody has their own way of installing a kernel. Here is mine:

( make dep && make clean && make zImage && make modules &&
make modules_install) &gt;& make.log &

After that copy arch/i386/boot/zImage to /boot/vmlinuz-2.0.35 (or
wherever). Also copy System.map to /boot/System.map-2.0.35
Edit /etc/lilo.conf. Cut/paste another stanza if your have to and change
the "image" to point to your new kernel (vmlinuz-2.0.35, or whatever you
called it) and change the "label". Also, lilo will use the first image
mentioned by default, so you might want to paste your new stanza just
above the other stanzas but below the global stuff. Then run "lilo".

This way you can keep your old kernel around, just in case your new one
doesn't work. If you are recompiling a kernel version that is already
installed note that "make modules_install" will overwrite your old
modules for that version. Your old kernel should still work, but you
probably won't be able to use any of the modules (depends on how you
config your kernels).

Hope this helps...

Regards,
Mark

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
