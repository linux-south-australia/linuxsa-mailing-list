<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Xauth problem" -->
<!-- FromName="Matthew Tippett" -->
<!-- FromEmail="mtippett@ticons.com.au" -->
<!-- ToName="Michael Davies" -->
<!-- ToEmail="michaeld@senet.com.au" -->
<!-- Date="Thu, 8 Oct 1998 09:11:02 +0930 (CST)" -->
<!-- Id="199810072341.JAA02294@matt.ticons.com.au" -->
<!-- Reference="361A9A67.402E40A5@senet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Xauth problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Tippett &lt;<I><A HREF="mailto:mtippett@ticons.com.au">mtippett@ticons.com.au</A></I>&gt;
  To  : Michael Davies &lt;<I><A HREF="mailto:michaeld@senet.com.au">michaeld@senet.com.au</A></I>&gt;
  Date: Thu, 8 Oct 1998 09:11:02 +0930 (CST)
</PRE>
<H1>Re: Xauth problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; 
&gt; Hi all,
&gt; 
&gt; I have a problem with my Xsession losing authority to allow new X
&gt; clients to attach.  It seems to be somehow related to ppp starting up,
&gt; and although it doesn't happen _every_ time it probably does happen at
&gt; least every 1 in 6.
&gt; 
&gt; Oh, BTW, RH 5.1 standard install.
&gt; 
&gt; Here is what I mean...
&gt; 
&gt; [<A HREF="mailto:michael@localhost">michael@localhost</A> michael]$ Xlib: connection to ":0.0" refused by
&gt; server
&gt; Xlib: Client is not authorized to connect to Server
&gt; Error: Can't open display: :0.0

Michael,

An 'xauth list'

Will give you a listing of all the magic cookies that the server expects.
You probably will find that the the first couple of entries
in the listing don't match your hostname after you start PPP.

Three options, 

	1) Add a cookie for your new dial up connection,

		This can be acheived by using a command similar to
		(a bit of tuning might be needed).

		xauth add `hostname`/unix:0 MIT-MAGIC-COOKIE-1  8754e8b75e957e520b7a0a048e9f86f0

		This could be added to your ifup script, or added to
		a script that creates the brings up the interface, waits
		and then creates the cookie.

	2) Modify the ifup scripts to turn off updating of the hostname.
		Redhat update the hostname using logic in the bottom of
		/etc/sysconfig/network-scripts/network-functions.

		This might be able to be fixed by adding a new hostname
		and FQDN for 127.0.0.1 in /etc/hosts.  This might
		break things though.


	3) Run xhost + before starting up PPP.

Regards,

Matt
-- 
TICons
Innovative IT Solutions
<A HREF="http://www.ticons.com.au">http://www.ticons.com.au</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
