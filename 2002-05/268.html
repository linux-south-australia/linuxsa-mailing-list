<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Firewall and FTP'ing" -->
<!-- FromName="'Michael Pearson'" -->
<!-- FromEmail="alcaron@senet.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 7 May 2002 23:12:55 +0930" -->
<!-- Id="20020507134255.GA360@fnoo.senet.com.au" -->
<!-- Reference="1020775454.21890.2.camel@spiral" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Firewall and FTP'ing</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Pearson &lt;<I><A HREF="mailto:alcaron@senet.com.au">alcaron@senet.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 7 May 2002 23:12:55 +0930
</PRE>
<H1>Re: Firewall and FTP'ing</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
* David Fitch (<A HREF="mailto:davidf@parachilna.com">davidf@parachilna.com</A>) wrote:
&gt; On Tue, 2002-05-07 at 18:17, Wayne Simes wrote:
&gt; &gt; I have opened up ports 20 and 21 to allow for ftp'ing through to the 
&gt; &gt; server, but I have noticed in the logs that the client is trying to 
&gt; &gt; make connections to ports up in the 3000 and 6000 range. I don't
&gt; &gt; really want to open up a whole range of port just to allow the
&gt; &gt; odd person to connect.
&gt; &gt; 
&gt; &gt; What should I be doing to try and get around this problem ?
&gt; 
&gt; yes it sucks, I've never found a satisfactory solution.
&gt; The best workaround for me is use passive ftp (ie. 'pas'
&gt; command in ftp).
Wrong way around.

Normal ftp works by the server making a connection to a port on the client's
machine to transfer data. In today's world of paranoid firewalls and IP
masquerading, this doesn't work.

Passive ftp works by the client making a connection to a port on the server
machine to transfer data.

The easiest way to have this work with a server firewall is to use an ftp
daemon which has configurable passive port ranges, such as ProFTPd. This port
range can then be opened up on the firewall.

Or, you can use connection tracking with iptables, and configure the table so
that it will allow related FTP connections through.

It's not the "odd person" using passive FTP these days, either. Blocking
all of your server's ports except for 21 will deny a large percentage of
users access.

--
Michael Pearson

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
