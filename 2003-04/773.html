<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Help?" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="linuxcpa@netscape.net" -->
<!-- ToName="" -->
<!-- ToEmail="martin@safcol.com.au" -->
<!-- Date="Sun, 27 Apr 2003 19:36:54 -0700" -->
<!-- Id="3EAC93C6.5050500@netscape.net" -->
<!-- Reference="FGEFIJAGPBKMLNKMFKJPKEBOHHAA.martin@safcol.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Help?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:linuxcpa@netscape.net">linuxcpa@netscape.net</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:martin@safcol.com.au">martin@safcol.com.au</A></I>&gt;
  Date: Sun, 27 Apr 2003 19:36:54 -0700
</PRE>
<H1>Re: Help?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
<A HREF="mailto:martin@safcol.com.au">martin@safcol.com.au</A> wrote:

&gt;I used userdel -d "username" to delete an old user.
&gt;
&gt;I now need the mail spool file for this user (i.e.
&gt;/var/spool/mail/"username").
&gt;
&gt;Is there anyway of restoring this from the command line.
&gt;
&gt;I am using RH 7.2.
&gt;  
&gt;
Hi Martin. :-)

If you log in as root, change the name of the file to a different user 
name, and give that user name permissions to read the file it will work.

A lot of the time I will use the GUI for this, logged in as root.

Below, you will run ls -l to determine if a mail file exists for that 
user name.  Don't rename the old file to the new user name there, 
otherwise the new file will overwrite the old file, deleting the old mail.

To remedy this, you can pull the mail out of /var/spool/mail temporarily 
with Netscape's Movemail. In Netscape 4.7, change your default mail 
server from pop3 to movemail with the GUI.  In Netscape 7x, you have to 
edit $HOME/.mozilla/default/
uniqueid/prefs.js to change the word "pop3" to "movemail".

WHen you check your mail, Movemail will moves it from 
/var/spool/mail/name and combine it with 
$HOME/.mozilla/default/uniqueid/mail/name of popserver/inbox.  If you 
wanted to combine additional mail files in /var/spool/mail/ into one 
file, you could rename additional mail files to the name of the user you 
just setup Movemail for, and then move that file with Movemail again, 
which will combine the two files into one, again in 
$HOME/.mozilla/default/uniqueid/mail/name of popserver/inbox.

You then can rename $HOME/.mozilla/default/uniqueid/mail/name of 
popserver/inbox. to a user name and copy it to /var/spool/mail/username 
and give that person rights to read the file, and you are finished.

However, from the command line:

cd /var/spool/mail

ls -l

mv /var/spool/mail/deletedguy /var/spool/mail/newuser

James Leone

&gt;Martin Stacey
&gt;
&gt;
&gt;  
&gt;

-- 
Your favorite stores, helpful shopping tools and great gift ideas. 
Experience the convenience of buying online with <A HREF="mailto:Shop@Netscape">Shop@Netscape</A>! 
<A HREF="http://shopnow.netscape.com/">http://shopnow.netscape.com/</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
