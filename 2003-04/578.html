<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Using the rec command - how to avoid recording pure silence" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="linuxcpa@netscape.net" -->
<!-- ToName="'linuxsa'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 19 Apr 2003 02:53:52 -0700" -->
<!-- Id="3EA11CB0.7030606@netscape.net" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Using the rec command - how to avoid recording pure silence</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:linuxcpa@netscape.net">linuxcpa@netscape.net</A></I>&gt;
  To  : linuxsa &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sat, 19 Apr 2003 02:53:52 -0700
</PRE>
<H1>Using the rec command - how to avoid recording pure silence</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
For about 6 months now, I have used Linux to record mp3 files of the
streaming audio broadcasts of the Palo Alto City Council meeting
delivered by KZSU Stanford. <A HREF="http://kzsulive.stanford.edu/.">http://kzsulive.stanford.edu/.</A>

I hit a bump in the road when I decided to try out kernel 2.4.20, after
I had accidently deleted my modules for 2.4.19.  I was able to rescue my
system and rebuild it with kernel 2.4.20, but was disappointed to find
out that my streaming audio recording was absolutely silent. I knew that
I had followed the same procedure I always do, using a script that I
made available at sourceforge.net.
(<A HREF="http://sourceforge.net/projects/automagic/">http://sourceforge.net/projects/automagic/</A> ) but couldn't figure out
why the recording was silent. The script just uses existing tools to
create a mp3 recording. I just automated the steps.

I did some googling around, and found the piece of the puzzle that I was
missing, which is that Alsa's "capture" settings for the part of the
audio system you want to record must be set, as capture on, otherwise
the recording will be silent. Apparently, capture was some how set
correctly in 2.4.19 without me having realized this, I thought "it just
worked." Nope. So, I looked everywhere for some sort of clue as to how
or what to change the capture settings.  I finally came accross the
command "alsamixer" from the Linux Cookbook, but was frustrated by its
non intuitive design and apparent inability to change capture settings,
so I kept looking. Finally, I found two programs that quickly and easily
set the capture setting without fuss: tkmixer  (used in Lindows/Debian)
and GTKaumix used in SuSE 8.1. Here is GTKaumix: 
<A HREF="http://www.morton2001.org/mixer.jpg">http://www.morton2001.org/mixer.jpg</A>

You simply type one of these commands at the shell, and then click on
the rec radio button for Master.  Drag the Mic connection down to zero
and the PCM up to 100 for streaming audio, and the opposite for
dictation in the office or recording a Linux presentation at a Linuxsa
meeting. :-)

Then when you type in this sox command I dug out from the Linuxsa archives:

sox -c 2 -w -t ossdsp /dev/dsp -r 44100 $recorddirectory/$$.wav

....the playback will not be silent if you set the capture setting on
master. :-)    Which is a good thing. [TM]   :-)

I believe the script will scale between Lindows and SuSE. However, it
does not install or call up tkmixer or GTKaumix to allow you to set the
capture settings.  I just learned about capture today. Oh, and the
script also automates the encoding of your .wav file into .mp3 format
with the application "Lame."

A word on sound quality...

The volume at which you have your player set, or how close you are to
the microphone has _a lot_ to do with the sound quality that comes out.
Here is me talking at various distances from the Microphone, half
asleap.   :-)  <A HREF="http://www.morton2001.org/hello.wav.">http://www.morton2001.org/hello.wav.</A>   And if you hear my
voice, you'd never believe me if I said my dad is a television
announcer. :-D

Cheers,

James Leone







-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
