<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Ping vs Traceroute" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 02 Jul 2002 07:28:16 +0930" -->
<!-- Id="3D20D078.5010407@aarnet.edu.au" -->
<!-- Reference="Pine.LNX.4.33.0207011458370.3323-100000@ns.aus.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Ping vs Traceroute</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 02 Jul 2002 07:28:16 +0930
</PRE>
<H1>Re: Ping vs Traceroute</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Related to this discussion, people might find tcptraceroute
better at tracing paths through misconfigured firewalls,
policy routing, load balancers, etc

It sends TCP SYN packets, with an increasing TTL in the IP
header.

tcptraceroute www.news.com.au www
Selected device eth0, address 202.14.1.238, port 32779 for outgoing packets
Tracing the path to www.news.com.au (202.139.106.172) on TCP port 80, 30 hops max
  1  gw-roaming.conf2002.questnet.net.au (202.14.1.1) 3.403 ms  10.100 ms  6.811 ms
  2  qrno-conf.questnet.net.au (203.22.86.193)  5.971 ms  10.739 ms  5.675 ms
  3  border.questnet.net.au (203.22.86.242)  4.623 ms  6.416 ms  5.920 ms
  4  ATM9-0-0-7.bn1.optus.net.au (202.139.18.117)  7.612 ms  10.667 ms  7.268 ms
  5  GigEth12-0-0.sn2.optus.net.au (202.139.191.16)  18.621 ms  23.975 ms  26.500 ms
  6  Comindico.sn2.optus.net.au (203.202.186.174)  21.679 ms  19.818 ms  20.091 ms
  7  203.194.29.245 (203.194.29.245)  19.618 ms  20.134 ms  28.787 ms
  8  203.220.64.186 (203.220.64.186)  23.039 ms  26.465 ms  20.737 ms
  9  news.com.au (202.139.106.172) [open]  23.440 ms  21.277 ms  34.105 ms

It also has an ECN option, which allows faulty equipment to be
identified (in this case a Cisco LocalDirector with old software).

tcptraceroute -E www.news.com.au www
Selected device eth0, address 202.14.1.238, port 32781 for outgoing packets
Tracing the path to www.news.com.au (202.139.106.172) on TCP port 80, 30 hops max
  1  gw-roaming.conf2002.questnet.net.au (202.14.1.1) 12.813 ms  3.242 ms  3.266 ms
  2  qrno-conf.questnet.net.au (203.22.86.193)  7.539 ms  4.124 ms  4.111 ms
  3  border.questnet.net.au (203.22.86.242)  8.086 ms  6.352 ms  4.762 ms
  4  ATM9-0-0-7.bn1.optus.net.au (202.139.18.117)  8.271 ms  5.909 ms  7.766 ms
  5  GigEth12-0-0.sn2.optus.net.au (202.139.191.16)  18.652 ms  18.449 ms  19.087 ms
  6  Comindico.sn2.optus.net.au (203.202.186.174)  20.298 ms  20.778 ms  20.115 ms
  7  203.194.29.245 (203.194.29.245)  19.914 ms  19.655 ms  23.762 ms
  8  203.220.64.186 (203.220.64.186)  20.855 ms  20.026 ms  20.395 ms
  9  * * *
10  * * *

I've actually used its very existence to beat around security
people into allowing rate-limited normal traceroute (as if the
experts can map your network anyway, why make it harder for
Joe Public to give you a problem report).

Regards,
Glen

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
