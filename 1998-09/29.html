<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Socket timeout question" -->
<!-- FromName="O'CONNOR, Steve" -->
<!-- FromEmail="SOCONNOR@baea.com.au" -->
<!-- ToName="'linuxsa@linuxsa.org.au'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 2 Sep 1998 15:08:44 +0930" -->
<!-- Id="9FEECB26069DD111B0FB0060B057FD43799060@SBNTEX1" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Socket timeout question</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: O'CONNOR, Steve &lt;<I><A HREF="mailto:SOCONNOR@baea.com.au">SOCONNOR@baea.com.au</A></I>&gt;
  To  : 'linuxsa@linuxsa.org.au' &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 2 Sep 1998 15:08:44 +0930
</PRE>
<H1>Socket timeout question</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Heres one for the TCP/IP gurus out there -

- lets say I have a linux box that wants to make a socket connection to
a number of other linux boxen, so I go through them 1 at a time and try
to establish a connection.

- Lets say that 1 of these boxes is dead, or not responding on that
port. On the originator gethostbyname() works quickly in getting the IP
address of the dead target machine, but the connect() call to try and
open the socket will hang around for about 1.5 minutes before returning
with ETIMEOUT (timeout).

- My question is - what options can you fiddle with (in setsockopt()
???) to reduce this timeout time down to something much smaller than a
minute or so. The machines in question are all on the same length of
100mbps wire, so it either will connect or wont connect in no time at
all.

- Perhaps a ping before connect would be in order ? Can someone describe
in 10 words or less how to code a ping inside the main loop - is it just
a Tx on a UDP with an expected return or not ?  

Sorry to be lazy and not look in the code for ping.c, but I dont have it
here right now.

Thanks
SteveOC

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
