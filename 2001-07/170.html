<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: squid running to aliased IPs, and user IP accounting" -->
<!-- FromName="'John Edwards'" -->
<!-- FromEmail="isplist@adam.com.au" -->
<!-- ToName="'Toby Corkindale'" -->
<!-- ToEmail="tjcorkin@sa.pracom.com.au" -->
<!-- Date="Thu, 05 Jul 2001 11:05:05 +0930" -->
<!-- Id="3B43C449.E4C0AA77@adam.com.au" -->
<!-- Reference="Pine.LNX.4.33.0107051041040.28718-100000@localhost.localdomain" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: squid running to aliased IPs, and user IP accounting</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: John Edwards &lt;<I><A HREF="mailto:isplist@adam.com.au">isplist@adam.com.au</A></I>&gt;
  To  : Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  Date: Thu, 05 Jul 2001 11:05:05 +0930
</PRE>
<H1>Re: squid running to aliased IPs, and user IP accounting</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Toby Corkindale wrote:

&gt; The problem is, I can't even get this to work with a single squid & single
&gt; IP address.
&gt; Everything works fine, until i set the tcp_outgoing address to be
&gt; 192.168.0.40, which is an aliased ip on eth0:1.
&gt; At this point, squid seems to fail to connect to anything external.
&gt; I've failed to figure out why - squid succeeds when it does the initial DNS
&gt; tests, btw. Accorrding to tcpdump i don't even see squid attempt to connect
&gt; to the destination website though?

tcp_outgoing_address is the source address used to contact remote sites,
not connect to end users. This is mostly used for poor-man's
multihoming, so your proxies can use a different link to the rest of
your network. End users can connect to any ip address on the host with
the default squid setup.

&gt; Has anyone had something like this going?
&gt; 
&gt; If I can get per-user accounting, then I'll just run each squid as a
&gt; different user. Easy.

If you have the squid 'client' stuff compiled in (part of ./configure by
default) it will keep seperate counters for each IP Address accessing
the cache. You can access these counters through Cachemgr, some custom
software, or SNMP (if you compiled that in).

No Need to run multiple squids!

John Edwards

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
