<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: binding < port 1024 as non-root (was: RE: simple squid setup)" -->
<!-- FromName="'Daryl Tester'" -->
<!-- FromEmail="Daryl.Tester@iocane.com.au" -->
<!-- ToName="'Richard Russell'" -->
<!-- ToEmail="richardrussell@internode.on.net" -->
<!-- Date="Wed, 18 Jul 2001 22:47:08 +0930" -->
<!-- Id="3B558C54.6ABDFE56@iocane.com.au" -->
<!-- Reference="HKEMJGGDNENEDGGDCJBBMEMLCJAA.richardrussell@internode.on.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: binding &lt; port 1024 as non-root (was: RE: simple squid setup)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;
  To  : Richard Russell &lt;<I><A HREF="mailto:richardrussell@internode.on.net">richardrussell@internode.on.net</A></I>&gt;
  Date: Wed, 18 Jul 2001 22:47:08 +0930
</PRE>
<H1>Re: binding &lt; port 1024 as non-root (was: RE: simple squid setup)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Richard Russell wrote:

&gt; A friend at work wants to run a web server on port 80 (as you do), but there
&gt; are reasons why we don't really want it to be run as root. He has designed a
&gt; setuid program that will somehow give permission for specific users to bind
&gt; to specific ports. IIRC, it basically reads a config file (root-owned) which
&gt; contains users and ports, and will then somehow give permission to a user to
&gt; connect to that port...
&gt; 
&gt; ANYWAY, question is: is there a "normal" way of doing that kind of thing?

Well, it would be interesting to see the design before it could be
commented on.  :-)

Root could bind to a port, drop its privileges and execute the "non-root"
process, passing the file descriptor to the process in the process, so
to speak.  The process would have to be expecting the port in this way,
though (eg, you'd need to modify Apache to accept its listening socket
in this fashion).  I believe DJB's tcpserver does this (actually, uses
two descriptors, one for reading, the other writing), but it's been a
while since I've looked at it, so I may be rusty on the details.


Regards,
  Daryl Tester

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
