<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: nslookup and resolving" -->
<!-- FromName="'Stephen Donaldson'" -->
<!-- FromEmail="steve@cyberqual.com" -->
<!-- ToName="'Dave Fitch','linuxsa@linuxsa.org.au'" -->
<!-- ToEmail="davidf@parachilna.com,linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 23 Jul 2001 20:37:27 +0930" -->
<!-- Id="3B5C056F.831CF633@cyberqual.com" -->
<!-- Reference="20010722175245.B20162@spiral" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: nslookup and resolving</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Stephen Donaldson &lt;<I><A HREF="mailto:steve@cyberqual.com">steve@cyberqual.com</A></I>&gt;
  To  : Dave Fitch &lt;<I><A HREF="mailto:davidf@parachilna.com">davidf@parachilna.com</A></I>&gt;<BR>        linuxsa@linuxsa.org.au &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 23 Jul 2001 20:37:27 +0930
</PRE>
<H1>Re: nslookup and resolving</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; I'm running bind so my /etc/resolv.conf looks like:
&gt; nameserver 127.0.0.1
&gt; nameserver 203.2.75.2
&gt; nameserver 203.2.75.12
&gt; and this works fine on the machine running bind.
&gt;
&gt; But on other machines (or if I change the first line above
&gt; to 192.168.1.1 instead of 127.0.0.1 (eth0 not lo))
&gt; running nslookup gives:
&gt;

Dave 127.0.0.1 is needed for all sorts of internal services. If you want to
change the line to 192. range add it so that you have something like:

127.0.0.1 wizard.magic.net     wizard    localhost.localdomain     localhost
192.168.1.1    wizard.magic.net    wizard

If you have a quick look inside named.conf you should see the reverse zone for
127.0.0.1.  ie "0.0.127.in-addr.arpa"
No matter what other address the machine has 127.0.0.1 is always correct for the
local nameserver, therefore it should always be    in the /etc/resov.conf file.
Note, also, that named does not read this file it is the resolver that uses
named that does.
And make sure the file nsswitch.conf file has both files and dns in it.  ie
hosts: files dns

This should help control the internal activities.

If it's not quite right, I'm sure someone will point it out in the traditional
Linux SA way  ;-)

This is a non-athoritive answer

;-)


Steve



&gt; *** Can't find server name for address 192.168.1.1: Non-existent host/domain
&gt; Default Server:  ns1.optusnet.com.au
&gt; Address:  203.2.75.2
&gt; &gt;
&gt;
&gt; 192.168.1.1 is in /etc/hosts (FQDN and short name)
&gt; So why?  what's it want?

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
