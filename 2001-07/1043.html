<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Upgrading to Samba 2.2.x" -->
<!-- FromName="'David Lloyd'" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="'Adam W'" -->
<!-- ToEmail="woja@optushome.com.au" -->
<!-- Date="Sun, 22 Jul 2001 17:27:33 +0930" -->
<!-- Id="3B5A876D.ABA869AC@rebel.net.au" -->
<!-- Reference="BDEDKMPEELEHGENEBKMGGEJHCBAA.woja@optushome.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Upgrading to Samba 2.2.x</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : Adam W &lt;<I><A HREF="mailto:woja@optushome.com.au">woja@optushome.com.au</A></I>&gt;
  Date: Sun, 22 Jul 2001 17:27:33 +0930
</PRE>
<H1>Re: Upgrading to Samba 2.2.x</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Adam!

&gt; Should i just install them anyway, or arent the new libraries compatible
&gt; with the old libraries?

No.

glibc contains a significant amount of important functions that
virtually any program eventually relies on. If you upgrade it to an
incompatible version you can accidentally lose touch with your system
until you manage to get the correct ones bck on.

&gt; Is an install of mandrake 8.0 the only way to upgrade the glibc libraries??

Again, no.

Options off the top of my head:

A.

1) Install glib 2.2 but in a different place to your current glibc
2) Rebuild samba to link with that version of glibc

B.

1) Find a version of samba that has glibc 2.2 statically linked

Now, I don't think this would work but you could try at rpmfind or
something like that.

C.

1) Upgrade to Mandrake 8.0

D).

1) Upgrade everything to a version that is linked to glibc 2.2 that
Mandrake is complaining about

(you may as well goto Mandrake 8.0 though)

&gt; Sorry about all the questions, but i just struggle to see why the new
&gt; version of glibc cannot be used with the previous programs.

There have been improvements and additions made to glibc 2.2 from its
previous incarnation that have broken compatibility with some or all of
it. Just a non technical description:

1) I write a program in C
2) The C Compiler compiles it
 - you'd understand that I'd use prebuilt/made code for a lot of stuff

3) This prebuilt stuff can be:
 - statically linked
 - dynamically linked

Now, static means that a copy of all the code needed is placed with your
executable. This, you see, has the advantage that people don't need any
extra bits and pieces but it also makes for a much larger executable; in
the Linux world I'm not sure of the exact amount of space that might be
taken but using Delphi 4 under Windows, statically linking the libraries
(of pre made code) would add about 2Mb to the executable.

Dynamic is linked at run time. Your code interfaces with the operating
system and asks something like "I want to use function print from
library glibc with the following arguments (which follow)". Brushing
over the details the operating system goes away, finds the function, and
to your program it looks as though the function were statically linked,
that is to say it is just there.

Naturally you can fall over yourself using dynamic linking. What if I
want to use function print but glibc is not there? You get the infamous
function not found or library not found error. What if glibc is there
and it expects me to say "use function print with one argument only" but
the program actually says "I want to use function print with the
following five arguments"? You'd probably get a library incompatible
version error or an unexpected result.

Now, I believe that glibc 2.2 has some incompatibilities with its
previous versions and following my above explanation you should be able
to see what is happening. Subtle pieces have changed and whilst I expect
most of the new glibc still has the same interface some of it doesn't.

Hence the need for a new version.

Libraries do have a versioning system and it works more complicated than
this. Hence, this is why I say you can have multiple versions of the
same library on the same machine. You generally have to rebuild from
source and make sure that the ./configure command knows which version
it's supposed to link to...

I hope this helps.

DSL

(ps: some of what I've said has brushed over a VERY complex subject but
I believe that I have enough points for people to have a very basic
understanding of what I'm talking about...in other words yes, I have
left out a lot of the details but I think there's enough there for
people/Adam to ponder on and go about and learn more if he/they want)
-- 
"The greatest thing you'll ever learn is
  just to love and to be loved in return."
  - David Bowie (Nature Boy from Moulin Rouge)

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
