<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: squid running to aliased IPs, and user IP accounting" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="'John Edwards'" -->
<!-- ToEmail="isplist@adam.com.au" -->
<!-- Date="Thu, 5 Jul 2001 11:19:03 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.33.0107051117270.28718-100000@localhost.localdomain" -->
<!-- Reference="3B43C449.E4C0AA77@adam.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: squid running to aliased IPs, and user IP accounting</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : John Edwards &lt;<I><A HREF="mailto:isplist@adam.com.au">isplist@adam.com.au</A></I>&gt;
  Date: Thu, 5 Jul 2001 11:19:03 +0930 (CST)
</PRE>
<H1>Re: squid running to aliased IPs, and user IP accounting</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, 5 Jul 2001, John Edwards wrote:

&gt; Toby Corkindale wrote:
&gt;
&gt; &gt; The problem is, I can't even get this to work with a single squid & single
&gt; &gt; IP address.
&gt; &gt; Everything works fine, until i set the tcp_outgoing address to be
&gt; &gt; 192.168.0.40, which is an aliased ip on eth0:1.
&gt; &gt; At this point, squid seems to fail to connect to anything external.
&gt; &gt; I've failed to figure out why - squid succeeds when it does the initial DNS
&gt; &gt; tests, btw. Accorrding to tcpdump i don't even see squid attempt to connect
&gt; &gt; to the destination website though?
&gt;
&gt; tcp_outgoing_address is the source address used to contact remote sites,
&gt; not connect to end users. This is mostly used for poor-man's
&gt; multihoming, so your proxies can use a different link to the rest of
&gt; your network. End users can connect to any ip address on the host with
&gt; the default squid setup.

Yep, that was the idea.. I wanted to have squid running on a seperate IP, so
I can seperate out the data going to/from the proxy cache from the data
going to/from the local box's other daemons and stuff..


&gt;
&gt; &gt; Has anyone had something like this going?
&gt; &gt;
&gt; &gt; If I can get per-user accounting, then I'll just run each squid as a
&gt; &gt; different user. Easy.
&gt;
&gt; If you have the squid 'client' stuff compiled in (part of ./configure by
&gt; default) it will keep seperate counters for each IP Address accessing
&gt; the cache. You can access these counters through Cachemgr, some custom
&gt; software, or SNMP (if you compiled that in).
&gt;
&gt; No Need to run multiple squids!

Yeah, i definately odn't want to have to! ;)

I'll investigate the squid stats stuff you mentioned - thanks!

-Toby

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
