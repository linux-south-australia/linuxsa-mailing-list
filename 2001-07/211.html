<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: squid running to aliased IPs, and user IP accounting" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="'Phil Hutton'" -->
<!-- ToEmail="phil@hutton.sh" -->
<!-- Date="Thu, 5 Jul 2001 16:05:26 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.33.0107051601500.28718-100000@localhost.localdomain" -->
<!-- Reference="20010705134300.A32047@odin.hutton.sh" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: squid running to aliased IPs, and user IP accounting</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : Phil Hutton &lt;<I><A HREF="mailto:phil@hutton.sh">phil@hutton.sh</A></I>&gt;
  Date: Thu, 5 Jul 2001 16:05:26 +0930 (CST)
</PRE>
<H1>Re: squid running to aliased IPs, and user IP accounting</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, 5 Jul 2001, Phil Hutton wrote:

&gt; Hi...
&gt;
&gt; &gt; &gt; &gt; First Q:
&gt; &gt; &gt; &gt; I want to do IP accounting on a per-user basis. I was sure there was
&gt; &gt; &gt; &gt; something around to do this on linux - can someone point me in the right
&gt; &gt; &gt; &gt; direction?
&gt; &gt; &gt;
&gt; &gt; &gt; IPTables for Linux. IPFW does it in FreeBSD :-)
&gt; &gt;
&gt; &gt;    owner
&gt; &gt;        This  module  attempts to match various characteristics of
&gt; &gt;        the packet creator, for locally-generated packets.  It  is
&gt; &gt;        only valid in the OUTPUT chain, and even this some packets
&gt; &gt;        (such as ICMP ping responses) may have no owner, and hence
&gt; &gt;        never match.
&gt;
&gt; Note that it's only valid on the output chain though.  I suspect that
&gt; this means you can only account for outgoing packets - can anyone
&gt; confirm this?  (I've been planning to test this, but haven't had a
&gt; chance yet)

Yeah, I was wondering about that. ;(

Will find out at home tonite.

&gt;
&gt; If you want to do per-user accounting with squid, I'd suggest using
&gt; Squid's user authentication stuff.  That way you don't have to do user
&gt; &lt;-&gt; IP address matching, which can be a bit dodgy.  Depending on what
&gt; your users are like and what you're using the accounting information
&gt; for, you might find that users swap their IP addresses around to avoid
&gt; the accounting system.  Authentication makes avoiding the accounting
&gt; system more difficult.

Nah, i actually have multiple users running things like lftp, wget, etc. who
i want to account for. I also have squid users I want to account for, but
thats going to be easier to sort out.

&gt;
&gt; And I certainly wouldn't recommend running one Squid for each user -
&gt; that could get ugly, and you'd lose many of the benefits of caching.

Oh yeah.. icky. It was just a sort of last-resort late last nite, and didn't
work anyway, so yeah ;)

The wierd thing was that i couldn't even get one squid to operate on its own
on an aliased IP, (outgoing), let alone run 3 of 'em.
The log analyzing method's gonna be the way to go i think.

TC

&gt;
&gt; Phil.
&gt;

-- 
 Toby Corkindale
 UNIX Developer, Core Tech R&D
 Technology SA, Pracom Ltd
 288 Glen Osmond Road
 Fullarton,	5063
 South Australia
 Tel: +61 8 8202 9075
 Fax: +61 8 8202 9001
 mailto:<A HREF="mailto:Toby.Corkindale@sa.pracom.com.au">Toby.Corkindale@sa.pracom.com.au</A>
 <A HREF="http://www.sa.pracom.com.au/">http://www.sa.pracom.com.au/</A>

                  PRIVILEGED - PRIVATE AND CONFIDENTIAL

   Privileged/Confidential Information may be contained in this message.
   If you are not the addressee indicated in this message, you may not
   copy or deliver this message to anyone.  In such case, you should
   destroy this message and notify the sender by reply email. Opinions,
   conclusions and other information in this message that do not relate
   to the official business of this organisation shall be understood as
   neither given nor endorsed by it.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
