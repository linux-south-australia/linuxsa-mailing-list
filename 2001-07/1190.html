<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: linux X windows screen lock useless?" -->
<!-- FromName="'Alex Garner'" -->
<!-- FromEmail="alex@netcraft.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 25 Jul 2001 10:44:22 +0930" -->
<!-- Id="20010725104422.A8747@april.netcraft.com.au" -->
<!-- Reference="20010725095345.A30759@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: linux X windows screen lock useless?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alex Garner &lt;<I><A HREF="mailto:alex@netcraft.com.au">alex@netcraft.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 25 Jul 2001 10:44:22 +0930
</PRE>
<H1>Re: linux X windows screen lock useless?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Alan,

If you absolutely must use startx, rather than xdm or gdm etc, then
you could try this solution...

	alias startx='/usr/bin/ssh-agent /usr/X11R6/bin/startx \
           &gt; ~/startx.log 2&gt;&1 & vlock'

Obviously this will shove X into the background then lock the console
and hide any ugly output and error messages that will blow away your
vlock password prompt.

It is better to do this than simply exiting the shell, (ie put 'exit'
instead of vlock). The reason for this is that on some systems,
(RedHat par exemple), permissions to certain devices (such as cdrom,
floppy, dsp etc) are granted to the first person to log in at the
console. These permissions are removed when you log out.

This behaviour is controlled by pam and the config file
/etc/security/console.perms. In fact, here is what the pam_console man
page has to say...

    "pam_console.so is designed to give users at the physical console
    (virtual terminals and local xdm-managed X sessions by default,
    but that is configurable) capabilities that they would not
    otherwise have, and to take those capabilities away when the are
    no longer logged in at the console.

Also note that the other type of user who get these permissions by
default is the one who first logs in using xdm! (Another great reason
to use xdm).

Anyway, if you really love startx, then the above alias is your
friend.

&gt; Obviously I need to study xdm. 
&gt; Yet another software-clump to study!
&gt; I can still see problems there though.
&gt; Like do I really want to configure a new monitor
&gt; when I change monitor?
&gt; E.g. I had one machine where the monitor was just not capable
&gt; of running the kdm or gdm or xdm login thing and therefore I
&gt; always wanted to run that machine in text only.
&gt; I've just got in the _habit_ now of setting up all
&gt; machines for console login plus startx.
&gt; It just saves me having to think about anything else.
&gt; At least I get a guaranteed minimum level of access.
&gt; If I get into the _habit_ of using these modern-fangled xdm 
&gt; things, then I'll have to study how to get rid of it when
&gt; I need to.
&gt; Having xdm in inittab obviously makes it more difficult to
&gt; get rid of than running out of startx.
&gt; 
&gt; On my latest machine (a Toshiba portégé 3020CT), I experimented
&gt; with xdm, gdm and kdm for start up for a few days, and finally
&gt; just dumped them all in favour of the getty console.
&gt; The reason in that case was that the mouse was so awful.
&gt; Sometimes even the mouse doesn't work at all or I don't have a mouse.
&gt; And sometimes I don't have the RAM required for using graphics.
&gt; The plain xdm does not give me the options to use gnome or afterstep
&gt; or kde or fvwm2 etc. That's why I prefer gdm or kdm to xdm.
&gt; 
&gt; The "sans mouse" problem can sometimes be solved by the
&gt; control-shift-numberlock trick. But my latest notebook PC
&gt; doesn't have the numberlock key!!
&gt; 
&gt; Anyway, I'll go off and study it now (rather than doing
&gt; productive work!), and write it up in a web page when I understand it.

-- 

Alex Garner &lt;<A HREF="mailto:alex@netcraft.com.au">alex@netcraft.com.au</A>&gt;

NetCraft Australia
Phone (08) 8338 0888
<A HREF="http://www.netcraft.com.au">http://www.netcraft.com.au</A>

"We have achieved the best possible performance by using
the available power supply & holding the air velocity to
a level which will allow it to heat to the highest
temperature near dry hands could stand on a warm day."

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
