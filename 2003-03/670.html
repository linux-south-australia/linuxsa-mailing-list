<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="remote build/install of kernel" -->
<!-- FromName="'Alan Kennington'" -->
<!-- FromEmail="ak.linuxsa@topology.org" -->
<!-- ToName="'LinuxSA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 13 Mar 2003 08:06:56 +1030" -->
<!-- Id="20030313080656.A16965@dog.topology.org" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: remote build/install of kernel</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alan Kennington &lt;<I><A HREF="mailto:ak.linuxsa@topology.org">ak.linuxsa@topology.org</A></I>&gt;
  To  : LinuxSA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 13 Mar 2003 08:06:56 +1030
</PRE>
<H1>remote build/install of kernel</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Has anyone figured out what things you have to worry about
when you compile a kernel on one machine and then install it
to another machine?

My scenario is this:

-	I build kernel 2.4.20 on a fast machine A - well, fast by
	my standards. The .config file is chosen to be appropriate to
	machine B, which is about 6 times slower.

-	Then I want to install the kernel on very slow machine B.
	It's easy enough to ssh the bzImage file and System.map
	file to /boot on machine B.

The kind of problems I'm thinking of are:

-	The kernel image might not be quite right for the CPU on machine B,
	even though I've indicated the right CPU type in the
	.config file. Machine A has an Intel P3/933. 
	Machine B has a mobile pentium MMX/300. (It _is_ 6 times slower!)

-	The "make modules_install" doesn't go to the right place.
	I'd have to ssh the files across from A to B somehow.

-	In the directory /lib/modules/2.4.20 on machine B, when I do
	compile the kernel on B, there's this symbolic link:
	
	build -&gt; /usr/src/linux-2.4.20

	This makes me suspicious that the modules will not work in practice
	without the kernel source being there on machine B.

I've been reading the documentation, and so far there's nothing much
enlightening. 
What would have been useful would have been some sort of 
"make remote_modules_install" Makefile target.
There's clearly no such thing in the kernel Makefile,
although it can be forced to go to a directory other than /lib/modules.

My purpose in all of this is, of course, to be able to do quick
re-makes of the kernel on one machine, and then install the kernel
onto the slower machine.

Yes I realise that I could just do "make modules_install" on machine A
to a non-standard temporary directory and then do a recursive ssh
and "see what happens", but I'm sure that someone out there can tell me
if there is a standard way of doing this task. I like standards!

CHeers,
Alan Kennington.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
