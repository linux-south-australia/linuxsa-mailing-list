<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Kernel 2.5.64 - Kernel boots up but I cannot get to the shell" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="linuxcpa@netscape.net" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 26 Mar 2003 01:02:29 -0800" -->
<!-- Id="3E816CA5.7070108@netscape.net" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Kernel 2.5.64 - Kernel boots up but I cannot get to the shell</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:linuxcpa@netscape.net">linuxcpa@netscape.net</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 26 Mar 2003 01:02:29 -0800
</PRE>
<H1>Kernel 2.5.64 - Kernel boots up but I cannot get to the shell</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I have been working on a script that automates the process of 
downloading a kernel of the user's choice from kernel.org, and then 
configuring it based upon a prexisting .config file. This means that you 
have to already have kernel sources installed.  It is only working on 
the APT side. I have to call up kernelconfig.sh on the pure RPM side.

I am doing this for the Netwhere client, so I don't have to keep 
updating the script every time a new version of kernel is included in 
the newer distributions, and so that I can predict where kernel sources 
are stored (Lindows had bzip there once, then a tar, then just a 
directory...ugg!) and not have to change all the time.  I have a little 
bit of a mess to clean up as far as wording and script independence is 
concerned, but basically the kernelconfig.sh script is close to being 
able to stand on its own. I hope to be able to use it with other tools, 
as a module of other tools, but also use it as a tool that stands on its 
own.

The script assumes that you are on the Internet before starting, and 
downloads the programs you need to configure the kernel sources with a 
GUI. It uses with apt, ftp wget and urpmi depending upon the 
distribution used. I have started on the RPM side, as this works in SuSE 
8.1, but I know that there are few things I can polish.  And I like to 
test it out too.

The script "makes" dep oldconfig, bzImage and moves the uniquely named 
kernel into /boot so that it won't pave over a preexisting kernel. It 
also gives an option to make modules and make modules_install.  I am not 
done with the bootloader, you have to add the new kernel to lilo or grub.

Anyway, I got 2.4.20 to work as long as I compiled Reiser into my 
kernel, although the make modules is pretty time consuming, it could 
make it easy for new users to add features, I hope.

Although I am able to make a ram disk that insmod's Reiser, it will not 
boot that way.


Only thing you have to do in SuSE is run "xhosts +" in the console so 
the bloody GUI will come up for the root user. I wanted to embed that in 
the script, but when the user switches, the script dies.

Anyway, here is a link to this preliminarily. 
 <A HREF="http://www.morton2001.org/netwhere.tar.gz">http://www.morton2001.org/netwhere.tar.gz</A>

I have more testing to do on this.

It really ain't completely ready yet, so, look it over before running 
it. Or you ought to know how it works before using it.

I think it still depends upon some variables from the body of the 
netwhere script.


***************Anyway My Question was...************************

I decided to horse around a bit and see what would happen if I picked 
2.5.64.  My expectation, to not expect not much, was fulfilled. I got to

Uncompressing...ok booting the kernel...

and then it all went black.

No more error messages showed, and the screen was just black while I had 
some disk activity, no shell. I finally rebooted.

It said the file system was not cleanly unmounted, but recovered like 
Reiser can do.

I may have left out a configuration or something, make oldconfig had a 
_lot_ of new options, and maybe I missed one before compiling the kernel.

Does anyone have any ideas?

James Leone




-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
