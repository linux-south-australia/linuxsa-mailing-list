<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: DNS delay or mail server" -->
<!-- FromName="'Dazz'" -->
<!-- FromEmail="bofh@afoyi.com" -->
<!-- ToName="" -->
<!-- ToEmail="eljumad@internode.on.net" -->
<!-- Date="Wed, 26 Mar 2003 08:53:44 +1030 (CST)" -->
<!-- Id="1144.202.6.150.210.1048631024.squirrel@webmail.fuzzitech.net" -->
<!-- Reference="3E80C7FE.8050507@internode.on.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: DNS delay or mail server</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Dazz &lt;<I><A HREF="mailto:bofh@afoyi.com">bofh@afoyi.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:eljumad@internode.on.net">eljumad@internode.on.net</A></I>&gt;
  Date: Wed, 26 Mar 2003 08:53:44 +1030 (CST)
</PRE>
<H1>Re: DNS delay or mail server</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi Julian,

I've re-ordered your email.

&gt; A friend sent me this and said that the TTL for the mail records was 24
&gt; hours. Does this mean that I can't expect mail to be received for 24
&gt; hours?

In a nutshell yes. The TTL field tells nameservers how long they can cache
the result of the lookup for. So, any nameservers that would have looked
up your MX host within the last 24 hours don't have to look it up again so
they will use the old details. If they haven't sent you an email within
the last 24 hours though, they should get the new details if you have DNS
set up correctly.

It is fairly customary that if you know you are going to be making major
changes like you have done that 3 or 4 days in advance you drop the TTL
right down to something like 1 hour or even 10 minutes if you have a
fairly busy site. That way you minimise the time delay waiting for DNS
changes to propogate.

&gt; Later on that night from another location I pinged the mail server name
&gt; (not IP address) and it was resolved to the old IP address (the

That site has obiously done a lookup on your mail host records in the last
24 hours.

&gt; dial-up). From home about 20min later I pinged and the name resolved to
&gt; the correct IP (different ISPs in the 2  pings though).

And this one hasn't. Also, the fact that it is resolving shows that the
DNS changes were successful.

&gt; Hours after sending test emails, I get these replies:

snip.

&gt; Reporting-MTA: dns; fep.internode.on.net

You are trying to send an email using internode's mail server but it
doesn't know what the new address is ...

&gt; ; &lt;&lt;&gt;&gt; DiG 9.2.1 &lt;&lt;&gt;&gt; mail.sadi.org.au
&gt; sadi.org.au.            86374   IN      NS      ns2.on.net.
&gt; sadi.org.au.            86374   IN      NS      ns3.on.net.
&gt; sadi.org.au.            86374   IN      NS      ns4.on.net.
&gt; sadi.org.au.            86374   IN      NS      ns1.on.net.

.... even though Internode is hosting the DNS and the ISP above was able to
resolve it?? That doesn't make much sense unless Internode are not using
their authoritive nameservers for their own DNS requirements (possible I
guess).

Just for your info, when I ping it from here (I'm using my own nameserver
and not forwarding to my ISP) I get an IP address of 150.101.30.38 back.

Regards
Darryl Ross




-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
