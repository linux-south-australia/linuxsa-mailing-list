<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Samba Authentication [Was: Samba user management]" -->
<!-- FromName="'Freeman, Peter (ERHS)'" -->
<!-- FromEmail="Freeman.Peter@saugov.sa.gov.au" -->
<!-- ToName="'Matthew Geddes'" -->
<!-- ToEmail="mgeddes@tellurian.com.au" -->
<!-- Date="Wed, 12 Mar 2003 15:04:19 +1030" -->
<!-- Id="957F5820F786D511AEDF0002A56B67FC091925A3@sagemsg0012.sagemsmrd01.sa.gov.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Samba Authentication [Was: Samba user management]</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Freeman, Peter (ERHS) &lt;<I><A HREF="mailto:Freeman.Peter@saugov.sa.gov.au">Freeman.Peter@saugov.sa.gov.au</A></I>&gt;
  To  : Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@tellurian.com.au">mgeddes@tellurian.com.au</A></I>&gt;
  Date: Wed, 12 Mar 2003 15:04:19 +1030
</PRE>
<H1>RE: Samba Authentication [Was: Samba user management]</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt;  * Authenticate the users of UNIX services using PAM, where possible.
&gt;  * Have PAM configured to authenticate the users based on information
&gt;	stored in an LDAP directory (doesn't have to be on UNIX
&gt; 	machines)
&gt;  * Turn on password encryption on the Samba PDC
&gt;  * Have Samba compiled and configured to store it's authentication in
&gt;	the same LDAP directory
&gt;  * Configure Samba to update unix passwords (unix passwd sync 
&gt;smb.conf 
&gt;	option) in the LDAP directory when Samba password changes
&gt;  * Let users change their passwords using the Windows control panel

Password expiration is an issue I haven't yet resolved in our Samba
sites.  I have spent some time on it in one site and left it for 
later when I have more time.  The workstations are all Win2000 and are
part of the Samba (2.2.7a) domain, however by setting the password
expiry date using chage all I managed to do was lock the account when the 
password expired, rather than have Windows prompt the user to change their
password in "normal" fashion.  

I used the "obey pam restrictions", "unix password sync" and "pam password
change" parameters as documented in the various Samba lists, and used chage
to set the expiry parameters for PAM.  Did I miss anything?  Has your client
above used password expiry with LDAP?  My long term plans include a central
LDAP directory for authentication (see posts a few months back) possibly
using
Samba 3 when it comes out (pending fairly extensive testing post release :)


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
