<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Bash & Script" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="andrewlord@internode.on.net" -->
<!-- Date="Tue, 18 Mar 2003 12:21:30 +1030" -->
<!-- Id="3E767BA2.6030902@aarnet.edu.au" -->
<!-- Reference="200303180042.09256.andrewlord@internode.on.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Bash & Script</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:andrewlord@internode.on.net">andrewlord@internode.on.net</A></I>&gt;
  Date: Tue, 18 Mar 2003 12:21:30 +1030
</PRE>
<H1>Re: Bash & Script</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Andrew Lord wrote:

&gt; and I run it as you suggested, like 
&gt; 
&gt; SHELL=./BashTest script SomeFunkyFileName  
&gt; 
&gt; then about one time in 10, the code in the bash script gets executed.

Ouch.

Let me do it

   which bash
     /bin/bash
   vi BashTest
     #!/bin/bash --
     date
   chmod a+rx BashTest
   SHELL=./BashTest script SomeFunkyFileName
   cat SomeFunkyFileName
     Script started on Tue Mar 18 12:03:42 2003
     Tue Mar 18 12:03:42 CST 2003

     Script done on Tue Mar 18 12:03:42 2003

Perhaps it's as simple as not making the file executable or
giving a relative path and not being in the current directory.

If you're doing anything complicated (like running make) then
I'd be starting the script BashTest with

   #!/bin/bash --
   SHELL=/bin/bash

so that programs called in BashTest that look for SHELL
aren't terminally confused.

Also, you could always use the shell's own facilities to
redirect the output.  Have a look at the shell's "2&&gt;1"
operation and the "tee" program.

Regards,
Glen

BTW: Installers are evil.  It's much less work for
      you and users if you use the platform's native
      packaging.  This is one of the real strengths
      of Unixen over Windows.  See the Samba code for
      how to create packages for a variety of platforms.

-- 
  Glen Turner                (08) 8303 3936 or +61 8 8303 3936
  Australian Academic and Research Network   www.aarnet.edu.au

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
