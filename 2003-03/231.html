<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ssh port forwarding" -->
<!-- FromName="'David de Groot'" -->
<!-- FromEmail="david@viking.org.au" -->
<!-- ToName="'Richard Russell'" -->
<!-- ToEmail="richard@yellowgoanna.com" -->
<!-- Date="Wed, 5 Mar 2003 16:23:21 +1030" -->
<!-- Id="C55647B9-4ECE-11D7-AEAF-003065FAEBB6@viking.org.au" -->
<!-- Reference="20030305041700.GE2597@yellowgoanna.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ssh port forwarding</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David de Groot &lt;<I><A HREF="mailto:david@viking.org.au">david@viking.org.au</A></I>&gt;
  To  : Richard Russell &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  Date: Wed, 5 Mar 2003 16:23:21 +1030
</PRE>
<H1>Re: ssh port forwarding</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Wednesday, Mar 5, 2003, at 14:47 Australia/Adelaide, Richard Russell 
wrote:

&gt; On Wed, Mar 05, 2003 at 03:33:47AM +0000, Kim Hawtin wrote:
&gt;&gt; On Wed, Mar 05, 2003 at 01:40:38PM +1030, Richard Russell wrote:
&gt;&gt;&gt; &lt;snip&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; i assume you're doing the port forward for mail...
&gt;&gt;&gt;
&gt;&gt;&gt; Mail and ssh, yes (there's a similar one 2222 -&gt; 22)
&gt;&gt;
&gt;&gt; ok i assume the server you can currently *can* access is vewable from
&gt;&gt; the internet on a real IP addr? and the one you want to send mail to
&gt;&gt; from is behind a NAT ... ?
&gt;
&gt; yes, I ahve a real IP, and I need to send mail to a mailserver on a 10.
&gt; address, which is behind someone else's NAT gateway...
&gt;

I take it that NAT gateway doesn't forward port 22 to the internal 
machine ?

If it does (or can be made to do so), you could use something like:

ssh -2 -C ext-ip-of-NAT-gw -L 2525:10.x.x.x:25 -L 2510:10.x.x.x:110 -L 
2543:10.x.x.x:143

(you'd then point your mail client at localhost:2525 on the remote 
machine to get to port 25 on the 10.x.x.x machine)

But if it doesn't forward port 22 traffic, things become more difficult.

If you have access to the 10.x.x.x machine, you could initiate an ssh 
connection to the remote machine and us -R mapping to map ports on the 
remote machine to the real ports on the 10.x.x.x machine.

However it sounds like you don't have the luxury of that access either.

In that case I'm a bit stuck...

Dave
-- 
David de Groot
ICQ: 38962228 / 1315031     AIM: dadegroot
MSN: <A HREF="mailto:beelzebub@vikings.homeip.net">beelzebub@vikings.homeip.net</A>
Web: https://www.vikings.homeip.net/~david/

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
