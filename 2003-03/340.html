<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="File serving bottlenecks" -->
<!-- FromName="'Richard Russell'" -->
<!-- FromEmail="richard@yellowgoanna.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 7 Mar 2003 17:26:05 +1030" -->
<!-- Id="20030307065605.GB1213@yellowgoanna.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: File serving bottlenecks</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Russell &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 7 Mar 2003 17:26:05 +1030
</PRE>
<H1>File serving bottlenecks</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi all,

I've got a client with some fileserving bottlenecks (among other
issues)... Basically, they have files stored mostly on old disks on
slowish SCSI channels, with a 10BaseT connection, all on an old legacy
server... There's other newer servers, but they all seem to share 
their disks to this slow machine, which then shares them out again...  
(making a double bottleneck).  Making this situation worse, some of 
the files they use are very large databases (Gb+).

So, I want to suggest a change. I want to make a single fileserver, with
all the data on it, and I want to remove the network and disk bus
bottlenecks. My thoughts are as follows:

The disk situation will be fairly easy -- big, fast disks, either
software or hardware raid, and some choice of SCSI or ATA -- this choice
requires some thought, but I can evaluate that without too much
difficulty. However, if anyone has any tips here, for dealing with over
200Gb of data on one machine (easy these days), and making it fast...
for both small file reads and enormous file reads... ... let me know...
:)

The network side of things though, is where I hope to make some real
gains. I guess it depends whether the disk access is going to be fast
enough to make the network into a bottleneck (but I suspect that with
some effort, a large cache, and fast bits, it will)... For now, let's
just assume it will make 100BaseT a bottleneck. How can I overcome this?

Notes:
* I'll be using both SAMBA and NFS
* Files vary from the usual NT profiles and small files through to
enormous databases
* usage is by 20-odd users on PCs around the network
* I have no control over the switching fabric of the network

So, my thoughts are that I'd like to serve files over two (or more?)
network interfaces, and have this done transparently. How can I do this?

Can I give them the same IP address and hope that the switch figures it
out (I doubt it)?

Can I give them different IP addresses, but a shared DNS entry, so NFS
requests get round-robined? What about SAMBA? How would I do this?

Can I give them different IP addresses, and different DNS entries, but
split people's accounts so their home directories are on either one or
the other, despite being on the same box?

I can't go Gbit, as I don't control the switch... I can't configure the
switch to do anything different either... I can't really put a load
balancing device or anything in the way, as the bottleneck is (likely to
be) the network rather than the machine (isn't that Sun's slogan?)


... So... any thoughts? :)

rr

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
