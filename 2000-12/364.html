<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Perl and MySQL problem" -->
<!-- FromName="'Mark Williams'" -->
<!-- FromEmail="hirm@chariot.net.au" -->
<!-- ToName="'Darryl Merritt'" -->
<!-- ToEmail="darryl@dda.com.au" -->
<!-- Date="Sun, 10 Dec 2000 16:06:31 +1030" -->
<!-- Id="001901c0626b$2770cae0$0201a8c0@comp" -->
<!-- Reference="NCBBJILPKKDEGDJJNMMCMEAPCIAB.darryl@dda.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Perl and MySQL problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Williams &lt;<I><A HREF="mailto:hirm@chariot.net.au">hirm@chariot.net.au</A></I>&gt;
  To  : Darryl Merritt &lt;<I><A HREF="mailto:darryl@dda.com.au">darryl@dda.com.au</A></I>&gt;
  Date: Sun, 10 Dec 2000 16:06:31 +1030
</PRE>
<H1>Re: Perl and MySQL problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Looking through "ld"s options, there is no -lz option.
Find where the ld command line is defined in that intaller script and remove
the -lz from it.
See if that helps.

MWP

&gt;
&gt; Hello All,
&gt;
&gt; I'm trying to install the DBD::MySQL package and am having a problem.
&gt;
&gt; My comments are marked by **
&gt;
&gt;
&gt; [root]#  perl -MCPAN -e 'install DBD::mysql'
&gt;
&gt; Fetching with LWP:
&gt;   <A HREF="http://www2.linuxforum.net/mirror/CPAN/modules/03modlist.data.gz">http://www2.linuxforum.net/mirror/CPAN/modules/03modlist.data.gz</A>
&gt; Going to read /root/.cpan/sources/modules/03modlist.data.gz
&gt; Running make for J/JW/JWIED/Msql-Mysql-modules-1.2215.tar.gz
&gt; CPAN: MD5 loaded ok
&gt; Checksum for
/root/.cpan/sources/authors/id/J/JW/JWIED/Msql-Mysql-modules-1.2215.tar.gz
&gt;
&gt;
&gt; ** unpacks a lot of files..
&gt;
&gt;
&gt;   CPAN.pm: Going to build J/JW/JWIED/Msql-Mysql-modules-1.2215.tar.gz
&gt;
&gt; Which drivers do you want to install?
&gt;
&gt;     1)  MySQL only
&gt;     2)  mSQL only (either of mSQL 1 or mSQL 2)
&gt;     3)  MySQL and mSQL (either of mSQL 1 or mSQL 2)
&gt;
&gt;     4)  mSQL 1 and mSQL 2
&gt;     5)  MySQL, mSQL 1 and mSQL 2
&gt;
&gt; Enter the appropriate number:  [3] 1
&gt;
&gt;
&gt; Do you want to install the MysqlPerl emulation? You might keep your old
&gt; Mysql module (to be distinguished from DBD::mysql!) if you are concerned
&gt; about compatibility to existing applications! [n]
&gt; Where is your MySQL installed? Please tell me the directory that
&gt; contains the subdir 'include'. [/usr]
&gt; Which database should I use for testing the MySQL drivers? [test]
&gt; On which host is database test running (hostname, ip address
&gt; or host:port) [localhost]
&gt; User name for connecting to database test? [undef] root
&gt; Password for connecting to database test? [undef]
&gt; Creating files for MySQL ....................
&gt; Checking if your kit is complete...
&gt; Looks good
&gt;
&gt;
&gt; ** Then is this (obviously not harmless) message... Anyone know what the
missing library is?
&gt;
&gt;
&gt; Note (probably harmless): No library found for -lgz
&gt;
&gt;
&gt; Using DBI 1.14 installed in
/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI
&gt; Writing Makefile for DBD::mysql
&gt; Writing Makefile for Msql-Mysql-modules
&gt; mkdir blib
&gt; mkdir blib/lib
&gt; mkdir blib/arch
&gt; mkdir blib/arch/auto
&gt; mkdir blib/arch/auto/Msql-Mysql-modules
&gt; mkdir blib/lib/auto
&gt; mkdir blib/lib/auto/Msql-Mysql-modules
&gt; mkdir blib/man1
&gt; /usr/bin/perl -Iblib/arch -Iblib/lib -I/usr/lib/perl5/5.00503/i386-linux \
&gt; -I/usr/lib/perl5/5.00503 -Ilib -MExtUtils::PerlPP \
&gt; -e ppp "dbd/dbimon.in" "dbimon" "lib/DBD/mysql/Install/Config.pm"
&gt; /usr/bin/pod2text mysql/lib/DBD/mysql.pm &gt;README
&gt; make[1]: Entering directory
`/root/.cpan/build/Msql-Mysql-modules-1.2215/mysql'
&gt; mkdir ../blib/lib/DBD
&gt; mkdir ../blib/arch/auto/DBD
&gt; mkdir ../blib/arch/auto/DBD/mysql
&gt; mkdir ../blib/lib/auto/DBD
&gt; mkdir ../blib/lib/auto/DBD/mysql
&gt; mkdir ../blib/man3
&gt; cp lib/DBD/mysql.pm ../blib/lib/DBD/mysql.pm
&gt; cp lib/Bundle/DBD/mysql.pm ../blib/lib/Bundle/DBD/mysql.pm
&gt; cp lib/Mysql/Statement.pm ../blib/lib/Mysql/Statement.pm
&gt; cp lib/Mysql.pm ../blib/lib/Mysql.pm
&gt;
cc -c -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/include/my
sql -I../dbd -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/lib
/perl5/5.00503/i386-linux -Dbool=char -DHAS_BOOL -I/usr/local/include -O2 -m
486 -fno-strength-reduce    -DVERSION=\"2.0415\" -DXS_VERSION=\"2.0415\" -fp
ic -I/usr/lib/perl5/5.00503/i386-linux/CORE -DDBD_MYSQL dbdimp.c
&gt; /usr/bin/perl -p -e "s/~DRIVER~/mysql/g" &lt;
/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI/Driver.xst &gt; mysql.xsi
&gt; /usr/bin/perl -I/usr/lib/perl5/5.00503/i386-linux -I/usr/lib/perl5/5.00503
/usr/lib/perl5/5.00503/ExtUtils/xsubpp -object_capi  -typemap
/usr/lib/perl5/5.00503/ExtUtils/typemap mysql.xs &gt;xstmp.c && mv xstmp.c
mysql.c
&gt;
cc -c -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/include/my
sql -I../dbd -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/lib
/perl5/5.00503/i386-linux -Dbool=char -DHAS_BOOL -I/usr/local/include -O2 -m
486 -fno-strength-reduce    -DVERSION=\"2.0415\" -DXS_VERSION=\"2.0415\" -fp
ic -I/usr/lib/perl5/5.00503/i386-linux/CORE -DDBD_MYSQL mysql.c
&gt; Running Mkbootstrap for DBD::mysql ()
&gt; chmod 644 mysql.bs
&gt;
LD_RUN_PATH="/usr/lib/mysql:/lib:/usr/lib:/usr/lib/gcc-lib/i386-redhat-linux
/egcs-2.91.66" cc -o
../blib/arch/auto/DBD/mysql/mysql.so  -shared -L/usr/local/lib dbdimp.o
mysql.o -L/usr/lib/mysql    -L/usr/lib/mysql -lmysqlclient -lm -lz -L/usr/li
b/gcc-lib/i386-redhat-linux/egcs-2.91.66 -lgcc
&gt;
&gt; ** and then this.. is it related to the 'harmless' message above ?
&gt;
&gt; /usr/bin/ld: cannot find -lz
&gt; collect2: ld returned 1 exit status
&gt;
&gt; make[1]: *** [../blib/arch/auto/DBD/mysql/mysql.so] Error 1
&gt; make[1]: Leaving directory
`/root/.cpan/build/Msql-Mysql-modules-1.2215/mysql'
&gt; make: *** [subdirs] Error 2
&gt;   /usr/bin/make  -- NOT OK
&gt; Running make test
&gt;   Oops, make had returned bad status
&gt; Running make install
&gt;   Oops, make had returned bad status
&gt; [root]#
&gt;
&gt;
&gt; I thought might be tied up with gzip or bzip2 or sometype of compression,
by I cant find any reference to this error at all..  I made sure all the
pre-requisites are installed..
&gt;
&gt; I get the same error regardless of which options I select on the way
through..
&gt;
&gt; Any ideas?
&gt;
&gt; Darryl
&gt;
&gt;
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
