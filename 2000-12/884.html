<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="weird crash and burn (longish)" -->
<!-- FromName="'Tim Fairchild'" -->
<!-- FromEmail="amosf@mrbean.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 27 Dec 2000 13:01:20 +1000" -->
<!-- Id="00122712524703.01032@shiva" -->
<!-- Reference="200012261254.eBQCsik16957@pandora.chariot.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: weird crash and burn (longish)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Tim Fairchild &lt;<I><A HREF="mailto:amosf@mrbean.net.au">amosf@mrbean.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 27 Dec 2000 13:01:20 +1000
</PRE>
<H1>weird crash and burn (longish)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Until a few days ago I had a P120 system with 2 x 8gig fugitsu drives and 48 
meg ram running a triple boot win 95 - MDK 7.2 - MDK 7.0

the two drives were master and slave on the primary IDE (I now have them on 
separate IDE channels) 

the Master drive had /dev/hda1 as a extended partition with various fat 
partitions and two linux partitions for / and /home - tagged as type 83 of 
course. It also had /dev/hda2 as the windows 95 partiton and an old boot 
magic part on /dev/hda3 - not used anymore.

The system was booted with Boot Magic from a mandrake dirstro.

It runs pretty much 24/7 in a nice airconditioned room.

A couple of days before christmas I came to the machine with the screen saver 
running and the drives powered down. Hadn't been used in a while. I moved the 
mouse and the rives power up - then it locks hard and I get the horrible dead 
drive controller clicking sound coming from a drive. I lost an old 1 gig 
drive on this machine a few months back (maybe a conected problem) and had a 
similar sound.

Anyway, had little choice but to kill the power. Not surprisinly, the machine 
wouldn't boot and gave a funny sound.

So the box was opened and everything disconnected to find the prob. The slave 
drive has quite a few bad blocks on it and it's older, so I tried it first - 
but it sounded fine during power on. I booted tomsrtbt and checked the drive. 
Looked okay so I bagged it. Had all the important data on it :-)

The master drive also powered up okay on it's own, but wouldn't boot. Didn't 
get a controller error though. Booted with toms and had a look with fdisk. 
Looked okay except there was only one linux partition! Okay, so my /home 
partition was wiped it seemed...

On closer inspection tho, I found that the /home partition, which is 
definately ext2, had been retagged as a fat type 6 partition - so it was 
there. I couldn't mount it with toms however, so I figured it was damaged. I 
have since been able to mount the partition, so not sure what the trouble was 
there. 

Anyway, it was a fairly new install and I couldn't get it to boot, so I 
cleaned the part with / and made a new filesystem, did bad blocks on it, etc, 
and it all looked fine. The drive works, no bad blocks...

I did an fdisk /mbr from dos and even got the win part to boot...

So after losing a drive and then having a major crash like this I got worried 
about power supplies and mb's  - so I went out and got whatever I could on 
christmas eve. My nice computer guy opened his shop and I got a fairly good 
deal on a PIII 700 with case and mb and ram (it was all he had).

I put the two 8 gig drives in that - both as master drives on each ide and 
the cd as a primary slave. MDK 7.2 is reinstalled and so is bootmagic.

I can now even mount the old /home partition and it looks okay. Had to fiddle 
a bit with MDK 7.0 as it was on the other drive and was shifted from hdb to 
hdc, but it's working now as well. 

So, the questions :-)

Any ideas how or what happened ??? 

If I retag the 'lost' /home partition from 6 to 83, will it wipe it... At the 
moment windows can 'see' it but can't mount it of course. I'm still getting 
my cd-writer going (ide) and have to get the kernal right. When 
I do I'll try and back it up just in case.

There is not a lot on this /home part as it was a fairly new install, but 
there is a little data and some downloads with cost me a bit in time and 
money on the slow connection...

This has to be the worst crash since I've been using linux (for several 
years) but what really strange is that all the hardware seems to be working. 
Drives are going fine in the new machine and the old box is working fine on 
another drive on the 'test bench'. I was sure it had to be some sort of 
hardware thing - perhaps with the two hd's on the one channel on the old mb - 
I don't know.

I'd just like to think it wasn't a linux software glitch that damaged the mbr 
and changed partition table entries!!! 

tim

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
