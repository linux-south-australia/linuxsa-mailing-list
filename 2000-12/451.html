<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Samba + Automount" -->
<!-- FromName="'Dan Shearer'" -->
<!-- FromEmail="dan@tellurian.com.au" -->
<!-- ToName="'Adam Hawes'" -->
<!-- ToEmail="adam_hawes@dingoblue.net.au" -->
<!-- Date="Tue, 12 Dec 2000 09:07:53 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.21.0012120858000.5038-100000@calulu.shearer.org" -->
<!-- Reference="3A354F6C.AA74033D@dingoblue.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Samba + Automount</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Dan Shearer &lt;<I><A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A></I>&gt;
  To  : Adam Hawes &lt;<I><A HREF="mailto:adam_hawes@dingoblue.net.au">adam_hawes@dingoblue.net.au</A></I>&gt;
  Date: Tue, 12 Dec 2000 09:07:53 +1030 (CST)
</PRE>
<H1>Re: Samba + Automount</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 12 Dec 2000, Adam Hawes wrote:

&gt; &gt; eg make sure you have a CD in the drive and do the following:
&gt; &gt; 
&gt; &gt; add a new share, say call it cdrom and add the following to the smb.conf file
&gt; &gt; in /etc/
   :
&gt; The problem with this is:
&gt; 
&gt; Windows users would need telnet/ssh/other access to the box to mount
&gt; their disks before they can use them with the smb share.  They then need
&gt; to unmount them before they eject them.
&gt; I want a system where the disk can be inserted and mounted on insertion

Samba has numerous clever hooks for building runtime intelligence. One
place you can put this is with "preexec" in smb.conf:

    This  option specifies a command to be run whenever
    the service is connected to.  It  takes  the  usual
    substitutions.     

So if you can write a script which checks to see if the media is mounted
and if not, mounts it then you have a solution. Don't forget to use the
"preexec close" parameter as well for error handling.

Incidentally it is this feature of Sabma that it is so programmable that
means that a network with Windows clients talking to Samba can do much
more and cleverer things than the same clients talking to NT or 2000. The
substitution mechanism is very powerful and you can even build in
client-driven Unix scripting with the "magic script" feature.

--
Dan Shearer
Open Source Manager
<A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
