<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: internet shareing" -->
<!-- FromName="'Adam Hawes'" -->
<!-- FromEmail="adam_hawes@dingoblue.net.au" -->
<!-- ToName="'Andrew Galdes','Linux SA'" -->
<!-- ToEmail="galdes1@iprimus.com.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 24 Dec 2000 12:33:30 +1030" -->
<!-- Id="3A455972.65FE2A2E@dingoblue.net.au" -->
<!-- Reference="00122411174400.01540@server.galdes.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: internet shareing</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Adam Hawes &lt;<I><A HREF="mailto:adam_hawes@dingoblue.net.au">adam_hawes@dingoblue.net.au</A></I>&gt;
  To  : Andrew Galdes &lt;<I><A HREF="mailto:galdes1@iprimus.com.au">galdes1@iprimus.com.au</A></I>&gt;<BR>        Linux SA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sun, 24 Dec 2000 12:33:30 +1030
</PRE>
<H1>Re: internet shareing</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; g'day all,
&gt; i have mandrake 7.2 sharing its internet connection with a win machine. is
&gt; there a way can limit the usage by each computer?
&gt; cheers,
&gt; andrew galdes

I'd dearly love to do this too.  If you're brave there is a load
balancing NAT proxy thing that replaces the kernel firewall code. 
Only problem is that it hasn't been ported to a version of the kernel
newer than what shipped with RH4.2.

You could set up things like Squid proxies and things and forcefully
limit the total number of connections each machine is allowed to make
throught the proxy.  You'd also have to securely firewall the
gateway box because otherwise they _WILL_ work out how to
bypass the proxy and slow you down again.  I have this trouble
all the time:  30+ connections to one server from one box. Problem
is that other users don't care that they're sharing bandwidth with
everyone else.. they see that 30 open connections gives then
(their 30) / (everyone else's cumulative 10 or so) = 3x the
speed of everyone else!

Freshmeat has a number of load balancing TCP proxies listed;
I searched for "balance" and found two good ones. "proxy"
will also get you a few.  They are all very similar, but 
vastly different to configure. I am in the process if getting
my gateway box to transparently proxy a number of services
(http, ftp, nntp) through their own limiting proxy so that I can
even things up here.

Essentially, these proxies accept connections from a machine,
and then open a connection to the outside world on behalf
of the machine.  If you use an external proxy server (your ISP's)
you can simply configure a TCP proxy on port 8080 (or 80) to
connect to your ISP's proxy.  The TCP proxy can count the number
of connections from each box, and there was even one that could
actually control bandwidth somewhat arbitrarily.

Cheers,
Adam

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
