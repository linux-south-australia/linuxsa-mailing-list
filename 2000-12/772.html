<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: ftp" -->
<!-- FromName="'David Lloyd'" -->
<!-- FromEmail="lloy0076@rebel.net.au" -->
<!-- ToName="'Leigh Hart'" -->
<!-- ToEmail="hart@dotat.com" -->
<!-- Date="Thu, 21 Dec 2000 00:22:30 +1030" -->
<!-- Id="3A40B99E.CDD63938@rebel.net.au" -->
<!-- Reference="200012201320.XAA03976@at.dotat.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: ftp</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  To  : Leigh Hart &lt;<I><A HREF="mailto:hart@dotat.com">hart@dotat.com</A></I>&gt;
  Date: Thu, 21 Dec 2000 00:22:30 +1030
</PRE>
<H1>Re: ftp</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Ummm....

Yes, but I have done some fiddling - and besides which Robert Ziegler's
excellent book `Linux Firewalls' (New Riders) reinforces so. It appears
you must let all source unpriviliged ports to all destination
unpriviliged ports. This of course means you should put your FTP rules
after anything which blocks NFS, ICQ, IRC and a multitude of other
protocols that talk unprivileged to unpriviliged.

Anyway, back to my fiddling.

I've:

Denied connections in and out to port 21 and port 20 but let all
unprivileged to unprivileged through.
FTP is totally dead.
Allowed connections in and out to port 21, blocked port 20, blocked all
unp to unp
FTP will authenticate me
But nothing works...no passive or active connections
Allowed connections in & out to port 21, blocked port 20, allowed all
unp to unp
FTP authenticates
Active FTP hangs
Passive FTP works

I surmise that the client (me) TELLS the remote server what unpriviliged
port it should look on...

DL

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
