<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: SQUID: Filemap bits?" -->
<!-- FromName="'Matthew Geddes'" -->
<!-- FromEmail="mgeddes@xavier.sa.edu.au" -->
<!-- ToName="'Boman, Jamz'" -->
<!-- ToEmail="jamz@netbridge.com.au" -->
<!-- Date="Mon, 04 Dec 2000 16:25:51 +1030" -->
<!-- Id="3A2B31E7.993598A6@xavier.sa.edu.au" -->
<!-- Reference="88A38F9732DCD311885D00A0C99E85922DEA3B@amsnt1adl.aag-p.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: SQUID: Filemap bits?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@xavier.sa.edu.au">mgeddes@xavier.sa.edu.au</A></I>&gt;
  To  : Boman, Jamz &lt;<I><A HREF="mailto:jamz@netbridge.com.au">jamz@netbridge.com.au</A></I>&gt;
  Date: Mon, 04 Dec 2000 16:25:51 +1030
</PRE>
<H1>Re: SQUID: Filemap bits?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
"Boman, Jamz" wrote:
&gt; 
&gt; People,
&gt;         How concerned should I be, when the squid cache manager says 51% of
&gt; my file map bits are in use?  Its currently using only 0.5GB of a 6GB store,
&gt; will use of filemap bits prevent the store expansion to its full size?
&gt; Should I have mkfs'd with different parameters for more inodes etc.?  Where
&gt; should I look to fully grok filemap bits?
&gt; 
&gt; TIA,
&gt;         Jamz
&gt; 
&gt; Excerpt from cachemgr:
&gt; 
&gt; Store Directory Statistics:
&gt; Store Entries          : 66470
&gt; Maximum Swap Size      :  6291456 KB
&gt; Current Store Swap Size:   429287 KB
&gt; Current Capacity       : 7% used, 93% free
&gt; 
&gt; Store Directory #0: /usr/local/squid/cache
&gt; First level subdirectories: 32
&gt; Second level subdirectories: 512
&gt; Maximum Size: 6291456 KB
&gt; Current Size: 429287 KB
&gt; Percent Used: 6.82%
&gt; Filemap bits in use: 66193 of 131072 (51%)
&gt; Filesystem Space in use: 1435032/8056492 KB (18%)
&gt; Filesystem Inodes in use: 133228/1024128 (13%)
&gt; 

I'm no expert, but I believe the filemap is just a map of which files
live where in the cache. If you have lots and lots of small files,
squid's internal filemap tables will fill up before your disk space
does. There are a few options in squid.conf you can tweak to fix the
problem. I can't remember them off hand, but the documentation inside
squid.conf is very good. The squid FAQ is probably a good resource also.

hope it helps,
Matt

-- 
Matthew Geddes
Network Mangler
Xavier College
Gawler, SA

Ph: 8521 4514
Mob: 0402 474 232
mailto: <A HREF="mailto:Matthew.Geddes@xavier.sa.edu.au">Matthew.Geddes@xavier.sa.edu.au</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
