<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Perl and MySQL problem" -->
<!-- FromName="'Darryl Merritt'" -->
<!-- FromEmail="darryl@dda.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 10 Dec 2000 15:34:54 +1030" -->
<!-- Id="NCBBJILPKKDEGDJJNMMCMEAPCIAB.darryl@dda.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Perl and MySQL problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Merritt &lt;<I><A HREF="mailto:darryl@dda.com.au">darryl@dda.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sun, 10 Dec 2000 15:34:54 +1030
</PRE>
<H1>Perl and MySQL problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hello All,

	I'm trying to install the DBD::MySQL package and am having a problem.
	
	My comments are marked by **


[root]#  perl -MCPAN -e 'install DBD::mysql'

Fetching with LWP:
  <A HREF="http://www2.linuxforum.net/mirror/CPAN/modules/03modlist.data.gz">http://www2.linuxforum.net/mirror/CPAN/modules/03modlist.data.gz</A>
Going to read /root/.cpan/sources/modules/03modlist.data.gz
Running make for J/JW/JWIED/Msql-Mysql-modules-1.2215.tar.gz
CPAN: MD5 loaded ok
Checksum for /root/.cpan/sources/authors/id/J/JW/JWIED/Msql-Mysql-modules-1.2215.tar.gz 


** unpacks a lot of files..


  CPAN.pm: Going to build J/JW/JWIED/Msql-Mysql-modules-1.2215.tar.gz

Which drivers do you want to install?

    1)  MySQL only
    2)  mSQL only (either of mSQL 1 or mSQL 2)
    3)  MySQL and mSQL (either of mSQL 1 or mSQL 2)

    4)  mSQL 1 and mSQL 2
    5)  MySQL, mSQL 1 and mSQL 2

Enter the appropriate number:  [3] 1


Do you want to install the MysqlPerl emulation? You might keep your old
Mysql module (to be distinguished from DBD::mysql!) if you are concerned
about compatibility to existing applications! [n]
Where is your MySQL installed? Please tell me the directory that
contains the subdir 'include'. [/usr]
Which database should I use for testing the MySQL drivers? [test]
On which host is database test running (hostname, ip address
or host:port) [localhost]
User name for connecting to database test? [undef] root
Password for connecting to database test? [undef]
Creating files for MySQL ....................
Checking if your kit is complete...
Looks good


** Then is this (obviously not harmless) message... Anyone know what the missing library is?


Note (probably harmless): No library found for -lgz


Using DBI 1.14 installed in /usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI
Writing Makefile for DBD::mysql
Writing Makefile for Msql-Mysql-modules
mkdir blib
mkdir blib/lib
mkdir blib/arch
mkdir blib/arch/auto
mkdir blib/arch/auto/Msql-Mysql-modules
mkdir blib/lib/auto
mkdir blib/lib/auto/Msql-Mysql-modules
mkdir blib/man1
/usr/bin/perl -Iblib/arch -Iblib/lib -I/usr/lib/perl5/5.00503/i386-linux \
-I/usr/lib/perl5/5.00503 -Ilib -MExtUtils::PerlPP \
-e ppp "dbd/dbimon.in" "dbimon" "lib/DBD/mysql/Install/Config.pm"
/usr/bin/pod2text mysql/lib/DBD/mysql.pm &gt;README
make[1]: Entering directory `/root/.cpan/build/Msql-Mysql-modules-1.2215/mysql'
mkdir ../blib/lib/DBD
mkdir ../blib/arch/auto/DBD
mkdir ../blib/arch/auto/DBD/mysql
mkdir ../blib/lib/auto/DBD
mkdir ../blib/lib/auto/DBD/mysql
mkdir ../blib/man3
cp lib/DBD/mysql.pm ../blib/lib/DBD/mysql.pm
cp lib/Bundle/DBD/mysql.pm ../blib/lib/Bundle/DBD/mysql.pm
cp lib/Mysql/Statement.pm ../blib/lib/Mysql/Statement.pm
cp lib/Mysql.pm ../blib/lib/Mysql.pm
cc -c -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/include/mysql -I../dbd -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/lib/perl5/5.00503/i386-linux -Dbool=char -DHAS_BOOL -I/usr/local/include -O2 -m486 -fno-strength-reduce    -DVERSION=\"2.0415\" -DXS_VERSION=\"2.0415\" -fpic -I/usr/lib/perl5/5.00503/i386-linux/CORE -DDBD_MYSQL dbdimp.c
/usr/bin/perl -p -e "s/~DRIVER~/mysql/g" &lt; /usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI/Driver.xst &gt; mysql.xsi
/usr/bin/perl -I/usr/lib/perl5/5.00503/i386-linux -I/usr/lib/perl5/5.00503 /usr/lib/perl5/5.00503/ExtUtils/xsubpp -object_capi  -typemap /usr/lib/perl5/5.00503/ExtUtils/typemap mysql.xs &gt;xstmp.c && mv xstmp.c mysql.c
cc -c -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/include/mysql -I../dbd -I/usr/lib/perl5/site_perl/5.005/i386-linux/auto/DBI -I/usr/lib/perl5/5.00503/i386-linux -Dbool=char -DHAS_BOOL -I/usr/local/include -O2 -m486 -fno-strength-reduce    -DVERSION=\"2.0415\" -DXS_VERSION=\"2.0415\" -fpic -I/usr/lib/perl5/5.00503/i386-linux/CORE -DDBD_MYSQL mysql.c
Running Mkbootstrap for DBD::mysql ()
chmod 644 mysql.bs
LD_RUN_PATH="/usr/lib/mysql:/lib:/usr/lib:/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66" cc -o ../blib/arch/auto/DBD/mysql/mysql.so  -shared -L/usr/local/lib dbdimp.o mysql.o -L/usr/lib/mysql    -L/usr/lib/mysql -lmysqlclient -lm -lz -L/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66 -lgcc

** and then this.. is it related to the 'harmless' message above ?

/usr/bin/ld: cannot find -lz
collect2: ld returned 1 exit status

make[1]: *** [../blib/arch/auto/DBD/mysql/mysql.so] Error 1
make[1]: Leaving directory `/root/.cpan/build/Msql-Mysql-modules-1.2215/mysql'
make: *** [subdirs] Error 2
  /usr/bin/make  -- NOT OK
Running make test
  Oops, make had returned bad status
Running make install
  Oops, make had returned bad status
[root]#


I thought might be tied up with gzip or bzip2 or sometype of compression, by I cant find any reference to this error at all..  I made sure all the pre-requisites are installed..

I get the same error regardless of which options I select on the way through..

Any ideas?

Darryl


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
