<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Passing variables to CRON jobs" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linux_sa@dingoblue.net.au" -->
<!-- Date="25 Jan 2002 15:35:29 +1030" -->
<!-- Id="1011935129.5837.37.camel@ant.internal" -->
<!-- Reference="RELAY1LtwGwgPZDefN800006a43@relay1.softcomca.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Passing variables to CRON jobs</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linux_sa@dingoblue.net.au">linux_sa@dingoblue.net.au</A></I>&gt;
  Date: 25 Jan 2002 15:35:29 +1030
</PRE>
<H1>Re: Passing variables to CRON jobs</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
You should make a script that does it, and call the script from cron.
This is untested, but....

eg:

#!/bin/bash

$FILE=`date +"%Y-%m-%d.txt"`
nmap -sF -p 21,80 10.62.1-8.32-254 &gt;&gt; $FILE

A test of the date bit shows:

[<A HREF="mailto:ant@ant">ant@ant</A> ant]$ date +"%Y-%m-%d.txt"
2002-01-25.txt

date --help 

for more info...

Ant

On Fri, 2002-01-25 at 15:24, <A HREF="mailto:linux_sa@dingoblue.net.au">linux_sa@dingoblue.net.au</A> wrote:
&gt; Hi All,
&gt; 
&gt; After a long break from the list over the christmas holidays due to work committments I am now back online :)
&gt; 
&gt; I have written a cron job which performs an nmap scan each half hour between
&gt; 8am and 10pm Mon to Fri and places the output in a file. 
&gt; 
&gt; Is it possible query hwclock or a similar time variable and use the output of 
&gt; this as the filename of which the nmap scan results are directed into?
&gt; 
&gt; I have looked at the BASH an hwclock man pages but I cannot find a way to
&gt; do this.
&gt; 
&gt; I currently have a seperate job for each day redirecting the output into a seperate appended file for each day like this. 
&gt; 
&gt; 30 8-22 * * 1 nmap -sF -p 21,80 10.62.1-8.32-254 &gt;&gt; /root/nmapscans/monday-ftp-www.txt
&gt; 
&gt; What I wish to do is this so that the filename is created dynamically for
&gt; each scan when it takes place.
&gt; 
&gt; 30 8-22 * * 1 nmap -sF -p 21,80 10.62.1-8.32-254 -oN /root/nmapscans/$TIMEOFPORTSCAN.txt
&gt; 
&gt; I assume this is possible but I don't know if it is outside the scope of what you can do with cron by itself.
&gt; 
&gt; Thanks heaps everyone. 
&gt; 
&gt; Nathan Millhouse
&gt; 
&gt; --------------------------------------------------------------------
&gt; mail2web - Check your email from the web at
&gt; <A HREF="http://mail2web.com/">http://mail2web.com/</A> .
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 
-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
