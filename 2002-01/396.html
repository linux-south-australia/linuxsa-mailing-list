<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Using Sendmail aliases" -->
<!-- FromName="'Daryl Tester'" -->
<!-- FromEmail="Daryl.Tester@iocane.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="wlsimes@tell.net.au" -->
<!-- Date="Sat, 19 Jan 2002 17:43:15 +1030" -->
<!-- Id="3C491C8B.1486C7E5@iocane.com.au" -->
<!-- Reference="200201190007.KAA86822@ernie.tell.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Using Sendmail aliases</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:wlsimes@tell.net.au">wlsimes@tell.net.au</A></I>&gt;
  Date: Sat, 19 Jan 2002 17:43:15 +1030
</PRE>
<H1>Re: Using Sendmail aliases</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
<A HREF="mailto:wlsimes@tell.net.au">wlsimes@tell.net.au</A> wrote:

First up, are you running newaliases after you've made these
modifications to the aliases file?  The "unknown user" error
doesn't sound correct for the problems you're running into.

&gt; allusers:   :include:/usr/local/sbin/scriptname

This form is for including a file containing a list of users,
not executing a script/program.

&gt; allusers:   "|/usr/local/sbin/scriptname"

This form is for piping the email into a program via stdin,
which also doesn't sound like what you want (unless that
script then in turn forwards the email everyone listed
in /etc/passwd, which I didn't get that impression from
your script snippet).  The above wouldn't work anyway,
as there are limitations on what scripts sendmail will
execute (read up on "smrsh" in the Sendmail documentation).

Your easiest solution will most likely be to use the
":include:" directive, use awk to populate the include
file, and run newaliases whenever there have been any
changes to the system.


-- 
Regards,
  Daryl Tester,  Software Wrangler and Bit Herder, IOCANE Pty. Ltd.

"Now is the Winter of our Discount Tent."  -- The Red Green Show

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
