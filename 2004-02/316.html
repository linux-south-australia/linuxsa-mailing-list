<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Intermittent network fault" -->
<!-- FromName="'Patrick Ernst'" -->
<!-- FromEmail="patrick@aroaustralia.com" -->
<!-- ToName="'Laredo Tirnanic'," -->
<!-- ToEmail="laredo@labven.co.za,linuxsa@linuxsa.org.au" -->
<!-- Date="Sun, 08 Feb 2004 17:11:47 +1030" -->
<!-- Id="6.0.0.22.0.20040208170336.01b47950@mail.aroaustralia.com" -->
<!-- Reference="1076058855.12764@mother" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Intermittent network fault</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Patrick Ernst &lt;<I><A HREF="mailto:patrick@aroaustralia.com">patrick@aroaustralia.com</A></I>&gt;
  To  : Laredo Tirnanic &lt;<I><A HREF="mailto:laredo@labven.co.za">laredo@labven.co.za</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sun, 08 Feb 2004 17:11:47 +1030
</PRE>
<H1>Re: Intermittent network fault</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Seem to have found the fault.

At 07:44 PM 6/02/2004, Laredo Tirnanic wrote:
&gt;run arp -a on a machine that lost a connection. If you see an IP address 
&gt;that has 2 mac addresses attached to it, you have two machines with the 
&gt;same ip.

arp -a spots the problem. The ADSL modem is configured by default as 
192.168.1.1 This is also the address of my local LAN on Eth1 (Eth0 
connected to the modem). This never caused a problem before (actually, I 
didn't even know) but I recently moved my server from one side of the room 
to the other and the room goblins came to cause havoc.

When the network dies, the arp tables show the MAC address of the ADSL 
modem. If I ping 192.168.2.1 (eth0) I get network unreachable. If I then 
arp -s 192.168.1.1 &lt;MAC of eth1&gt; then ping instantly work.

Big question. Any advice on changing the internal network subnet from 
192.168.1.0/24 to 192.168.3.0/24? I've been looking through various files 
for references to the current subnet/eth1 addy. Obviously found a few. I'm 
wondering what I'll break.


&gt;Hope this helps
&gt;
&gt;
&gt;Daryl Tester &lt;<A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A>&gt; wrote ..
&gt; &gt; Note: I'm not familiar with Shorewall.
&gt; &gt;
&gt;...snip...

Patrick Ernst, CNE, Director
ARO Australia Pty Ltd
PO Box 1 Marleston SA 5033
Fax:8219 0124 Mob: 0404 883 145
www.aroaustralia.com 

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
