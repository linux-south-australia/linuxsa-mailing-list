<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Boosting NFS performance (bottlenecks?)" -->
<!-- FromName="'Ryan Verner'" -->
<!-- FromEmail="xfesty@computeraddictions.com.au" -->
<!-- ToName="'John Edwards'" -->
<!-- ToEmail="isplist@adam.com.au" -->
<!-- Date="Thu, 12 Feb 2004 16:25:43 +1030" -->
<!-- Id="18527A34-5D20-11D8-A0F9-000A95CEEE4E@computeraddictions.com.au" -->
<!-- Reference="KKEALCNDCMLKCEEMOEDLEEBICAAA.ws@senet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Boosting NFS performance (bottlenecks?)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Ryan Verner &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  To  : John Edwards &lt;<I><A HREF="mailto:isplist@adam.com.au">isplist@adam.com.au</A></I>&gt;
  Date: Thu, 12 Feb 2004 16:25:43 +1030
</PRE>
<H1>Re: Boosting NFS performance (bottlenecks?)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On 12/02/2004, at 2:48 PM, John Edwards wrote:
&gt; What MTU are you running on each end?

1500.

&gt; What duplex setting on each end of the gigabit link?

1000baseTX full-duplex

&gt; What kind of Gigabit adapters?

The G5 has whatever chipset the G5 has in it (stock standard).  I'm 
100% positive it's a chipset with brilliant support under OS X, 
otherwise Apple wouldn't use it.  The A7N8X-E 
(<A HREF="http://usa.asus.com/prog/spec.asp?m">http://usa.asus.com/prog/spec.asp?m</A>=A7N8X-E%20Deluxe&langs=09) has a 
"Marvell", that uses the sk98lin driver - I've got no idea how good the 
chipset or linux module is.

What gigabit network cards here have people used and *know* can get 
high speeds (what speeds can you get?).

(I'm starting to suspect possibly installing Win2K on the machine may 
be the option I need to take, because the drivers may be better.  Sigh. 
  On that same hand, however, is FreeBSD's implementation of nfs any 
faster than Linux's, and does it have support for that gigabit graphics 
chipset?)

&gt; Which version of NFS are you mounting the server with?

The kernel (2.6.1) is compiled with NFSv2, NFSv3, and NFSv4 support (w/ 
NFS over TCP) for both client and server.  I've got the latest 
'nfs-kernel-server' package from Debian Sid installed, which I'd assume 
would just enable whatever the server has support for (or are specific 
options needed in the exports file?)

&gt; Which versions of NFS does the server and client support?

Server answered above.  Client is OS X 10.3.2, no idea what version of 
NFS it's using.  I'd assume at least 3.

&gt; What 'rsize' and 'wsize' parameters are you using with the mount?

Whatever OS X finder uses as per default.  I could try a manual mount, 
I guess, and see if tuning things such as this help at all.

&gt; Does 'netstat -s' indicate drops etc?

No retransmissions/errors/data loss reported, and I've transferred over 
~1000gig since the machine has been on.  The connection is reliable, as 
I'd hopefully expect, just nowhere near as fast as I need.  Even 
20MB/sec seems slow for gigabit.

R

&gt;
&gt; John Edwards
&gt;
&gt;
&gt;

--

Signature space for rent.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
