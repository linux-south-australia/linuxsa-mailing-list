<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Boosting NFS performance (bottlenecks?)" -->
<!-- FromName="'Ryan Verner'" -->
<!-- FromEmail="xfesty@computeraddictions.com.au" -->
<!-- ToName="'Linux SA'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 12 Feb 2004 01:35:07 +1030" -->
<!-- Id="AE03C456-5CA3-11D8-8B2F-000A95CEEE4E@computeraddictions.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Boosting NFS performance (bottlenecks?)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Ryan Verner &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  To  : Linux SA &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 12 Feb 2004 01:35:07 +1030
</PRE>
<H1>Boosting NFS performance (bottlenecks?)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Howdy,

I'm keen to hear on tips with improving NFS's performance, or possibly 
pointing out what my bottleneck here is (filesystem? network card 
performance under Linux? etc...)

I'm editing these LCA2004 videos on a G5 (running OS X), and I've 
configured a 'storage server' connected to the G5 via gigabit crossover 
- it's a PC with ~1TB of hard drive storage (on seperate 120-200G ATA 
or SATA ports, nice and fast).  I've chosen not to RAID as not all the 
hard drives are identical, so I've ext3'd each of the hard drives in 
one big partition and mounted them all under /mnt.

The G5 has a gigabit network card built in, and this machine has an 
ASUS A7N8X-E motherboard with a gigabit network card on it (sk98lin 
driver).

I'm running Debian Sid with 2.6.1 (NFS server support compiled in).  I 
installed 'nfs-kernel-server' via apt, and I've got an exports file 
somewhat like the following:

/mnt/200-1	*(rw,async,anonuid=0,anongid=0,insecure)

I'm completely aware this is the most insecure way to do this, but I'm 
only connected using a crossover cable, so I've got no concerns.  
'insecure' is needed so OS X finder can mount nfs correctly (it seems 
to insist on mounting at lower port numbers), and I'm forcing the 
anon?id's intentionally, although I'm aware this isn't needed.

NFS mounts fine, no problems.  However, although the media is 
definitely detected at 100baseTX full-duplex, I'm only getting 
~10MB/sec transfers.  I actually need much faster than this; handling 
realtime DV video can be very, very resource intensive.

I would have thought given speeds I'm used to with modern ATA/SATA 
drives, and the fact I'm using a gigabit crossover cable, at least 
30-40MB/sec would be achievable.

Any clues?  I'm aware other filesystems, such as XFS, may be plenty 
faster if I'm dealing with lots of files, but I really want to be able 
to transfer very large files at high speeds; ext3 isn't much different 
in this case, is it?

R

--

Signature space for rent.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
