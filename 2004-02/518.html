<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Change IP address" -->
<!-- FromName="'Craig Chandler'" -->
<!-- FromEmail="craig.chandler@internode.on.net" -->
<!-- ToName="'Patrick Ernst'" -->
<!-- ToEmail="patrick@aroaustralia.com" -->
<!-- Date="Wed, 11 Feb 2004 15:25:46 +1100" -->
<!-- Id="4029AECA.4040604@internode.on.net" -->
<!-- Reference="20438.203.38.128.179.1076472077.squirrel@webmail.aroaustralia.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Change IP address</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Craig Chandler &lt;<I><A HREF="mailto:craig.chandler@internode.on.net">craig.chandler@internode.on.net</A></I>&gt;
  To  : Patrick Ernst &lt;<I><A HREF="mailto:patrick@aroaustralia.com">patrick@aroaustralia.com</A></I>&gt;
  Date: Wed, 11 Feb 2004 15:25:46 +1100
</PRE>
<H1>Re: Change IP address</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Patrick Ernst said the following on 11/02/2004 3:01 PM:

&gt;&gt;Patrick Ernst said the following on 11/02/2004 1:12 PM:
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;&gt;&gt;Thanks for the reply
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;      
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;if you change subnet with that mask you will not be able to access the
&gt;&gt;&gt;&gt;modem.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;Why don't you change you IP to 192.168.1.2
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;        
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;I have added a virtual IP of 192.168.3.1 to eth1 and could access the net
&gt;&gt;&gt;via the modem just fine.
&gt;&gt;&gt;
&gt;&gt;&gt;current situation is
&gt;&gt;&gt;
&gt;&gt;&gt;----LAN 192.168.1.0/24 ----192.168.1.1(eth1)----(eth2)192.168.2.1----(dsl
&gt;&gt;&gt;modem)192.168.1.1----internet
&gt;&gt;&gt;
&gt;&gt;&gt;I agree I couold change the IP of eth1 to 192.168.1.2 but I still have
&gt;&gt;&gt;the
&gt;&gt;&gt;issue of "what will I break", although the MAC conflict disappears. It's
&gt;&gt;&gt;more normal to have differnet subnets on different pieces of wire.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;      
&gt;&gt;&gt;
&gt;&gt;so you have a gateway machine that has two network cards? and you want
&gt;&gt;192.168.3.1 to be your gateway address for your internal LAN is this the
&gt;&gt;case??
&gt;&gt;
&gt;&gt;or do you have two network cards and the modem connect by usb?
&gt;&gt;
&gt;&gt;i'm a little confused sorry
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Thanks Craig,
&gt;
&gt;gateway machine with 2 nics. Eth0 (onboard) connected to DSL modem. Eth1
&gt;connected to internal LAN. 192.168.3.1 will be default route (gateway) for
&gt;all internal PCs.
&gt;
&gt;  
&gt;
ok got it, that is basically how i was running my own gateway

Does your modem have good firewall software?

Now i run the modem in half bridge mode which basically sets the eth 
interface connect to the modem to the public ip address (the modem is 
practically invisible). Its half bridged because the modem does all the 
login PPPoA work not the gateway machine. This enables me to use 
iptables for all of the firewall work and any port redirection i want to 
do. It also allows you to run any servers (SSH etc) on the gateway 
without having to redirect / open ports on the modem based firewall

You can probably also run the modem in full bridged mode but you need to 
setup the gateway machine to do all of the logging in PPPoA stuff

As to the question of what will break, it depends on what servers you 
have hard coded to listen to an ip address, do you run any servers?

you need to make sure that internet traffic is routed from your internal 
network to the modem (and back), not sure how your currently doing this 
and if it will break

&gt;
&gt;  
&gt;
&gt;&gt;&gt;....snip.....
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;Patrick Ernst, Director
&gt;&gt;&gt;ARO Australia Pty Ltd
&gt;&gt;&gt;PO Box 1
&gt;&gt;&gt;Marleston SA 5033
&gt;&gt;&gt;Mob 0404 883 145
&gt;&gt;&gt;Fax (8) 8219 0124
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;      
&gt;&gt;&gt;
&gt;&gt;--
&gt;&gt;LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
&gt;&gt;To unsubscribe from the LinuxSA list:
&gt;&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;&gt;
&gt;&gt;
&gt;&gt;    
&gt;&gt;
&gt;
&gt;
&gt;Patrick Ernst, Director
&gt;ARO Australia Pty Ltd
&gt;PO Box 1
&gt;Marleston SA 5033
&gt;Mob 0404 883 145
&gt;Fax (8) 8219 0124
&gt;
&gt;  
&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
