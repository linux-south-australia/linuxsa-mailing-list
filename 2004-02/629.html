<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Boosting NFS performance (bottlenecks?)" -->
<!-- FromName="'Richard Sharpe'" -->
<!-- FromEmail="rsharpe@richardsharpe.com" -->
<!-- ToName="'Ryan Verner'" -->
<!-- ToEmail="xfesty@computeraddictions.com.au" -->
<!-- Date="Wed, 11 Feb 2004 22:06:52 -0800 (PST)" -->
<!-- Id="Pine.LNX.4.44.0402112201160.9608-100000@durable" -->
<!-- Reference="18527A34-5D20-11D8-A0F9-000A95CEEE4E@computeraddictions.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Boosting NFS performance (bottlenecks?)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:rsharpe@richardsharpe.com">rsharpe@richardsharpe.com</A></I>&gt;
  To  : Ryan Verner &lt;<I><A HREF="mailto:xfesty@computeraddictions.com.au">xfesty@computeraddictions.com.au</A></I>&gt;
  Date: Wed, 11 Feb 2004 22:06:52 -0800 (PST)
</PRE>
<H1>Re: Boosting NFS performance (bottlenecks?)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, 12 Feb 2004, Ryan Verner wrote:

&gt; On 12/02/2004, at 2:48 PM, John Edwards wrote:
&gt; &gt; What MTU are you running on each end?
&gt; 
&gt; 1500.
&gt; 
&gt; &gt; What duplex setting on each end of the gigabit link?
&gt; 
&gt; 1000baseTX full-duplex
&gt; 
&gt; &gt; What kind of Gigabit adapters?
&gt; 
&gt; The G5 has whatever chipset the G5 has in it (stock standard).  I'm 
&gt; 100% positive it's a chipset with brilliant support under OS X, 
&gt; otherwise Apple wouldn't use it.  The A7N8X-E 
&gt; (<A HREF="http://usa.asus.com/prog/spec.asp?m">http://usa.asus.com/prog/spec.asp?m</A>=A7N8X-E%20Deluxe&langs=09) has a 
&gt; "Marvell", that uses the sk98lin driver - I've got no idea how good the 
&gt; chipset or linux module is.
&gt; 
&gt; What gigabit network cards here have people used and *know* can get 
&gt; high speeds (what speeds can you get?).

Well, we use Broadcom 5701 and 5703 chips, and the Intel chips. They work 
well. We can reliably get 70MB/s from one of our servers to a Linux box 
(2.4.20) with the Intel chipset and driver on Linux. Using our parallel IO 
setup we can get 320MB/s from a single shelf with a trunking switch in 
front and a cluster behind. That said, the 70MB/s is obtained by using a 
RAID-5 layout across 9 of 10 OSDs and taking full advantage of the 16-port 
switch on the shelf and the memory on the metadata server.
 
&gt; (I'm starting to suspect possibly installing Win2K on the machine may 
&gt; be the option I need to take, because the drivers may be better.  Sigh. 
&gt;   On that same hand, however, is FreeBSD's implementation of nfs any 
&gt; faster than Linux's, and does it have support for that gigabit graphics 
&gt; chipset?)

Hmmm, comments I heard at the last CIFS conference (CIFS 2003) lead me to 
believe that Win2K does not get good performance with GigE. Perhaps these 
people were wrong, I don't know.

Have you taken a capture of the traffic and looked at it with Ethereal to 
see if there are any obvious problems. Use the TCP Stream Analysis feature 
to look for these. They stick out like dogs b***s.

Regards
-----
Richard Sharpe, rsharpe[at]richardsharpe.com, rsharpe[at]samba.org, 
sharpe[at]ethereal.com, <A HREF="http://www.richardsharpe.com">http://www.richardsharpe.com</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
