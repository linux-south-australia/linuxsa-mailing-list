<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: IP Masquerading and DNS" -->
<!-- FromName="Jason Nunn" -->
<!-- FromEmail="jsno@dayworld.net.au" -->
<!-- ToName="Matthew Tippett" -->
<!-- ToEmail="matthew.tippett@dsto.defence.gov.au" -->
<!-- Date="Wed, 5 Nov 1997 11:24:18 +1030 (CST)" -->
<!-- Id="Pine.LNX.3.95.971105111148.200C-100000@superr.wantree.com.au" -->
<!-- Reference="345EC511.2611FE63@dsto.defence.gov.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: IP Masquerading and DNS</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Jason Nunn &lt;<I><A HREF="mailto:jsno@dayworld.net.au">jsno@dayworld.net.au</A></I>&gt;
  To  : Matthew Tippett &lt;<I><A HREF="mailto:matthew.tippett@dsto.defence.gov.au">matthew.tippett@dsto.defence.gov.au</A></I>&gt;
  Date: Wed, 5 Nov 1997 11:24:18 +1030 (CST)
</PRE>
<H1>Re: IP Masquerading and DNS</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hello Jase,

Matthew Tippett replied to Przychodzen, Jase (DOT):

&gt; &gt; How can I track down an IPs login account on an ISP?
&gt; &gt; I can get it down to the PPP port most of the time
&gt; &gt; but then I have no means of getting the user login.
&gt; &gt; Aaaah... for the good old days when people were working
&gt; &gt; from Unix boxes! These OOB attackers are giving me the pips.
&gt; 
&gt; You could try using the ipfw stuff to stop suspect packets.
&gt; As I said before I haven't played with IPMASQ/IPFW before
&gt; and so I am just playing with the concepts.

So you want to know the owner of a particular pppXXX device?

Very difficult. I wrote an algorithm to do this a few months ago, but it's
probably useless to you as you have to be on the persons machine, and
their machine has to be a un*x box. There's no way you can find out who
owns what device externally (not to my knowledge anyway).

pppd daemons usually store PID files in /var/run (this can vary depending 
on the flavour of your un*x and the way pppd is configured).

superr:~$ ls -l /var/run
total 6
-rw-r--r--   1 root     root            3 Nov  5 10:41 inetd.pid
-rw-r--r--   1 root     root            3 Nov  5 10:41 klogd.pid
-rw-r--r--   1 root     users           4 Nov  5 10:49 ppp0.pid
                                                       ^^^^^^^^^
-rw-r--r--   1 root     bin            33 Nov  5 10:41 sendmail.pid
-rw-r--r--   1 root     root            3 Nov  5 10:41 syslogd.pid
-rw-r--r--   1 root     root          336 Nov  5 11:02 utmp

So from this file you can determine the PID that a ppp device is
associated with, and from there, you can find out the UID (hence the
owner) by looking at the Uid: field in the /proc/&lt;PID&gt;/status file.

See ya

--
Jason Nunn, Adelaide, South Australia. - <A HREF="http://dayworld.net.au/~jsno/">http://dayworld.net.au/~jsno/</A>


</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
