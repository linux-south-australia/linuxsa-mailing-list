<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: iso image help required" -->
<!-- FromName="Benjamin Close" -->
<!-- FromEmail="linux@senet.com.au" -->
<!-- ToName="Mark Lang" -->
<!-- ToEmail="mblang@one.net.au" -->
<!-- Date="Tue, 27 Jun 2000 23:50:13 +0930 (CST)" -->
<!-- Id="Pine.LNX.4.21.0006272340500.1161-100000@Bytes4u.nodomain.yet" -->
<!-- Reference="3958774B.CCD09FF2@one.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: iso image help required</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Benjamin Close &lt;<I><A HREF="mailto:linux@senet.com.au">linux@senet.com.au</A></I>&gt;
  To  : Mark Lang &lt;<I><A HREF="mailto:mblang@one.net.au">mblang@one.net.au</A></I>&gt;
  Date: Tue, 27 Jun 2000 23:50:13 +0930 (CST)
</PRE>
<H1>Re: iso image help required</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tue, 27 Jun 2000, Mark Lang wrote:

&gt; I have been given an assignment to be completed by the end of the week
&gt; and require your help if possible. I need to take an complete iso img of
&gt; a Linux box to be used as a backup procedure.
&gt; 

Howdy,
	In order to create the image you'll need two hard disks. The
theory to create/restore from an iso image is as follows:

HDD1 - Linux (with boot sectors - the works)
HDD2 - somewhere you can dump a large file 

First you want to make sure nothing will write to the disk you need to
copy while your copying it. You should dosomething like: 
mount -o remount,ro /   
sync
wait 20 seconds (yes sync isn't guarenteed)

This ensures that the drive will not be written to.
Now:

dd if=/dev/hda of=/mnt/otherharddisk/diskdump.file

This will copy the disk. 
Once this is done (it will take a while depending on the size of the
disk) you need to covert this file to an isoimage using mkisofs (Note now
you have the disk image you can remount the first drive read/write incase
you need the space).

Once mkisofs has create the image for you can bur it to cd.

Now for restoration: find a linux boot disk. (toms root/boot disk set
works well). Then mount the cd and: dd if=/mnt/cdrom/diskdump.file
of=/dev/hda

done!

The one catch is I can't help you on the mkisofs paramaters. However, last
time I looked the man page was pretty good. Besides you shouldn't need any
options anyway.

Cheers,
 --
* Benjamin Close
* <A HREF="mailto:Benjsc@senet.com.au">Benjsc@senet.com.au</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
