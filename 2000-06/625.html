<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Has anyone noticed that the following is wrong:" -->
<!-- FromName="Daryl Tester" -->
<!-- FromEmail="dt@picknowl.com.au" -->
<!-- ToName="Richard Sharpe" -->
<!-- ToEmail="sharpe@ns.aus.com" -->
<!-- Date="Wed, 21 Jun 2000 09:07:50 +0930" -->
<!-- Id="3950004E.E0E12D7F@picknowl.com.au" -->
<!-- Reference="3.0.6.32.20000620131959.00a64510@203.16.214.248" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Has anyone noticed that the following is wrong:</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:dt@picknowl.com.au">dt@picknowl.com.au</A></I>&gt;
  To  : Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  Date: Wed, 21 Jun 2000 09:07:50 +0930
</PRE>
<H1>Re: Has anyone noticed that the following is wrong:</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Richard Sharpe wrote:

&gt; Well, whenever I log in via a console or a terminal, and do a ps, I see
&gt; more processes running than bash and ps.

OK.  More clues.  Good.  Interestingly enough, when *I* do a ps, all I
see is bash and ps.  I have to add options to ps in order to see other
processes (or login as root).

&gt; I am claiming that the user's shell is *not* exec'd by login, rather login
&gt; forks and then exec's the user's shell. There *is* a big difference.

Hmmm, when I checked this last night, I could have sworn that the parent
PID of my shell was 1 (the almighty init), but upon rechecking that doesn't
appear to be the case.  Yes, there is a "login -- username" hanging around.
(actually, I just checked what I actually did last night - I was logged
into someone else's box when I did this ... oops &lt;slaps wrist&gt;).

&gt; I have not checked the source, but the evidence seems to suggest that I the
&gt; diagram is not correct.

The diagram is correct *in the traditional Unix sense* (ie, this is/was
the way things worked).  It used to be that when a login process exited,
all init had to was remove the process' entry from utmp (and write an
entry to wtmp).  I'd suggest that with the advent of PAM and other
"after-market" goodies, there's a lot more that needs to be done at
interactive process logout than poor init can handle, so that job has
been subsumed by login (mind you, this is serious guesswork on my part,
and I'm not up to reading Someone Else's Source at this time of morning).


Regards,
  Daryl Tester

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
