<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: [OT] The UNICES" -->
<!-- FromName="Glen Turner" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="Mark Newton" -->
<!-- ToEmail="newton@atdot.dotat.org" -->
<!-- Date="Fri, 09 Jun 2000 16:19:02 +0930" -->
<!-- Id="3940935E.2691938F@aarnet.edu.au" -->
<!-- Reference="3940781C.6E854C19@rebel.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: [OT] The UNICES</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  Date: Fri, 09 Jun 2000 16:19:02 +0930
</PRE>
<H1>Re: [OT] The UNICES</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Some minor corrections


&gt; ...For example, its TCP/IP
&gt; code is so much more efficient than SysV's TCP/IP code that some SysV
&gt; vendors actually use BSD TCP/IP in their kernels (e.g.: SGI's IRIX, Sun's
&gt; Solaris).

The Solaris IP stack is a rewrite from scratch.  It uses the
SysV API.  The BSD code of the time had poor multiprocessor
performance.

I did a port of the BSD code to IBM's S390 and was also biten
by this -- the BSD locking performance was so bad that it used
about 10% of the total CPU on a 4-way system, most of it obviously
in spin-locks.  2.5% of capacity of a multi-million dollar mainframe
in a CPU cycle-charged environment is a *lot* of money.

IBM's solution was to offload the IP stack onto a channel
processor, something that the latest PC network cards are
starting to do.

&gt; POSIX is a series of standards laid down by a series of committees.  BSD
&gt; and SysV both strive to comply with those standards.

It was pretty much the other way around.  /usr/group started
to codify UNIX so that applications writers would write to a
common set of functions, basically at the intersection of
SysV and BSD.  This became more and more formal, changing the
name to POSIX and the project becoming adopted by the IEEE
along the way.

POSIX attempted to fix some blatant errors: such as reducing
the variations between regular expression syntax, and adding
command command options (so that "-R" was "recurse directories",
rather than "-s" or "-r" or ...).

It then started to codify new features.  Some of these worked
(such as threads), others (like capabilities) never got enough
vendor support.

&gt;  &gt; 5. Is Linux compliant with any of the above standards?
&gt; 
&gt; Yes

And no.  Standards organisations sometimes have to make compromises
instead of going for the best technical solution.  So a POSIX
compliant UNIX has to support both the socket and TLI networking
APIs, three different file locking abstractions, two semaphore APIs,
and two memory mapping APIs.

The POSIX-compliant Linux is an odd beast because of this.  The
everyday Linux supports only the most popular of the multiple
choice APIs.

In practice, Linux suceeded partly because almost every program
you want to run compiles straightforwardly on Linux distributions
and the system admintstration has chosen the best aspects of the
BSD and SysV UNIXen.  Most of the credit for this goes to the
GNU project.

The other important point is that POSIX compliance is becoming
pointless.  The future demand will be for compliance to the
standards being established by the open source community: GTK,
GNU libc, GNU C, LSB filesystem layout, ...

The reason for this is that applications authors find it easier
to write to GTK/glibc/gcc and let it deal with the differences
in vendor UNIX.  If necessary, they can distribute GTK/glibc
with their products.


&gt; Sun is a bit different from the others too:  SysV vendors license the
&gt; source code from SCO on an annually-renewable basis (for about $80,000
&gt; per annum plus per-copy royalties).  Sun, on the other hand, actually
&gt; managed to negotiate an agreement to BUY their license outright from
&gt; AT&T in the mid 90's, so they don't run the official SCO SysVR4 source
&gt; base anymore, but they also don't have to pay any annual license fees or
&gt; royalties.

This happened as Sun added BSD compatibility to SysV UNIX.  Its
payment from AT&T for this work was a royalty-free license.  The
"BSD merge hell" is still notorious at Sun, mainly because most
of it was spent debugging AT&T's shoddy System V code.  Worse
still, there was then huge customer resistance to the resulting
"Solaris" operating system.

Now you know why Sun is now dubious about buying in external
technologies and is cautious about 64-bit versions of Solaris.

&gt; There's a book called "The History of UNIX" which goes into it in great
&gt; detail.

Also

  Salus, Peter H
  A Quarter Century of UNIX
  Addison-Wesley  1994

-- 
 Glen Turner                                 Network Engineer
 (08) 8303 3936      Australian Academic and Research Network
 <A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>          <A HREF="http://www.aarnet.edu.au/">http://www.aarnet.edu.au/</A>
--
 Earth is a single point of failure

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
