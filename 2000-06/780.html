<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Sendmail filtering" -->
<!-- FromName="Daryl Tester" -->
<!-- FromEmail="dt@picknowl.com.au" -->
<!-- ToName="Matthew Geddes" -->
<!-- ToEmail="mgeddes@xavier.sa.edu.au" -->
<!-- Date="Mon, 26 Jun 2000 13:05:09 +0930" -->
<!-- Id="3956CF6D.AF016168@picknowl.com.au" -->
<!-- Reference="3956A2A8.50396253@xavier.sa.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Sendmail filtering</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daryl Tester &lt;<I><A HREF="mailto:dt@picknowl.com.au">dt@picknowl.com.au</A></I>&gt;
  To  : Matthew Geddes &lt;<I><A HREF="mailto:mgeddes@xavier.sa.edu.au">mgeddes@xavier.sa.edu.au</A></I>&gt;
  Date: Mon, 26 Jun 2000 13:05:09 +0930
</PRE>
<H1>Re: Sendmail filtering</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Matthew Geddes wrote:

&gt;&gt; Grep is _not_ the answer (at least, not at this level).

&gt; I *realise* that. That was just a quick example of what I wanted to do.

??

&gt; My original question was regarding configuration of sendmail to drop all
&gt; messages that had attachments with a .vbs file as the attachment (for
&gt; example).

Actually, you mentioned doing it with procmail.  And I think I know
where the problem lies now.

   What do YOU think an attachment is?

I don't know enough Sendmail 8.10.x - I haven't had the time to devote
serious amounts of study to it.  Sendmail 8.9.x (which is the series
I've had to deal with the most) doesn't deal with MIME messages per se,
except where it has to deal with DSN and bounces.  To Sendmail, a message
is a message.  It moves mail from point A to B, C, etc.  It doesn't care
two whits about the contents of the email (unless it exceeds a certain
size).  So if you have an "attachment" (which is a MIME compliant message
with possibly two or more parts), Sendmail doesn't care.  Now I understand
that 8.10.x have introduced hooks to enable external third parties to
inspect email as it passes through, so I suspect it's still pretty pig
ignorant about the internals of email.  The upshot is, you still have to
MIME decode any applicable messages, and either extract or reject whatever
you think is an "attachment".  The best place to do that would be as the
email is being delivered, via procmail (unless you are concerned about
forwarding email).

&gt; The bat book I have doesn't mention anything of any use.

See above.

&gt; I know that this can be done with sendmail 8.10.x.

I don't think it can.  All Sendmail 8.10.x appears to have done is
formalised all the tricks people used to have to do to do this sort
of stuff (eg, create a special mailer, pass all traffic through it,
then spawn a new copy of sendmail, etc.).  And all I can find on
the Sendmail Mailer API on sendmail.net is that it didn't quite make
it into the feature freeze of 8.10.  But that just may be out of date
info.


Regards,
  Daryl Tester

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
