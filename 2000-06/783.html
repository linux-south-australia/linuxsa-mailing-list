<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Sendmail filtering" -->
<!-- FromName="Martin Sheppard" -->
<!-- FromEmail="martin.sheppard@scurvy.dhn.csiro.au" -->
<!-- ToName="" -->
<!-- ToEmail="Matthew Geddes <mgeddes@xavier.sa.edu.au>, linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 26 Jun 2000 13:50:32 +0930" -->
<!-- Id="4.3.0.20000626133511.00c29bc0@pop.dhn.csiro.au" -->
<!-- Reference="3956A2A8.50396253@xavier.sa.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Sendmail filtering</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Martin Sheppard &lt;<I><A HREF="mailto:martin.sheppard@scurvy.dhn.csiro.au">martin.sheppard@scurvy.dhn.csiro.au</A></I>&gt;
  To  : <A HREF="mailto:Matthew Geddes <mgeddes@xavier.sa.edu.au>">Matthew Geddes <mgeddes@xavier.sa.edu.au></A>, <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Mon, 26 Jun 2000 13:50:32 +0930
</PRE>
<H1>Re: Sendmail filtering</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 13:46 26/06/00 +0930, Matthew Geddes wrote:
&gt;Daryl Tester wrote:
&gt;
&gt; &gt; Sendmail 8.9.x (which is the series
&gt; &gt; I've had to deal with the most) doesn't deal with MIME messages per se,
&gt; &gt; except where it has to deal with DSN and bounces.  To Sendmail, a message
&gt; &gt; is a message.  It moves mail from point A to B, C, etc.
&gt;
&gt;Agreed. But the actual message itself contains the encoded attachment
&gt;and a couple of lines of text that contains the filename of the
&gt;attachment. sendmail obviously ignores this, but given that the file
&gt;name is there, it should be possible to bounce the message based on the
&gt;filename. This may not seem very useful, but it will mean that I can
&gt;prevent any .VBS-based worms from getting any where near the few Outlook
&gt;clients I have left.

You have a few options to do this. For a sendmail milter based approach see 
<A HREF="http://www.roaringpenguin.com/mimedefang/.">http://www.roaringpenguin.com/mimedefang/.</A> For a procmail based approach 
see <A HREF="http://www.wolfenet.com/~jhardin/procmail-security.html.">http://www.wolfenet.com/~jhardin/procmail-security.html.</A> If you want to 
write your own filter and don't mind about not filtering outgoing e-mail 
then you should be able to edit sendmail.cf to call your program instead of 
the normal delivery program and then get your program to call the normal 
delivery program (look for the line starting with Mlocal in sendmail.cf). 
Finally, you could filter the messages at the time they are delivered by 
patching the POP or IMAP server. If you are interested, I have a patch for 
qpopper that changes any suspicious files to have a .txt extension, which 
should prevent accidental execution. It is far from being bullet-proof, but 
it should do the job and should be fairly easy to adapt to other servers if 
you so desired.

Cheers,

Martin.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
