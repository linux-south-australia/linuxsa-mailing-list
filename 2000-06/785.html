<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Sendmail filtering" -->
<!-- FromName="Robert Thomas" -->
<!-- FromEmail="rthomas@austereo.com.au" -->
<!-- ToName="Martin Sheppard" -->
<!-- ToEmail="martin.sheppard@scurvy.dhn.csiro.au" -->
<!-- Date="Mon, 26 Jun 2000 14:25:50 +0930" -->
<!-- Id="3956E256.D2256D99@austereo.com.au" -->
<!-- Reference="3956A2A8.50396253@xavier.sa.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Sendmail filtering</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Robert Thomas &lt;<I><A HREF="mailto:rthomas@austereo.com.au">rthomas@austereo.com.au</A></I>&gt;
  To  : Martin Sheppard &lt;<I><A HREF="mailto:martin.sheppard@scurvy.dhn.csiro.au">martin.sheppard@scurvy.dhn.csiro.au</A></I>&gt;
  Date: Mon, 26 Jun 2000 14:25:50 +0930
</PRE>
<H1>Re: Sendmail filtering</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
This message keeps tripping our virus software with the following
message.

****************************************************************************************
A Virus has been detected in a message addressed to you from
<A HREF="mailto:linuxsa-request@linuxsa.org.au.">linuxsa-request@linuxsa.org.au.</A> The subject of the message is
Re: Sendmail filtering

Please contact the sender and ask them to re-send a virus free
copy.

****************************************************************************************

Martin Sheppard wrote:
&gt; 
&gt; At 13:46 26/06/00 +0930, Matthew Geddes wrote:
&gt; &gt;Daryl Tester wrote:
&gt; &gt;
&gt; &gt; &gt; Sendmail 8.9.x (which is the series
&gt; &gt; &gt; I've had to deal with the most) doesn't deal with MIME messages per se,
&gt; &gt; &gt; except where it has to deal with DSN and bounces.  To Sendmail, a message
&gt; &gt; &gt; is a message.  It moves mail from point A to B, C, etc.
&gt; &gt;
&gt; &gt;Agreed. But the actual message itself contains the encoded attachment
&gt; &gt;and a couple of lines of text that contains the filename of the
&gt; &gt;attachment. sendmail obviously ignores this, but given that the file
&gt; &gt;name is there, it should be possible to bounce the message based on the
&gt; &gt;filename. This may not seem very useful, but it will mean that I can
&gt; &gt;prevent any .VBS-based worms from getting any where near the few Outlook
&gt; &gt;clients I have left.
&gt; 
&gt; You have a few options to do this. For a sendmail milter based approach see
&gt; <A HREF="http://www.roaringpenguin.com/mimedefang/.">http://www.roaringpenguin.com/mimedefang/.</A> For a procmail based approach
&gt; see <A HREF="http://www.wolfenet.com/~jhardin/procmail-security.html.">http://www.wolfenet.com/~jhardin/procmail-security.html.</A> If you want to
&gt; write your own filter and don't mind about not filtering outgoing e-mail
&gt; then you should be able to edit sendmail.cf to call your program instead of
&gt; the normal delivery program and then get your program to call the normal
&gt; delivery program (look for the line starting with Mlocal in sendmail.cf).
&gt; Finally, you could filter the messages at the time they are delivered by
&gt; patching the POP or IMAP server. If you are interested, I have a patch for
&gt; qpopper that changes any suspicious files to have a .txt extension, which
&gt; should prevent accidental execution. It is far from being bullet-proof, but
&gt; it should do the job and should be fairly easy to adapt to other servers if
&gt; you so desired.
&gt; 
&gt; Cheers,
&gt; 
&gt; Martin.
&gt; 
&gt; --
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

**********************************************************************
The information contained in this electronic message (e-mail), and any
files transmitted with it, is intended for the named recipients only. 
It may contain privileged and/or confidential information and if you 
are not the intended recipient, you must not copy, distribute or take
any action in reliance on it.  If you have received this electronic
message (e-mail), and any files transmitted with it, in error, please 
delete it immediately.

This footnote also confirms that this email message has been swept for 
the presence of computer viruses.
**********************************************************************

begin:vcard 
n:Thomas;Robert
tel;cell:0416 12 6947
tel;fax:(08) 8373 2066
tel;work:(08) 8301 1000
x-mozilla-html:FALSE
url:<A HREF="http://www.austereo.com.au/">http://www.austereo.com.au/</A>
org:Austereo Pty Limited;Corporate
version:2.1
email;internet:<A HREF="mailto:rthomas@austereo.com.au">rthomas@austereo.com.au</A>
title:Project Accountant
adr;quoted-printable:;;Level 1=0D=0A128 Greenhill Road=0D=0AUnley;Adelaide;SA;5061;Australia
fn:Robert Thomas
end:vcard

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
