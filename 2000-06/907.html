<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: iso image help required" -->
<!-- FromName="" -->
<!-- FromEmail="James.Wilson@compsm.com.au" -->
<!-- ToName="Benjamin Close" -->
<!-- ToEmail="linux@senet.com.au" -->
<!-- Date="Wed, 28 Jun 2000 11:20:10 +0930" -->
<!-- Id="OFB1C97E31.94746D3F-ON6925690C.0008AE56@compsm.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: iso image help required</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: <A HREF="mailto:James.Wilson@compsm.com.au">James.Wilson@compsm.com.au</A>
  To  : Benjamin Close &lt;<I><A HREF="mailto:linux@senet.com.au">linux@senet.com.au</A></I>&gt;
  Date: Wed, 28 Jun 2000 11:20:10 +0930
</PRE>
<H1>Re: iso image help required</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
iso == ISO9660 is the FS of a CD-ROM - filename.iso = raw copy (image).  In
Linux, mount them like this: mount -o loop -t iso9660 file.iso /mnt

This will mount any ISO file you create.

mkisofs2cd  == mkisofs -a -L -r /tmp/mydatadir | cdrecord -v -eject
dev=0,1,0 speed=4 -

Will dump it straight to CD



                                                                                                                                
                    Benjamin                                                                                                    
                    Close                To:     Mark Lang &lt;<A HREF="mailto:mblang@one.net.au">mblang@one.net.au</A>&gt;                                                  
                    &lt;<A HREF="mailto:linux@senet.">linux@senet.</A>        cc:     <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>                                                         
                    com.au&gt;              Subject:     Re: iso image help required                                               
                                                                                                                                
                    06/27/00                                                                                                    
                    11:50 pm                                                                                                    
                                                                                                                                
                                                                                                                                



On Tue, 27 Jun 2000, Mark Lang wrote:

&gt; I have been given an assignment to be completed by the end of the week
&gt; and require your help if possible. I need to take an complete iso img of
&gt; a Linux box to be used as a backup procedure.
&gt;

Howdy,
           In order to create the image you'll need two hard disks. The
theory to create/restore from an iso image is as follows:

HDD1 - Linux (with boot sectors - the works)
HDD2 - somewhere you can dump a large file

First you want to make sure nothing will write to the disk you need to
copy while your copying it. You should dosomething like:
mount -o remount,ro /
sync
wait 20 seconds (yes sync isn't guarenteed)

This ensures that the drive will not be written to.
Now:

dd if=/dev/hda of=/mnt/otherharddisk/diskdump.file

This will copy the disk.
Once this is done (it will take a while depending on the size of the
disk) you need to covert this file to an isoimage using mkisofs (Note now
you have the disk image you can remount the first drive read/write incase
you need the space).

Once mkisofs has create the image for you can bur it to cd.

Now for restoration: find a linux boot disk. (toms root/boot disk set
works well). Then mount the cd and: dd if=/mnt/cdrom/diskdump.file
of=/dev/hda

done!

The one catch is I can't help you on the mkisofs paramaters. However, last
time I looked the man page was pretty good. Besides you shouldn't need any
options anyway.

Cheers,
 --
* Benjamin Close
* <A HREF="mailto:Benjsc@senet.com.au">Benjsc@senet.com.au</A>


--
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject





-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
