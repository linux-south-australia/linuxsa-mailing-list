<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="nfs and what ensued + linux command of the week" -->
<!-- FromName="'Luke Vanderfluit'" -->
<!-- FromEmail="luke@chipcity.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 16 Dec 2002 00:17:04 +1030" -->
<!-- Id="200212160017.04799.luke@chipcity.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: nfs and what ensued + linux command of the week</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Luke Vanderfluit &lt;<I><A HREF="mailto:luke@chipcity.com.au">luke@chipcity.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 16 Dec 2002 00:17:04 +1030
</PRE>
<H1>nfs and what ensued + linux command of the week</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

A couple of days ago I posted about my troubles getting nfs to work.
Well...
I got nfs installed nicely and was able to mount remote filesystems, however, 
in the process, I changed the contents of /etc/fstab hoping to mount the 
remote system on boot.
Accidentally I had removed an 'A' from the word LABEL in line 1 of /etc/fstab

It so happened that I decided to reboot the machine, for some reason, and upon 
seeing all the processes getting terminated, I noticed that I hadn't umounted 
my nfs mount. The termination stopped. That's all.

Unfortunately I panicked and reset the machine, which led to the undesirable 
state of a damaged superblock. I didn't know how to fix a superblock until 
later, after I had decided to reinstall, thinking this was my only option to 
get things up and running again. 
My 'running linux' book, by Matt Welsh and Lar Kaufmann described what to do 
in case of a damaged superblock. Apparently they are backed up, but for me it 
was too late.
I tried everything, of course now I DO have a rescue/boot disk (up till then I 
never bothered), incuding going in using 'linux rescue'. /etc wasn't even 
visible. Going in on normal boot and getting dropped to a shell didn't help 
because the file system became read-only, I couldn't change any files.
Even if I could have, I still hadn't dealt with the damaged superblock 
problem.

I spent the whole of saturday tackling this problem and today, reinstalling 
and reinstating my configs. I make regular backups but only recently have I 
started to keep concise logs of what commands I carry out. This proves to be 
really important.

One interesting command that I looked for a while ago and couldn't find, when 
I was writing a perl script and wanted to kill a process, but needed to find 
its PID first, is this one &lt; to me the linux command of the week.

kill -9 `ps -e  | grep -w smbd | sed -e 's/^ *//' -e 's/ .*//'`

the backticks are the important ingredients on this one.

So now I'm back to where I was a few days ago, 

kind regards & christmas cheers,

-- 
Luke Vanderfluit
Phone: 08 8556 6112
Mobile: 0421 276 282


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
