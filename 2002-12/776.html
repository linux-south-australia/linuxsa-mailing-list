<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Bad Magic Number in Superblock (long story)" -->
<!-- FromName="'tux penguin'" -->
<!-- FromEmail="tuxpenguin@mail.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 16 Dec 2002 11:23:42 -0500" -->
<!-- Id="20021216162342.43396.qmail@mail.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Bad Magic Number in Superblock (long story)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: tux penguin &lt;<I><A HREF="mailto:tuxpenguin@mail.com">tuxpenguin@mail.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 16 Dec 2002 11:23:42 -0500
</PRE>
<H1>Bad Magic Number in Superblock (long story)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
   A little info about myself:
I am using RH 7.3 on a PIII-550MHz, 96MB RAM, 2HDS (One 2.5GB for windows,and a 4.3GB for Linux)
I use GRUB, which is found on the linux drive,(so if i take my linux drive out windows still loads up, good windows &lt;no, not 'windows good'&gt;)

   A little problem:
Windows needed a little more space

   A Solution!!!:
linux had some to share

    A BIG problem:
I ran 'parted' and told my 4.3GB drive that a chunk (1GB) was to be FAT32. 'parted' worked fine, told me to update my '/etc/fstab' and reboot. I did.
&lt;divergence of story: Windows can use the 1GB drive, its fine&gt;

Now when i try to boot the following happens.
&gt; la la la la [OK]
&gt; mmmmmm ting [OK]   Standard linux loading stuff
&gt; ding - dong [OK]
&gt; Checking root filesystem
&gt; /:The physical size (according to the superblock) is 992013 blocks
&gt;   The physical size of the device is 736981 blocks
&gt;   Either the superblock or the partition table is likely to be corrupt
&gt; /: UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY
&gt;       (i.e. without -a or -p options)
&gt;                                  [FAILED]
&gt;
&gt; ***an error occurred during the filesystem check
&gt; ***dropping you to a shell. the system will reboot
&gt; ***when you leave the shell
&gt; Give root password for maintenance
&gt; Or type Control-D for normal startup:
&gt;

Control-D just reboots.
When i enter the root password, i get taken to a read only file system

&gt; <A HREF="mailto:root@localhost">root@localhost</A>$ fsck /dev/hda
&gt; Parallelizing fsck version 1.23 (15-Aug-2001)
&gt; efsck 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
&gt;
&gt; Couldn't find ext2 superblock, trying backup blocks...
&gt;
&gt;fsck.ext2: bad magic number in super-block while trying to open /dev/hda
&gt;
&gt; The filesystem superblock could not be read or does not describe a correct ext2 filesystem. If the device is valid and it really contains an ext2 filesystem (and not swap or ufs or something else), then the superblock is corrupt, and you might try running e2fsck with an alternate superblock
&gt;         e2fsck -b 8193 &lt;device&gt;

e2fsck does the same thing (i guess thats parallelizing for you)
fdisk can see the partitions as they should be.

I believe that my linux partitions are actually ext3 (not ext2) but i can't find 'e3fsck' or similar.


    THE ROUND UP:
I need to manually change my superblock, or run a utility that fixes it for me. How???
-- 
__________________________________________________________
Sign-up for your own FREE Personalized E-mail at Mail.com
<A HREF="http://www.mail.com/?sr">http://www.mail.com/?sr</A>=signup

Meet Singles
<A HREF="http://corp.mail.com/lavalife">http://corp.mail.com/lavalife</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
