<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="slackware 8.1 networking problem?" -->
<!-- FromName="'damar'" -->
<!-- FromEmail="damar@sst.com.hk" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 20 Dec 2002 11:04:44 +0800" -->
<!-- Id="3E0288CC.8020602@sst.com.hk" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: slackware 8.1 networking problem?</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: damar &lt;<I><A HREF="mailto:damar@sst.com.hk">damar@sst.com.hk</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 20 Dec 2002 11:04:44 +0800
</PRE>
<H1>slackware 8.1 networking problem?</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

Recently, I wanted to make a light and more of a DIY kind of linux 
server (distribution, where  configuration is done mostly manually), and 
installed slackware8.1 (I actually had used slackware in the past for 
some time).

I kept the installation, as intended, to the minimum - no X Window, 
games and other user applications - and everything went fine.

The server has two network cards, one (eth1) connecting to ADSL modem 
and the other (eth0) to a debian linux client. eth1 is fine, it can 
connect to the internet. But the problem is with eth0 - it can ping the 
debian machine, and debian can do the same, but surprisingly, no other 
services  (http, ssh, telnet, etc) are available for debian machine. I 
can http and ssh from the internet, using ppp0, suggesting that those 
services are running.

I ran a iptables script to let eth0 to access those services, and the 
following is the output of iptables -L -n -v after the execution of the 
script:

Chain INPUT (policy ACCEPT 32569 packets, 40M bytes)
 pkts bytes target     prot opt in     out     source               
destination        
    0     0 ACCEPT     tcp  --  *      *       192.168.1.0/24       
0.0.0.0/0          tcp dpt:109
    0     0 ACCEPT     tcp  --  *      *       192.168.1.0/24       
0.0.0.0/0          tcp dpt:110
    0     0 ACCEPT     tcp  --  *      *       192.168.1.0/24       
0.0.0.0/0          tcp dpt:25
   24  1512 ACCEPT     all  --  *      *       192.168.1.0/24       
0.0.0.0/0         

Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               
destination        
    0     0 ACCEPT     all  --  *      *       0.0.0.0/0            
0.0.0.0/0         

Chain OUTPUT (policy ACCEPT 31532 packets, 2231K bytes)
 pkts bytes target     prot opt in     out     source               
destination        

Chain tcp_allowed (4 references)
 pkts bytes target     prot opt in     out     source               
destination        
    0     0 ACCEPT     tcp  --  ppp0   *       0.0.0.0/0            
0.0.0.0/0          tcp dpt:21
    0     0 ACCEPT     tcp  --  ppp0   *       0.0.0.0/0            
0.0.0.0/0          tcp dpt:20
    0     0 ACCEPT     tcp  --  eth0   *       0.0.0.0/0            
0.0.0.0/0          tcp dpt:22

Chain tcp_packets (0 references)
 pkts bytes target     prot opt in     out     source               
destination        
    0     0 tcp_allowed  tcp  --  *      *       0.0.0.0/0            
0.0.0.0/0          tcp dpt:21
    0     0 tcp_allowed  tcp  --  *      *       0.0.0.0/0            
0.0.0.0/0          tcp dpt:20
    0     0 tcp_allowed  tcp  --  *      *       192.168.1.0/24       
0.0.0.0/0          tcp dpt:22
    0     0 tcp_allowed  tcp  --  *      *       0.0.0.0/0            
0.0.0.0/0          tcp dpt:22

If I am not mistaken, the output shows that host in the network of 
192.168.1.0 should be able to access all services, provided they are 
physically connected to the server (in which case ping is suggesting it 
is!).

One more thing, when I try to rmmod ip_tables, ip_conntrack, iptable_nat 
and ipt_MASQUERADE, they produce "name_of_module: Device or resource 
busy" error message.  Does iptables has the problem here?

Any pointers would be highly appreciated.

Damar



-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
