<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: nfs and what ensued + linux command of the week" -->
<!-- FromName="'steve donaldson'" -->
<!-- FromEmail="steve@centraldocuments.com" -->
<!-- ToName="" -->
<!-- ToEmail="luke@chipcity.com.au" -->
<!-- Date="16 Dec 2002 22:21:25 +1030" -->
<!-- Id="1040039485.1632.4.camel@localhost.localdomain" -->
<!-- Reference="200212160017.04799.luke@chipcity.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: nfs and what ensued + linux command of the week</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: steve donaldson &lt;<I><A HREF="mailto:steve@centraldocuments.com">steve@centraldocuments.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:luke@chipcity.com.au">luke@chipcity.com.au</A></I>&gt;
  Date: 16 Dec 2002 22:21:25 +1030
</PRE>
<H1>Re: nfs and what ensued + linux command of the week</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
i like pgrep myself :-)

Steve D



On Mon, 2002-12-16 at 00:17, Luke Vanderfluit wrote:
&gt; Hi,
&gt; 
&gt; A couple of days ago I posted about my troubles getting nfs to work.
&gt; Well...
&gt; I got nfs installed nicely and was able to mount remote filesystems, however, 
&gt; in the process, I changed the contents of /etc/fstab hoping to mount the 
&gt; remote system on boot.
&gt; Accidentally I had removed an 'A' from the word LABEL in line 1 of /etc/fstab
&gt; 
&gt; It so happened that I decided to reboot the machine, for some reason, and upon 
&gt; seeing all the processes getting terminated, I noticed that I hadn't umounted 
&gt; my nfs mount. The termination stopped. That's all.
&gt; 
&gt; Unfortunately I panicked and reset the machine, which led to the undesirable 
&gt; state of a damaged superblock. I didn't know how to fix a superblock until 
&gt; later, after I had decided to reinstall, thinking this was my only option to 
&gt; get things up and running again. 
&gt; My 'running linux' book, by Matt Welsh and Lar Kaufmann described what to do 
&gt; in case of a damaged superblock. Apparently they are backed up, but for me it 
&gt; was too late.
&gt; I tried everything, of course now I DO have a rescue/boot disk (up till then I 
&gt; never bothered), incuding going in using 'linux rescue'. /etc wasn't even 
&gt; visible. Going in on normal boot and getting dropped to a shell didn't help 
&gt; because the file system became read-only, I couldn't change any files.
&gt; Even if I could have, I still hadn't dealt with the damaged superblock 
&gt; problem.
&gt; 
&gt; I spent the whole of saturday tackling this problem and today, reinstalling 
&gt; and reinstating my configs. I make regular backups but only recently have I 
&gt; started to keep concise logs of what commands I carry out. This proves to be 
&gt; really important.
&gt; 
&gt; One interesting command that I looked for a while ago and couldn't find, when 
&gt; I was writing a perl script and wanted to kill a process, but needed to find 
&gt; its PID first, is this one &lt; to me the linux command of the week.
&gt; 
&gt; kill -9 `ps -e  | grep -w smbd | sed -e 's/^ *//' -e 's/ .*//'`
&gt; 
&gt; the backticks are the important ingredients on this one.
&gt; 
&gt; So now I'm back to where I was a few days ago, 
&gt; 
&gt; kind regards & christmas cheers,
&gt; 
&gt; -- 
&gt; Luke Vanderfluit
&gt; Phone: 08 8556 6112
&gt; Mobile: 0421 276 282
-- 
steve donaldson &lt;<A HREF="mailto:steve@centraldocuments.com">steve@centraldocuments.com</A>&gt;

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
