<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Samba and Firewall" -->
<!-- FromName="'Freeman, Peter (ERHS)'" -->
<!-- FromEmail="Freeman.Peter@saugov.sa.gov.au" -->
<!-- ToName="'Ralf Brandt'" -->
<!-- ToEmail="rbrandt@bionomics.com.au" -->
<!-- Date="Mon, 9 Dec 2002 16:00:11 +1030" -->
<!-- Id="957F5820F786D511AEDF0002A56B67FC07865F48@sagemsg0012.sagemsmrd01.sa.gov.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Samba and Firewall</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Freeman, Peter (ERHS) &lt;<I><A HREF="mailto:Freeman.Peter@saugov.sa.gov.au">Freeman.Peter@saugov.sa.gov.au</A></I>&gt;
  To  : Ralf Brandt &lt;<I><A HREF="mailto:rbrandt@bionomics.com.au">rbrandt@bionomics.com.au</A></I>&gt;
  Date: Mon, 9 Dec 2002 16:00:11 +1030
</PRE>
<H1>RE: Samba and Firewall</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt;I've configured SAMBA service. I've defined several shares which are, 
&gt;as expected accessible from the clients. However, after activating the 
&gt;firewall (I need IP masquerading) clients have no access anymore to the 
&gt;Samba service. Does anybody know how I can solve this problem.

Sounds like ports 138/139 are being blocked from your local LAN.

Check your firewall configuration to make sure that local LAN traffic is
allowed, and all external traffic is blocked except for the ports
you specifically allow.

Check the firewall logs after trying to connect to the Samba shares from
a local client, it should give you some info about what has been blocked,
and which port etc.

(Also you may want to set the "hosts allow" parameter in smb.conf to allow
only the local LAN subnet, this is a secondary security measure to the 
firewall as any external netbios traffic should be blocked there anyway.)

HTH

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
