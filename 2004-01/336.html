<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Problem in Lex & Yacc program." -->
<!-- FromName="'heman  heman'" -->
<!-- FromEmail="hemanexp@rediffmail.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="7 Jan 2004 15:13:00 -0000" -->
<!-- Id="20040107151300.21840.qmail@webmail17.rediffmail.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Problem in Lex & Yacc program.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: heman  heman &lt;<I><A HREF="mailto:hemanexp@rediffmail.com">hemanexp@rediffmail.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: 7 Jan 2004 15:13:00 -0000
</PRE>
<H1>Problem in Lex & Yacc program.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
 This is a multipart mime message


--Next_1073488380---0-203.199.83.27-21834
Content-type: text/html;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

&lt;P&gt;=0AHi, &lt;BR&gt;=0A &lt;BR&gt;=0A&nbsp; I have written an application using lex &am=
p; yacc. It is a simple &lt;BR&gt;=0Acalculator which does add, subtract and mult=
iplication. The program is &lt;BR&gt;=0Acompiled correctly without errors. But wh=
en i execute the program, it &lt;BR&gt;=0Ais giving 0 as output irrespective of i=
nput and the result is always &lt;BR&gt;=0A0.000. For example if the input is 3.2=
 + 4.5, the output is 0.000. I &lt;BR&gt;=0Adont know where i have gone wrong. Th=
e programs are given below. &lt;BR&gt;=0A &lt;BR&gt;=0Acal.l &lt;BR&gt;=0A------ &lt;BR&gt;=0A &lt;BR&gt;=
=0A%{ &lt;BR&gt;=0A#include &quot;global.h&quot; &lt;BR&gt;=0A#include &quot;y.tab.h&qu=
ot; &lt;BR&gt;=0A#include &lt;stdlib.h&gt; &lt;BR&gt;=0A%} &lt;BR&gt;=0Awhite&nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; [ \t]+ &lt;BR&gt;=0Adigit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0=
-9] &lt;BR&gt;=0Ainteger&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {digit}+ &lt;BR&gt;=0Areal&n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; {integer}(&quot;.&quot;{integer})? &lt;BR&gt;=0A=
%% &lt;BR&gt;=0A{white}&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { } &lt;BR&gt;=0A{real}&nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; {yyval=3Datof(yytext);&nbsp; &lt;BR&gt;=0A&nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp;  return (NUMBER);} &lt;BR&gt;=0A&quot;+&quot;&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; return (PLUS); &lt;BR&gt;=0A&quot;-&quot;&nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; return (MINUS); &lt;BR&gt;=0A&quot;*&quot;&nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; return (TIMES); &lt;BR&gt;=0A&quot;\n&quot;&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; return (END); &lt;BR&gt;=0A &lt;BR&gt;=0A----------------------------------=
--------------- &lt;BR&gt;=0Acal.y &lt;BR&gt;=0A------ &lt;BR&gt;=0A &lt;BR&gt;=0A%{ &lt;BR&gt;=0A#includ=
e &quot;global.h&quot; &lt;BR&gt;=0A#include &lt;stdio.h&gt; &lt;BR&gt;=0A#include &lt;=
stdlib.h&gt; &lt;BR&gt;=0A%} &lt;BR&gt;=0A%token&nbsp; NUMBER &lt;BR&gt;=0A%token&nbsp; PLUS =
MINUS TIMES&nbsp; &lt;BR&gt;=0A%token&nbsp; END &lt;BR&gt;=0A &lt;BR&gt;=0A%left PLUS MINUS T=
IMES&nbsp; &lt;BR&gt;=0A &lt;BR&gt;=0A%start Input &lt;BR&gt;=0A%% &lt;BR&gt;=0A &lt;BR&gt;=0AInput: &lt;BR&gt;=
=0A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;  Input Line &lt;BR&gt;=0A&nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; ; &lt;BR&gt;=0A &lt;BR&gt;=0ALine: &lt;BR&gt;=0A&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  END &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; |&nbsp; &nbsp;  Expression&nbsp; &nbsp;  END&nbsp;  {printf(&quot;\=
n Result: %f&quot;,$1);} &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; &lt;BR&gt;=
=0A &lt;BR&gt;=0AExpression: &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NUMBER { $=
$=3D$1; } &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;  Express=
ion PLUS Expression&nbsp;  { $$=3D$1+$3;} &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; |&nbsp; &nbsp;  Expression MINUS Expression&nbsp;  { $$=3D$1-$3; }=
 &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;  Expression TIMES=
 Expression&nbsp;  { $$=3D$1*$3; } &lt;BR&gt;=0A &lt;BR&gt;=0A&nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; ; &lt;BR&gt;=0A%% &lt;BR&gt;=0A &lt;BR&gt;=0Aint yyerror(char *s) &lt;BR&gt;=0A{ &lt;BR&gt;=0A&=
nbsp; &nbsp;  printf(&quot;%s\n&quot;,s); &lt;BR&gt;=0A} &lt;BR&gt;=0A &lt;BR&gt;=0Aint main(=
void) &lt;BR&gt;=0A{ &lt;BR&gt;=0A&nbsp; &nbsp;  yyparse(); &lt;BR&gt;=0A} &lt;BR&gt;=0A &lt;BR&gt;=0A &lt;B=
R&gt;=0Aglobal.h &lt;BR&gt;=0A--------- &lt;BR&gt;=0A#define YYSTYPE&nbsp; double &lt;BR&gt;=0Ae=
xtern YYSTYPE&nbsp; yyval; &lt;BR&gt;=0A &lt;BR&gt;=0A &lt;BR&gt;=0AResult: &lt;BR&gt;=0A------- &lt;B=
R&gt;=0A[<A HREF="mailto:root@mycal">root@mycal</A>]# yacc -d cal.y &lt;BR&gt;=0A[<A HREF="mailto:root@mycal">root@mycal</A>]# lex cal.l &lt;BR&gt;=0A[roo=
<A HREF="mailto:t@mycal">t@mycal</A>]# gcc -o cal y.tab.c lex.yy.c -lfl &lt;BR&gt;=0A[<A HREF="mailto:root@mycal">root@mycal</A>]# ./cal &lt;BR&gt;=
=0A2.3+4.2 &lt;BR&gt;=0AResult: 0.000000 &lt;BR&gt;=0A[<A HREF="mailto:root@mycal">root@mycal</A>]# &lt;BR&gt;=0A &lt;BR&gt;=0A &lt;BR=
&gt;=0A&nbsp;  Let know what is the problem and how to solve it. &lt;BR&gt;=0A &lt;BR&gt;=
=0AThanx.&nbsp; &lt;BR&gt;=0A =0A&lt;/P&gt;=0A&lt;br&gt;&lt;br&gt;=0A&lt;A target=3D"_blank" HREF=3D"h=
ttp://clients.rediff.com/signature/track_sig.asp"&gt;&lt;IMG SRC=3D"<A HREF="http://ads.re=
">http://ads.re=
</A>diff.com/RealMedia/ads/adstream_nx.cgi/www.rediffmail.com/<A HREF="mailto:inbox.htm@Bottom">inbox.htm@Bottom</A>"=
 BORDER=3D0 VSPACE=3D0 HSPACE=3D0 HEIGHT=3D74 WIDTH=3D496&gt;&lt;/a&gt;=0A
--Next_1073488380---0-203.199.83.27-21834
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, =0A =0A  I have written an application using lex & yacc. It is a simple=
 =0Acalculator which does add, subtract and multiplication. The program is =
=0Acompiled correctly without errors. But when i execute the program, it =
=0Ais giving 0 as output irrespective of input and the result is always =0A=
0.000. For example if the input is 3.2 + 4.5, the output is 0.000. I =0Adon=
t know where i have gone wrong. The programs are given below. =0A =0Acal.l =
=0A------ =0A =0A%{ =0A#include "global.h" =0A#include "y.tab.h" =0A#includ=
e &lt;stdlib.h&gt; =0A%} =0Awhite          [ \t]+ =0Adigit          [0-9] =0Ainte=
ger          {digit}+ =0Areal          {integer}("."{integer})? =0A%% =0A{w=
hite}          { } =0A{real}          {yyval=3Datof(yytext);  =0A          =
 return (NUMBER);} =0A"+"          return (PLUS); =0A"-"          return (M=
INUS); =0A"*"          return (TIMES); =0A"\n"          return (END); =0A =
=0A------------------------------------------------- =0Acal.y =0A------ =0A=
 =0A%{ =0A#include "global.h" =0A#include &lt;stdio.h&gt; =0A#include &lt;stdlib.h&gt; =
=0A%} =0A%token  NUMBER =0A%token  PLUS MINUS TIMES  =0A%token  END =0A =0A=
%left PLUS MINUS TIMES  =0A =0A%start Input =0A%% =0A =0AInput: =0A        =
  |     Input Line =0A          ; =0A =0ALine: =0A               END =0A   =
       |     Expression     END   {printf("\n Result: %f",$1);} =0A        =
  ; =0A =0AExpression: =0A          NUMBER { $$=3D$1; } =0A          |     =
Expression PLUS Expression   { $$=3D$1+$3;} =0A          |     Expression M=
INUS Expression   { $$=3D$1-$3; } =0A          |     Expression TIMES Expre=
ssion   { $$=3D$1*$3; } =0A =0A          ; =0A%% =0A =0Aint yyerror(char *s=
) =0A{ =0A     printf("%s\n",s); =0A} =0A =0Aint main(void) =0A{ =0A     yy=
parse(); =0A} =0A =0A =0Aglobal.h =0A--------- =0A#define YYSTYPE  double =
=0Aextern YYSTYPE  yyval; =0A =0A =0AResult: =0A------- =0A[<A HREF="mailto:root@mycal">root@mycal</A>]# ya=
cc -d cal.y =0A[<A HREF="mailto:root@mycal">root@mycal</A>]# lex cal.l =0A[<A HREF="mailto:root@mycal">root@mycal</A>]# gcc -o cal y.tab.c =
lex.yy.c -lfl =0A[<A HREF="mailto:root@mycal">root@mycal</A>]# ./cal =0A2.3+4.2 =0AResult: 0.000000 =0A[roo=
<A HREF="mailto:t@mycal">t@mycal</A>]# =0A =0A =0A   Let know what is the problem and how to solve it. =
=0A =0AThanx.  =0A=20
--Next_1073488380---0-203.199.83.27-21834--

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
