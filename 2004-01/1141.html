<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: SCSI error question" -->
<!-- FromName="'Glen Turner'" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="'Daryl Tester'" -->
<!-- ToEmail="Daryl.Tester@iocane.com.au" -->
<!-- Date="Fri, 30 Jan 2004 10:36:38 +1030" -->
<!-- Id="1075421198.6249.141.camel@andromache" -->
<!-- Reference="5.2.1.1.0.20040129185055.00b3f7b0@localhost" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: SCSI error question</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;
  Date: Fri, 30 Jan 2004 10:36:38 +1030
</PRE>
<H1>Re: SCSI error question</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, 2004-01-29 at 22:29, Daryl Tester wrote:

&gt; Well, if it's already started, then the BIOS shouldn't be trying to start
&gt; the drive.  You should be able to go in and disable that.

Hmmm.  SCSI-3 is silent about which power state is
the factory default.  There's a strong case for
starting drives in the Standby (spun down) state
so that unused drives on the bus do not consume
power.

The SCSI initiator is expected to send a START STOP
UNIT (Start=1) request to power-up the recording
medium.

This isn't the first SCSI command sent however, as
well before powering on any media the initiator needs
to find out which targets are on the bus.

I'd consider booting from a CD and then bringing
the device on-line, with a good eye on the system
log for failing SCSI commands.

There are lots of useless INQUIRY commands an initiator
can send to a target without powering up the media, so
there should be a SCSI ping program.  Use that to
test the integrity of the bus.

Once you are happy the bus is running see if there is
a utility to pull the error log from the drive.  Maybe
the vibration is an indication of hardware failure.

[ One of the nice things about the Linux 2.6 hotplug
  interface is that the kernel can invoke hotplug
  for any reason.  So if someone wants to do the world
  a favour how about writing a hotplug-invoked program
  which pulls the log from a SCSI drive when the first
  error is encountered and drops it as decoded text to
  syslog. ]

-- 
Glen Turner         Tel: (08) 8303 3936 or +61 8 8303 3936 
Network Engineer          Email: <A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>
Australian Academic & Research Network   www.aarnet.edu.au


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
