<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Search & Replace" -->
<!-- FromName="'James Leone'" -->
<!-- FromEmail="LINUXCPA@netscape.net" -->
<!-- ToName="" -->
<!-- ToEmail="andrewlord@internode.on.net" -->
<!-- Date="Sat, 11 Jan 2003 16:10:27 -0800" -->
<!-- Id="3E20B273.5020401@netscape.net" -->
<!-- Reference="200301101757.41129.andrewlord@internode.on.net" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Search & Replace</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: James Leone &lt;<I><A HREF="mailto:LINUXCPA@netscape.net">LINUXCPA@netscape.net</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:andrewlord@internode.on.net">andrewlord@internode.on.net</A></I>&gt;
  Date: Sat, 11 Jan 2003 16:10:27 -0800
</PRE>
<H1>Re: Search & Replace</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I used a command in a spamassassin script I wrote.

*Goes to download it*

The command:

perl -i -wpe 's/type", "pop3"/type","movemail"/g' prefs.js

Scans the prefs.js file for ----&gt;                   type", "pop3"

and replaces any incident of it with -------&gt;                       
 type","movemail"

This is the only Perl that I know to refer to now and then, and I have 
no idea what the -i or -wpe means, other than, it works.

James Leone




<A HREF="mailto:andrewlord@internode.on.net">andrewlord@internode.on.net</A> wrote:

&gt;On Fri, 10 Jan 2003 10:34 pm, Ant wrote:
&gt;
&gt;Thanks for your reply Ant,
&gt;
&gt;  
&gt;
&gt;&gt;How about (untested):?
&gt;&gt;
&gt;&gt;find . --exec perl -pi 's/targetText/replacementText/g' {} \;
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Well I tried this as you suggested and the response result was:
&gt;
&gt;find: invalid predicate `-pi'
&gt;
&gt;Upon trying this, I realised that I had left an '-e' out of the line I posted 
&gt;to the group.  Unforgivable and I hope it's wasted no-ones time as a result.  
&gt;Appologies if it has.
&gt;
&gt;The correct line shold have read
&gt; bash $    perl -pi -e 's/targetText/replacementText/g' *
&gt; 
&gt;So I've gone and tried a few different options based on your suggestions and 
&gt;the results follow:
&gt;$  find . --exec perl -pi -e 's/targetText/replacementText/g' {}\;
&gt; find: invalid predictate `--exec'
&gt;$  find . perl -pi -e 's/targetText/replacementText/g' {}\;
&gt; find: invalid predictate `-pi'
&gt;$  find . perl -e 's/targetText/replacementText/g' {}\;
&gt; find: invalid predictate `-e'
&gt;$  find . perl -e 's/targetText/replacementText/g' {}\;
&gt; ./directoryname
&gt; ./directoryname/filename
&gt; ./directoryname/filename2   (etc)
&gt; ./directoryname/subdirectoryname  (etc)
&gt; find: s/targetText/replacementText/g: No such file or directory
&gt; find: {};: No such file or directory
&gt;
&gt;So basically the final command succeeds in recursively listing the entire 
&gt;contents of that directory, but no changes.  
&gt;
&gt;I've now resorted to a longer trawl of the web and found the following.  It 
&gt;works well for replacing 'this' with 'that', recursively, in all .html files 
&gt;(or in any file at all using * instead) but unfortunately fails to change 
&gt;file names and directory names.
&gt;
&gt;Nevertheless, for anyone else interested, the line is:
&gt;find . -print | egrep "*\.html" | xargs perl -pi -e 's/this/that/g'
&gt;
&gt;Works down through two subdirectories and I suppose it would work further too 
&gt;(not tested though).
&gt;
&gt;I'd welcome further suggestions on how this could be enhanced to replace 
&gt;'this' with 'that' in file and directory names, or even any ideas on a 
&gt;separate line of code that will do this task.
&gt;
&gt;Cheers,
&gt;
&gt;Andrew Lord
&gt;
&gt;
&gt;  
&gt;

-- 
Your favorite stores, helpful shopping tools and great gift ideas. 
Experience the convenience of buying online with <A HREF="mailto:Shop@Netscape">Shop@Netscape</A>! 
<A HREF="http://shopnow.netscape.com/">http://shopnow.netscape.com/</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
