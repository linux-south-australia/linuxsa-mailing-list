<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Fail-Over web servers" -->
<!-- FromName="'Andrew Reid'" -->
<!-- FromEmail="andrew.reid@plug.cx" -->
<!-- ToName="'jonathan soong'" -->
<!-- ToEmail="jon.soong@imvs.sa.gov.au" -->
<!-- Date="Thu, 16 Jan 2003 14:07:22 +1030" -->
<!-- Id="20030116033722.GA14718@rubeus.alfred.cx" -->
<!-- Reference="3E25FFBD.6070200@imvs.sa.gov.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Fail-Over web servers</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Andrew Reid &lt;<I><A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A></I>&gt;
  To  : jonathan soong &lt;<I><A HREF="mailto:jon.soong@imvs.sa.gov.au">jon.soong@imvs.sa.gov.au</A></I>&gt;
  Date: Thu, 16 Jan 2003 14:07:22 +1030
</PRE>
<H1>Re: Fail-Over web servers</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, Jan 16, 2003 at 11:11:33AM +1030, jonathan soong wrote:

&gt; As the machine is likely to be storing many 100's meg of data or even 
&gt; gig's, restoring from backup is not really an option.
&gt; 
&gt; We are currently looking at running a secondary server that will sit 
&gt; side by side the primary webserver. It is likely that we will either get 
&gt; the firewall to monitor the machines and re-direct traffic if a machine 
&gt; goes down, or run something like heart beat on the machines.

First thing to do would be to make sure the servers are in physically
different locations. Having two servers in fail-over configuration
will be no help at all if the server room catches on fire.

I'm not sure how robust the heartbeat software for Linux is. I'd be
more inclined to use a load-balancing switch (or, piece of software on
your nearest Linux router, if you must). If you do want to go down the
software path, Eddie[1] is worth a look.

&gt; We will be using a mysql database on the primary with replication to the 
&gt; secondary machine, hence the database is not a problem.

Right, so the web application running on each machine is connecting to
MySQL @ localhost, right?

&gt; The main problem is that there will be many files sent to the primary 
&gt; machine that will need to exist on the secondary machine as well.
&gt; 
&gt; The 2 options currently considered are:
&gt; 1. Writing our own daemon programs to sync up the 'data' directories

Eeek!

&gt; 2. Using something like ENBD (enhanced network block device). In which 
&gt; case the secondary server would make some disk available for the primary 
&gt;  webserver to incorporate into its RAID. Hence we would have 'real 
&gt; time' mirroring over the network.

Have you considered the other network file system products out there
that support replication and fail-over, like Coda[2]?

&gt; A further option (which is out of our budget) would be to use an array 
&gt; of scsi disks on a controller that could be plugged into the secondary 
&gt; machine should the primary machine die.

That be a real bitch if the server crashed at half-passed four in the
morning. You'll be happier in the long-run if you've got something
that can handle fail-over automatically.

   - andrew

[1] <A HREF="http://eddie.sourceforge.net/">http://eddie.sourceforge.net/</A>

[2] <A HREF="http://www.coda.cs.cmu.edu/">http://www.coda.cs.cmu.edu/</A>

-- 
| Andrew Reid [mailto:<A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A>]
| Overworked and Underpaid Network Monkey
| C: +61-401-946-813  F: +61-8-8379-1093
| Finger <A HREF="mailto:andrew@keetoo.alfred.cx">andrew@keetoo.alfred.cx</A> for PGP Public Key

-----BEGIN PGP SIGNATURE-----
Version: PGPfreeware 5.0i for non-commercial use
MessageID: jO5svyiANQJ6qVGueYGxcsORnqFp1ZPr

iQA/AwUBPiYo8gOEtj6a+QJxEQL7YwCdFIyCHqiV39msQG4yKVkGd6Q3p8AAnApn
Ec6yC/iwuZRKiTTs6s4z114P
=Cwqu
-----END PGP SIGNATURE-----

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
