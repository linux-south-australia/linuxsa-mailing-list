<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Mechanisms to stop DOS attack on email Servers" -->
<!-- FromName="'Mark Newton'" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="" -->
<!-- ToEmail="mselge@hansenyuncken.com.au" -->
<!-- Date="Tue, 21 Jan 2003 23:03:50 +1030" -->
<!-- Id="3E2D3E2E.8080701@atdot.dotat.org" -->
<!-- Reference="003201c2c115$37e677c0$bf5391a2@HYSA" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Mechanisms to stop DOS attack on email Servers</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:mselge@hansenyuncken.com.au">mselge@hansenyuncken.com.au</A></I>&gt;
  Date: Tue, 21 Jan 2003 23:03:50 +1030
</PRE>
<H1>Re: Mechanisms to stop DOS attack on email Servers</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Michael Selge wrote:
&gt; What (if any) means are available to stop mail servers being sent extremely
&gt; large attachments and lots of them. I'm led to believe there is no header
&gt; information on SMTP data packets as to the size of an email attachment.

As Simon has said, ESMTP does, but you probably don't want to limit
yourself to ESMTP-only.

As an adjunct to Simon's message, be aware that receiving email from
MS Exchange servers is fraught with pitfalls if you limit inbound
message size.

When your SMTP server says, "Oops, the message is too big, let's shut
down the connection and throw it away," Exchange sees that as a
"temporary" mail delivery problem, and will retransmit the message.
This will make your SMTP server accept &lt;insert-size-here&gt; bytes before
shutting the connection down again, which will once more cause Exchange
to retransmit, which will make you close the connection again, ... and
so on.

There are a lot of people on the Internet who think they're being
bombarded by email who might find that the problem could disappear if
they stopped limiting the inbound message size.

At the end of the day, you don't have any realistic, meaningful way
to limit the size of an inbound message from your end, so (as Simon
suggested) either swallow the firehose or arrange for the big messages
to be removed somewhere upstream.

   - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
      but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
