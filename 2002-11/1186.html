<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="apache reaches MaxClients setting loading a simple page" -->
<!-- FromName="'nik [tm]'" -->
<!-- FromEmail="tmcruisin@visualspace.com.au" -->
<!-- ToName="'linuxsa@linuxsa.org.au'" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 28 Nov 2002 13:17:02 +1030" -->
<!-- Id="3DE583A6.7020004@visualspace.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: apache reaches MaxClients setting loading a simple page</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: nik [tm] &lt;<I><A HREF="mailto:tmcruisin@visualspace.com.au">tmcruisin@visualspace.com.au</A></I>&gt;
  To  : linuxsa@linuxsa.org.au &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 28 Nov 2002 13:17:02 +1030
</PRE>
<H1>apache reaches MaxClients setting loading a simple page</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi all,

got a bit of a problem with apache 1.3.27 (compiled from source only 
with --enable-module=so but I tried with other compile options too) on 
RH7.2 with php versions (4.2.1 and 4.3.0pre)

I am getting the error loading any of the pages in documentroot;
"[error] server reached MaxClients setting, consider raising the M
MaxClients setting"

and apache crashes.
the MaxClients is set to 250 (256 being the max it can have)

now the server has been fine up until yesterday, then it has started 
doing this everytime without fail, even loading the simplest of pages.
I have tried recompiling/installing apache 3 times and that has made no 
difference, also have tried the new php 4.3.0pre instead of the original 
php.4.2.1 compiled only with apxs, cli and mysql support, but to no avail.
with a ps ax I can see hundreds of httpd processes and they arent dying off.
I am wondering if this is a bug or is there some kind of configuration 
change I can make, this is the relevant section of the httpd.conf;

Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 15
MinSpareServers 5
MaxSpareServers 10
StartServers 5
MaxClients 250
MaxRequestsPerChild 0

googling comes up with links to methods of tuning the server, but I 
suspect it is more than this since the same config worked for two months 
without a problem.

has anyone had this problem? or is having similar problems?
this is a production server and it has died on me (and re-compiling and 
installing isnt fixing it) so I am a bit lost as to where to look now..

TIA
nik [tm]


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
