<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: [OT] Sun V100 boot net/disk problem" -->
<!-- FromName="'Dale Butterworth'" -->
<!-- FromEmail="db@essential.com.au" -->
<!-- ToName="'richard@yellowgoanna.com'" -->
<!-- ToEmail="richard@yellowgoanna.com" -->
<!-- Date="Tue, 5 Nov 2002 14:56:09 +1030" -->
<!-- Id="C316306FDC7ED511BC2C00D0B789CD9E950A32@fox.essential.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: [OT] Sun V100 boot net/disk problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Dale Butterworth &lt;<I><A HREF="mailto:db@essential.com.au">db@essential.com.au</A></I>&gt;
  To  : richard@yellowgoanna.com &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  Date: Tue, 5 Nov 2002 14:56:09 +1030
</PRE>
<H1>RE: [OT] Sun V100 boot net/disk problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Richard,

I've checked my trusty openboot manual and if diag-switch=true then it will
boot in diagnostic mode, in this mode it will boot from the diag-device.
hence change the diag-switch variable.

Note: E450's 280R's etc.. have a key switch which has multiple modes
poweroff, diagnostic, locked and On. So it is possible for this too be set
by the key pos. not too sure if the V100 has this.

regards Dale.


-----Original Message-----
From: <A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A> [mailto:<A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>]
Sent: Tuesday, November 05, 2002 2:53 PM
To: Dale Butterworth
Cc: <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
Subject: Re: [OT] Sun V100 boot net/disk problem


Thanks all for the help...

However, I checked with printenv, and this is what I got:

----
ok  printenv boot-device
boot-device =         disk net
ok
----

So... it should be using the disk, but isn't.

Stranger than that, though, when I do boot disk, it works:

----
ok boot disk
Boot device: /<A HREF="mailto:pci@1f">pci@1f</A>,0/<A HREF="mailto:ide@d">ide@d</A>/<A HREF="mailto:disk@2">disk@2</A>,0  File and args:
Loading ufs-file-system package 1.4 04 Aug 1995 13:02:54.
FCode UFS Reader 1.11 97/07/10 16:19:15.
Loading: /platform/SUNW,UltraAX-i2/ufsboot
Loading: /platform/sun4u/ufsboot
SunOS Release 5.8 Version Generic_108528-13 64-bit
Copyright 1983-2001 Sun Microsystems, Inc.  All rights reserved.
/
----
(etc)

yet if I just do a boot:

----
ok boot
Boot device: net  File and args:
Using Onboard Transceiver - Link Up.
Timeout waiting for ARP/RARP packet
Timeout waiting for ARP/RARP packet
Timeout waiting for ARP/RARP packet
----
(etc -- the Timeouts are expected and correct)

Strange.

Hunting through printenv gave me a few more things that may mean
something relevant:

----
ok printenv
Variable Name         Value                          Default Value
:
boot-command          boot                           boot
:
diag-device           net                            net
:
net-timeout           0                              0
:
diag-switch?          true                           false
ok
----

Hmmm... Maybe I've found the problem. Can anyone translate that? My
assumption is that the diag-switch? means it will try booting from the
diag-device... whyso? How did I manage to set that?

Cheers

rr

-- 
Richard Russell
Yellow Goanna P/L
e: <A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A>
m: +61 412 827 805
f: +61 8 8462 2362

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
