<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: patching" -->
<!-- FromName="'Dan Shearer'" -->
<!-- FromEmail="dan@tellurian.com.au" -->
<!-- ToName="'Wilkinson,Alex'" -->
<!-- ToEmail="Alex.Wilkinson@dsto.defence.gov.au" -->
<!-- Date="Thu, 21 Nov 2002 11:26:38 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.21.0211211110350.28066-100000@calulu.shearer.org" -->
<!-- Reference="20021121105839.Y73261-100000@squirm.dsto.defence.gov.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: patching</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Dan Shearer &lt;<I><A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A></I>&gt;
  To  : Wilkinson,Alex &lt;<I><A HREF="mailto:Alex.Wilkinson@dsto.defence.gov.au">Alex.Wilkinson@dsto.defence.gov.au</A></I>&gt;
  Date: Thu, 21 Nov 2002 11:26:38 +1030 (CST)
</PRE>
<H1>Re: patching</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Thu, 21 Nov 2002, Wilkinson,Alex wrote:

&gt; Howdy Crew,
&gt; 
&gt; Can someone recommend a paper on 'howto' to write patches ?

At what level? If you mean the mechanics of plain text diffs, that's easy.  
If you modify a file called xyz.c try:

  diff -u xyz.c.original xyz.c &gt; xyz.c.patch

which can be applied to the original by someone using a command like 

  patch xyz.c &lt; xyz.c.patch

If you have multiple files in multiple directories you can still use these
commands, using the -r option for diff and perhaps needing the -p option
for patch.

If you want someone to seriously consider trusting your patches you can
sign them (or the email containing them) with GPG, and you could include
an md5sum.

This isn't all, though. The patches have to be acceptable to the package
maintainer. To give you an example, the other day I got a message back
from a mail daemon maintainer rejecting a patch that avoids a umask
vulnerability. I sent the same patch on to the security officer of two
distributions (Debian and FreeBSD), and one of them accepted it and the
other agreed with the author. I'm not going to label the author as wrong;
security is a continuum and the author picked a different point on the
continuum than I did. He feels that administrators should always know what
they are doing. I feel that administrators frequently forget things or get
distracted by simultaneous emergencies, no matter how clever they are.

Before you write any patch that you think might get submitted one day, I
suggest: do some google searches (including Usenet articles) and ask on
the -dev mailing list if there is one. More often than not I suggest that
even very good coders will find that someone has already thought of that
patch and it has been rejected, or it has already been done and will be in
the next release, or that there is a mistake in the diagnosis that others
have made before.

Hmmm. There you are, a mini-HOWTO.

--
Dan Shearer
Open Source Manager
Mob: +61 411 49 1800
Tel: +61 8 8130 3104
<A HREF="mailto:dan@tellurian.com.au">dan@tellurian.com.au</A>


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
