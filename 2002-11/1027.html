<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Kernel buffering" -->
<!-- FromName="'No good Punk'" -->
<!-- FromEmail="nogoodpunk@yahoo.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 23 Nov 2002 22:33:16 -0800 (PST)" -->
<!-- Id="20021124063316.61951.qmail@web20503.mail.yahoo.com" -->
<!-- Reference="Pine.LNX.4.33.0211221537000.10905-100000@ns.aus.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Kernel buffering</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: No good Punk &lt;<I><A HREF="mailto:nogoodpunk@yahoo.com">nogoodpunk@yahoo.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sat, 23 Nov 2002 22:33:16 -0800 (PST)
</PRE>
<H1>Re: Kernel buffering</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; &gt;  * Get data from kernel land to user land without
&gt; having to buffer it
&gt; &gt;    myself or
&gt; &gt;  * Safely create a dynamic buffer without the fear
&gt; of bringing my system
&gt; &gt;    when a bunch of data comes in
&gt; 
&gt; Couple of suggestions:
&gt; 
&gt; 1. signal the application that the data is ready to
&gt; pick up.
&gt; 
&gt; 2. Have the application call into the kernel via a
&gt; syscall, and only 
&gt; return when either the buffer is full, or a timeout
&gt; occurs. Here you would 
&gt; want two buffers, and the syscall would provide a
&gt; userland buffer that the 
&gt; kernel should fill when the data is ready. So, when
&gt; the primary buffer 
&gt; fills, flip them, copy the full buffer to userland,
&gt; call wakeone or 
&gt; wakeup on the waiting process, and then return.

I think this is the "Unix solution" here. Make the
kernel module simple and correct, with the cost of
extra application level programming complexity. I'm
not saying this is good or bad, some say worse is better.

__________________________________________________
Do you Yahoo!?
Yahoo! Mail Plus – Powerful. Affordable. Sign up now.
<A HREF="http://mailplus.yahoo.com">http://mailplus.yahoo.com</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.openprojects.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
