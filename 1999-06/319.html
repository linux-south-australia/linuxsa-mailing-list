<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: MRTG" -->
<!-- FromName="" -->
<!-- FromEmail="mtippett@ticons.com.au" -->
<!-- ToName="Andy Zivkovic" -->
<!-- ToEmail="andy@zivkotech.net.au" -->
<!-- Date="Sat, 19 Jun 1999 11:01:13 +0930 (CST)" -->
<!-- Id="199906190131.LAA09854@matt.ticons.com.au" -->
<!-- Reference="Pine.LNX.4.10.9906181634120.3801-100000@pii.home.zivkotech.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: MRTG</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: <A HREF="mailto:mtippett@ticons.com.au">mtippett@ticons.com.au</A>
  To  : Andy Zivkovic &lt;<I><A HREF="mailto:andy@zivkotech.net.au">andy@zivkotech.net.au</A></I>&gt;
  Date: Sat, 19 Jun 1999 11:01:13 +0930 (CST)
</PRE>
<H1>Re: MRTG</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; I'm running MRTG on my machine to show modem usage (at the moment). For
&gt; the last 60 minutes or so I've ben running the modem at it's full speed
&gt; (it's connected at 33,6kbps, and wget claims i'm downloading at 4 kBps),
&gt; so I'd expect the mrtg graps to be at around 4kBps, but it's staying at
&gt; less than 1000Bps :(

Not sure about that one, I hacked together a script that uses the 
ipaccounting.  Works quite well.  

You could check the IPAccounting output to the snmp output.

&gt; I think there was an option somewhere to tell it if 1k was 1000 or 1024,
&gt; but there's no way that can make a 3k difference. Has anyone had this
&gt; problem? is there a way to have the graphs show the correct usage?

Not sure.

&gt; also, it's possible to get mrtg to graph CPU usage. is this easy to set
&gt; up? If so, could someone help me, or point me in the right direction? I
&gt; looked through the contrib docs and the mrtg docs, but it wasn't there.

Yup do a custom script, I think the output is interpreted as.. (It is in 
the manual).

	1st line in taffic
	2nd line out traffic
	3rd line is uptime
	4th line is host name

Once that is done, probably by extracting the CPU load from somewhere in /proc
Once you have that, you can use the guage option to to tell mrtg *NOT* to do
deltas.

Something like below would work.

Title[cumm]: Cummulative traffic for everything
PageTop[cumm]: &lt;H1&gt;Cummulative&lt;/H1&gt;
Target[cumm]: `/app/mrtg/bin/getstats '0.0.0.0/0.*0.0.0.0/0'`
options[cumm]: gauge
MaxBytes[cumm]: 100000000

Regards,

Matt
-- 
Matthew Tippett          - +61 416 006 047     - <A HREF="mailto:mtippett@ticons.com.au">mtippett@ticons.com.au</A>
Linux Support Initiative - BETA Testers Wanted - <A HREF="http://lsi.ticons.com.au/">http://lsi.ticons.com.au/</A>
Tippett Information Consulting Pty Ltd -       - <A HREF="http://www.ticons.com.au/">http://www.ticons.com.au/</A>

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
