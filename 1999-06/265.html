<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Superblocks" -->
<!-- FromName="Mark Newton" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="C4IS" -->
<!-- ToEmail="C4IS@EISA.NET.AU" -->
<!-- Date="Wed, 16 Jun 1999 21:59:55 +0930 (CST)" -->
<!-- Id="199906161230.WAA58879@atdot.dotat.org" -->
<!-- Reference="004701beb7f2$5e596c80$0400000a@esp" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Superblocks</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : C4IS &lt;<I><A HREF="mailto:C4IS@EISA.NET.AU">C4IS@EISA.NET.AU</A></I>&gt;
  Date: Wed, 16 Jun 1999 21:59:55 +0930 (CST)
</PRE>
<H1>Re: Superblocks</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
C4IS wrote:

 &gt; Mike Earnshaw &lt;<A HREF="mailto:mearnshaw@bigpond.com">mearnshaw@bigpond.com</A>&gt; wrote:
 &gt; 
 &gt; &gt;Whilst reading a book on repairing file systems it mentioned superblocks at
 &gt; &gt;regular intervals in the ext2 filesystem.
 &gt; &gt;What are 'superblocks' and their use is ....?
 &gt; 
 &gt; &gt;From <A HREF="http://www.cs.uky.edu/~raphael/courses/CS585/class.2.2.html">http://www.cs.uky.edu/~raphael/courses/CS585/class.2.2.html</A>
 &gt; "Old versions of Unix use a simple organization. Near the beginning of the
 &gt; disk is a short region (Unix calls it the "superblock") containing a disk
 &gt; descriptor.

... which confirms that they exist but doesn't say what they're for.

The superblock contains filesystem-wide management information that's
used by the kernel when the filesystem is mounted and by utilities
when maintenance is being performed.  Among other things, it contains
pointers to various important on-disk data structures for the file
system (such as free block maps, free inode maps, cylinder group
descriptors, etc), statistical info about the filesystem (such as its
size, blocks-in-use, last mountpoint, number of inodes), and flags the
kernel can use to determine whether the filesystem might have been
damaged by a system crash last time it was used.

The text quoted above talked about "old versions of UNIX"; The
superblock has survived for new versions too: ext2fs, BSD's ffs,
SysV's ufs, IRIX's XFS, Veritas' VxFS, and most other modern UNIX
filesystems utilize a superblock as the central repository of
filesystem management data.  The main conceptual difference between
the old V7 UNIX filesystem described in the text and modern UNIXen is
that modern UNIXen store multiple redundant copies of the superblock
to guard against catastrophic loss due to disk corruption.  In the
ol' days, destruction of the superblock resulted in the total loss
of the filesystem -- These days it isn't quite so drastic.

   - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----

-- 
Check out the LinuxSA web pages at <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
