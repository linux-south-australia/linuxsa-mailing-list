<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: LVM and Software RAID (was: Re: New hdd installation)" -->
<!-- FromName="'Richard Sharpe'" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="'michael','Mark Newton'" -->
<!-- ToEmail="michael@home.lyppard.com.au,newton@atdot.dotat.org" -->
<!-- Date="Thu, 19 Apr 2001 17:11:17 +0900" -->
<!-- Id="3.0.6.32.20010419171117.01070e90@10.0.2.1" -->
<!-- Reference="20010418094756.A18897@atdot.dotat.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: LVM and Software RAID (was: Re: New hdd installation)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : michael &lt;<I><A HREF="mailto:michael@home.lyppard.com.au">michael@home.lyppard.com.au</A></I>&gt;<BR>        Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  Date: Thu, 19 Apr 2001 17:11:17 +0900
</PRE>
<H1>Re: LVM and Software RAID (was: Re: New hdd installation)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 04:56 PM 4/19/01 +0930, michael wrote:
&gt;Hi.
&gt;
&gt;Thanks for that.
&gt;
&gt;I am under the impression that the hardware raid cards have their own
&gt;processors?, and that that would be a benefit to the whole equation.

They do have their own hardware, often slower than what is in your CPU, and
they also have their own memory, which can be battery backed, but that is
often far less than what is in your system, and you can get battery backed
memory modules as well.

&gt;What I offerred was not a summary at all. It was an opinion. I'm happy to
&gt;change it, what evidence do you have that software raid is superior to
&gt;hardware raid? Are you talking about systems that are real world loaded,
&gt;with cpu being used for things other than managing the disk?

My experience with hardware and software raid suggests that there are lots
of circumstances where software RAID is superior.

&gt;I would have thought that there is an *inherent* benefit in offloading
&gt;raid management from system CPU. That is not true?

Lots of years ago, Emulex came out with an Ethernet card with its own 80186
processor on it. A few years of experience, however, demonstrated that
writing drivers to handle the cards was much more complex than writing one
for a Lance chipset, and you could get better performance from a simple
Lance Chipset, as it could DMA directly to memory, rather than buffering it
in on-board memory and then copying to system memory.

So, the actual performance characteristics are not straightforward.

With devices directly connected to your SCSI bus you can implement software
RAID with a faster processor that has more memory available for caching.
You also can easily use some of the drives as JBODs (without another device
in the way). You can more easily manage the RAID devices, because most of
the management utilities I have seen stink. 

Also, you get to see all the errors on the bus if you want them (for
predicting and recognizing problems), while hardware RAID cards tend to
hide this info or make it harder to get (often don't log it in syslog for
example).

&gt;Regards,
&gt;
&gt;Michael
&gt;
&gt;On Wed, 18 Apr 2001, Mark Newton wrote:
&gt;
&gt;&gt; On Wed, Apr 18, 2001 at 01:05:41AM +0930, michael wrote:
&gt;&gt; 
&gt;&gt;  &gt; &gt; I'm left in a quandry:  Should I believe that the MCSE guide is 
&gt;&gt;  &gt; &gt; factually incorrect, or should I believe that MS operating systems 
&gt;&gt;  &gt; &gt; have crappy performance?  Decisions, decisions...
&gt;&gt;  &gt; 
&gt;&gt;  &gt; Neither. Believe what you like regarding M$. Install a good Hardware
Raid
&gt;&gt;  &gt; card and M$ will never know about it. The OS only sees the logical
volume
&gt;&gt;  &gt; created in hardware.
&gt;&gt; 
&gt;&gt; Perhaps you've been reading too much promotional literature from 
&gt;&gt; hardware RAID card manufacturers.  Your summary above glosses over 
&gt;&gt; far too many issues to be even remotely useful.
&gt;&gt; 
&gt;&gt; Fact:  There is no *inherent* reason why hardware RAID should perform
&gt;&gt; better than software RAID.  A hardware RAID card has a PCI interface
&gt;&gt; on one "side", one or more SCSI busses on the other "side", and an
&gt;&gt; embedded processor running real-live *software* (yes, it's usually called
&gt;&gt; "firmware", but "firmware" is just software with delusions of grandeur).
&gt;&gt; 
&gt;&gt; The SCSI busses coming out the back of the RAID card are the same as the
&gt;&gt; SCSI busses you get from a non-RAID SCSI controller;  The PCI interface
&gt;&gt; on the RAID card is the same as a non-RAID PCI interface.  And the CPU 
&gt;&gt; on the RAID card is almost always slower than the CPU on your motherboard
&gt;&gt; (at least, it is these days).
&gt;&gt; 
&gt;&gt; Unless you get into a state where the bottleneck is PCI bus bandwidth,
&gt;&gt; it's simply not true to assume that hardware RAID will perform any better
&gt;&gt; than a good software RAID implementation.
&gt;&gt; 
&gt;&gt;  &gt; The MSCE guide must be talking about software raid?
&gt;&gt; 
&gt;&gt; Or something else totally different :-)
&gt;&gt; 
&gt;&gt;    - mark
&gt;&gt; 
&gt;&gt; --------------------------------------------------------------------
&gt;&gt; I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
&gt;&gt;      but it hurt when I walked.                          Mark Newton
&gt;&gt; ----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----
&gt;&gt; 
&gt;
&gt;-- 
&gt;LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt;To unsubscribe from the LinuxSA list:
&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.ethereal.com)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
