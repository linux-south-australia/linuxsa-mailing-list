<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="routing problem  + ssh" -->
<!-- FromName="'Michael Kratz'" -->
<!-- FromEmail="michael_kratz@hotmail.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Sat, 14 Apr 2001 14:54:26 +0930" -->
<!-- Id="F123GryWtIIZS2TRqf60000602c@hotmail.com" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: routing problem  + ssh</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Kratz &lt;<I><A HREF="mailto:michael_kratz@hotmail.com">michael_kratz@hotmail.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Sat, 14 Apr 2001 14:54:26 +0930
</PRE>
<H1>routing problem  + ssh</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
hi, I am trying to configure a system that does the following

LAN - &gt; machine1 - &gt; machine2 - &gt; INTERNET
hub----eth0----eth1-&gt;eth0----ppp0

now all of these are running on the same ip subnet, lets say for example
203.4.5.0/26 (255.255.255.192)

now machine1 is to run www,ns,mail, etc... machine2 is to act as a firewall 
and is to dial the isp.

what I have working so far is that a machine in the LAN is 203.4.5.5,
eth0 on machine1 is 203.4.5.1, eth1 on machine1 is 203.4.5.2, eth0 on 
machine2 is 203.4.5.3 and ppp0 is a totally different subnet from the 
service provider. now the problem that I am having seems to be with the 
routing, after fiddling around the only way that I could work out to make 
machine1 route properly was to do this

/sbin/route add -host 203.4.5.1 eth0
/sbin/route add -host 203.4.5.2 eth1
/sbin/route add -host 203.4.5.3 eth1
/sbin/route add -host 203.4.5.4 eth0
/sbin/route add -host 203.4.5.5 eth0
/sbin/route add -host 203.4.5.6 eth0
and so on because the rest of the machines on the lan are using the rest of 
this subnet, ie. the only two addresses which are associated with eth1 are 
203.4.5.2 and .3 because .3 is machine2. Now is there an easier way to do 
this with route???


the other problem that I am having is that in this present configuration I 
can get all machines to see each other properly however machine1 and the lan 
cannot get through to the internet, they know that the GW is 203.4.5.3 but 
they can only get that far, it is as if 203.4.5.3 does not have a route back 
to 203.4.5.2 so how do I do this???? machine2(203.4.5.3) can see the net and 
works fine.
------
on a separate note I am having trouble with ssh connecting from server to 
server across the net. When I try to connect I get a message like 'bad 
packet length 795178083' and on the server that I am trying to connect to I 
get /etc/ssh/primes does not exist. This only happens when I try to connect 
from linux to linux if I use putty and connect from windows-linux the 
connection works fine.


sorry if this is a bit confusing and long..... but I have been trying to 
work all of this out for 2 days now and I am stumped...

Thanks to anyone who can offer me some assistance...

regards,

michael

_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at <A HREF="http://www.hotmail.com.">http://www.hotmail.com.</A>

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
