<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: LVM and Software RAID (was: Re: New hdd installation)" -->
<!-- FromName="'Greg Lehey'" -->
<!-- FromEmail="grog@lemis.com" -->
<!-- ToName="'Richard Sharpe'" -->
<!-- ToEmail="sharpe@ns.aus.com" -->
<!-- Date="Tue, 17 Apr 2001 13:35:36 +0930" -->
<!-- Id="20010417133536.Q66943@wantadilla.lemis.com" -->
<!-- Reference="3.0.6.32.20010417103041.00f4bcd0@10.0.2.1" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: LVM and Software RAID (was: Re: New hdd installation)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Greg Lehey &lt;<I><A HREF="mailto:grog@lemis.com">grog@lemis.com</A></I>&gt;
  To  : Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  Date: Tue, 17 Apr 2001 13:35:36 +0930
</PRE>
<H1>Re: LVM and Software RAID (was: Re: New hdd installation)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Tuesday, 17 April 2001 at 10:30:41 +0900, Richard Sharpe wrote:
&gt; At 01:07 PM 4/17/01 +0930, Richard Watkins wrote:
&gt;&gt; I can check other references if you think this is an error made by M$.
&gt;
&gt; The key is in what Greg actually said: "RAID-1 is usually faster than
&gt; RAID-5, and never slower."
&gt;
&gt; You see, when you write a block to a RAID-5 setup, you have to read
&gt; the whole stripe in, insert the block, and recompute the
&gt; parity.

In fact, you only need to read in the parity block and the data block
you're replacing.  You can then "subtract" the old data from the
parity block and "add" the new data.  Total of 2 reads, 2 writes,
independent of the number of disks--*if* you don't go over a stripe
boundary.  The approach in the Sybex book would tend to go over stripe
boundaries, of course, making it even less efficient.  See
<A HREF="http://www.vinumvm.org/vinum/implementation.html">http://www.vinumvm.org/vinum/implementation.html</A> for more details.

&gt; This can be a whole lot slower than RAID-1 and RAID-1 can initiate
&gt; reads on all drives and take the closest block. It can also initiate
&gt; independent reads on each drive as well. And since writes do not
&gt; need to re-compute the parity, they will be at least as fast as
&gt; RAID-5 writes, if not faster in most cases.

RAID-1 writes are approximately 4 times as fast as RAID-5 when you're
approaching disk saturation.

Greg
--
Finger <A HREF="mailto:grog@lemis.com">grog@lemis.com</A> for PGP public key
See complete headers for address and phone numbers

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
