<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Strange tcp behaviour" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 19 Apr 2001 17:29:26 +0930" -->
<!-- Id="3ADE9ADE.CD26E277@sa.pracom.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Strange tcp behaviour</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 19 Apr 2001 17:29:26 +0930
</PRE>
<H1>Re: Strange tcp behaviour</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
[<A HREF="mailto:root@adsl">root@adsl</A> /root]# iptables -L -n
Chain INPUT (policy ACCEPT)
target     prot opt source               destination         

Chain FORWARD (policy DROP)
target     prot opt source               destination         
ACCEPT     all  --  10.0.0.0/16          0.0.0.0/0          
ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0          
DROP       all  --  10.0.0.0/16          0.0.0.0/0          
ACCEPT     all  -f  0.0.0.0/0            0.0.0.0/0          

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination    

Note here that the top rule is eth0 which is the internal net, and the
3rd drop rule is on ppp0 as anti-spoof protection. 

So I think its ok..

Ant

Andrew Reid wrote:
&gt; 
&gt; On 19 Apr 2001 16:52:00 +0930, Anthony Symons wrote:
&gt; 
&gt; &gt; I have a redhat 6.2 box running kernel 2.4.3 and iptables which is doing
&gt; &gt; some strange tcp stuff.  It is connected to the net via ADSL, using
&gt; &gt; roaring penguin pppoe 3.0.  I cant ping or connect to anyone on the
&gt; &gt; local network, or via the local loopback but I can ping outside sites on
&gt; &gt; the net. See below. The box is fully patched and secure so it hasn't
&gt; &gt; been tampered with by people unknown from the net like many RH62 boxes
&gt; &gt; :)
&gt; 
&gt; Famous last words :-)
&gt; 
&gt; &gt; Any ideas?
&gt; 
&gt; Yes, just a few.
&gt; 
&gt; You mentioned the word "iptables" above. I think that says it all.
&gt; 
&gt; My guess is that by making your box "fully patched and secure" you've
&gt; inadvertantly made IPTables block input to 127.0.0.1 or the eth(0-9)
&gt; device.
&gt; 
&gt; I've not used iptables much, but try iptables -L (or whatever the
&gt; command for list rules is) to see what's going on.
&gt; 
&gt; It could just be a simple matter of the system being too secure.
&gt; 
&gt; I think that this says it all...
&gt; 
&gt; &gt; [<A HREF="mailto:root@adsl">root@adsl</A> /root]# ping 127.0.0.1
&gt; &gt; PING 127.0.0.1 (127.0.0.1) from 127.0.0.1 : 56(84) bytes of data.
&gt; &gt; ping: sendto: Operation not permitted
&gt; &gt; ping: sendto: Operation not permitted
&gt; 
&gt; And this...
&gt; 
&gt; &gt; [<A HREF="mailto:root@adsl">root@adsl</A> /root]# ping 10.0.0.53
&gt; &gt; PING 10.0.0.53 (10.0.0.53) from 10.0.0.3 : 56(84) bytes of data.
&gt; &gt; ping: sendto: Operation not permitted
&gt; &gt; ping: sendto: Operation not permitted
&gt; 
&gt;    - Andrew
&gt; 
&gt; --
&gt; Andrew Reid                   email: <A HREF="mailto:andrew.reid@plug.cx">andrew.reid@plug.cx</A>
&gt;                               www:   <A HREF="http://www.plug.cx">http://www.plug.cx</A>
&gt; "If ignorance is bliss        phone: +61 401 946 813
&gt;  why aren't there more
&gt;  happy people?"

-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
