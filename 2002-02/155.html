<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: forwarding ports to another machine" -->
<!-- FromName="'Michael Kratz'" -->
<!-- FromEmail="mkratz@internode.on.net" -->
<!-- ToName="'Toby Corkindale'" -->
<!-- ToEmail="tjcorkin@sa.pracom.com.au" -->
<!-- Date="Tue, 5 Feb 2002 17:07:41 +1030" -->
<!-- Id="004b01c1ae0f$9cf5a010$a60f5c8f@michael" -->
<!-- Reference="Pine.LNX.4.33.0202050005200.3203-100000@localhost.localdomain" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: forwarding ports to another machine</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Michael Kratz &lt;<I><A HREF="mailto:mkratz@internode.on.net">mkratz@internode.on.net</A></I>&gt;
  To  : Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  Date: Tue, 5 Feb 2002 17:07:41 +1030
</PRE>
<H1>Re: forwarding ports to another machine</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; iptables is your friend here.
&gt;
&gt; Firstly, do you have real IPs for all the machines involved, or is there
&gt; some masquerading required?
&gt;
&gt; Either way, add a rule to the PREROUTING part of the nat stage like this:
&gt;
&gt; iptables -t nat -A PREROUTING -p tcp --destination-port 1234 -j DNAT
&gt; --to-destination mail.isp.com:110
&gt;
&gt; That's the complex bit, the rest is just modifying the forwarding ruleset
to
&gt; allow the packets thru.
&gt;

Thanks for replying Toby, one other thing is that it has to be on one single
ip address, the address is internet routable, ie. it uses another common
port, and thus i want it to only do this to a certain ip address. like this

if the machine receives a connection on 'this address' on 'this port' then
pass the connection on to 'this isp at this address' but only do it for the
above.

thanks

Regards,

Michael


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
