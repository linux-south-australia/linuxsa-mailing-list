<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="ipfstat" -->
<!-- FromName="'Adam Smith'" -->
<!-- FromEmail="adam.smith@sageautomation.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 19 Feb 2002 13:31:43 +1030" -->
<!-- Id="000001c1b8f1$c2cc69d0$fa00a8c0@bugman" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: ipfstat</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Adam Smith &lt;<I><A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 19 Feb 2002 13:31:43 +1030
</PRE>
<H1>ipfstat</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I'm attempting to use ipacct, <A HREF="http://www2.empnet.com/ipacct/,">http://www2.empnet.com/ipacct/,</A> to more
accurately log my NATted traffic, with medium success.

I've configured a rules file, which reads:

------/etc/ipf.rules-------------

	pass in from any to any
	pass out from any to any

	count in on eth0 from any to any
	count out on eth0 from any to any

----------

I presume that from that, ipf should be logging all packets on eth0, in
and out.  ipfstat tells me how many have come in and out, but zero are
"counted".

Are these the results I should be getting?

------ipfstat--------------------

	<A HREF="mailto:root@vanity">root@vanity</A> /root # ipfstat
	 IPv6 packets:          in 0 out 0
	 input packets:         blocked 340 passed 341670 nomatch 292
counted 0 short 0
	output packets:         blocked 206 passed 336267 nomatch 203
counted 0 short 0
	 input packets logged:  blocked 36 passed 0
	output packets logged:  blocked 0 passed 0
	 packets logged:        input 0 output 0
	 log failures:          input 0 output 0
	fragment state(in):     kept 0  lost 0
	fragment state(out):    kept 0  lost 0
	packet state(in):       kept 0  lost 0
	packet state(out):      kept 0  lost 0
	ICMP replies:   0       TCP RSTs sent:  0
	Invalid source(in):     0
	Result cache hits(in):  60891   (out):  58773
	IN Pullups succeeded:   0       failed: 0
	OUT Pullups succeeded:  0       failed: 0
	Fastroute successes:    0       failures:       0
	TCP cksum fails(in):    0       (out):  0
	Packet log flags set: (0)
	        none

----------

If not, what should my rules be to get the correct results?

When run with the above information, ipacct is creating its output html
file with no listed data.



Regards,


--
Adam Smith
IT Officer
SAGE Automation Pty Ltd.

Phone:  +61 8 82760703
Mobile: 0414 895 273

<A HREF="mailto:adam.smith@sageautomation.com">adam.smith@sageautomation.com</A>
<A HREF="http://www.sageautomation.com">http://www.sageautomation.com</A>
 


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
