<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="ipchains rules" -->
<!-- FromName="'Wayne Simes'" -->
<!-- FromEmail="wlsimes@tell.net.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Thu, 7 Feb 2002 16:51:38 +1030" -->
<!-- Id="004f01c1afa0$41671f70$6401a8c0@jock" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: ipchains rules</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Wayne Simes &lt;<I><A HREF="mailto:wlsimes@tell.net.au">wlsimes@tell.net.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Thu, 7 Feb 2002 16:51:38 +1030
</PRE>
<H1>ipchains rules</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
This is a multi-part message in MIME format.

------=_NextPart_000_004C_01C1AFF7.B5AE3380
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hi

I have tried to run lokkit on my Redhat 7.2 box which generates the =
syntax for ipchains-restore. I selected to only allow access through on =
about five ports. But after restarting ipchains and testing it, I can =
still access ports which I have not nominated to allow through. ie, I am =
running apache on port 80 and 81. I have selected port 80 to allow =
through and have not mention 81 at all, but I can get to 81 with my =
browser on my workstation.

I doesn't seem to be allowing access on only the selected ports, and =
denying the rest.

Please have a look at the script below and tell what looks wrong, or =
what I should be trying to fix the problem.

# Firewall configuration written by lokkit
# Manual customization of this file is not recommended.
:input ACCEPT
:forward ACCEPT
:output ACCEPT
-A input -s 0/0 -d 0/0 22 -p tcp -y -j ACCEPT
-A input -s 0/0 -d 0/0 25 -p tcp -y -j ACCEPT
-A input -s 0/0 -d 0/0 80 -p tcp -y -j ACCEPT
-A input -s 0/0 -d 0/0 21 -p tcp -y -j ACCEPT
-A input -s 0/0 -d 0/0 -i lo -j ACCEPT
-A input -s 0/0 -d 0/0 -i eth0 -j ACCEPT
-A input -s 192.168.1.10 53 -d 0/0 -p udp -j ACCEPT
-A input -s 192.168.1.5 53 -d 0/0 -p udp -j ACCEPT
-A input -s 0/0 -d 0/0 -p tcp -y -j REJECT
-A input -s 0/0 -d 0/0 -p udp -j REJECT


Thanks

Wayne

------=_NextPart_000_004C_01C1AFF7.B5AE3380
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1"&gt;
&lt;META content=3D"MSHTML 6.00.2712.300" name=3DGENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=3D#ffffff&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Hi&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;I have tried to run lokkit on my Redhat =
7.2 box=20
which generates the syntax for ipchains-restore. I selected to only =
allow access=20
through on about five ports. But after restarting ipchains and testing =
it, I can=20
still access ports which I have not nominated to allow through. ie, I am =
running=20
apache on port 80 and 81. I have selected port 80 to allow =
through&nbsp;and have=20
not mention 81 at all, but I can get to 81 with my browser on my=20
workstation.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;I doesn't seem to be allowing access =
on&nbsp;only=20
the selected ports, and denying the rest.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Please have a look at the script below =
and tell=20
what looks wrong, or what I should be trying to fix the =
problem.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;# Firewall configuration written by =
lokkit&lt;BR&gt;#=20
Manual customization of this file is not recommended.&lt;BR&gt;:input=20
ACCEPT&lt;BR&gt;:forward ACCEPT&lt;BR&gt;:output ACCEPT&lt;BR&gt;-A input -s 0/0 -d 0/0 22 =
-p tcp=20
-y -j ACCEPT&lt;BR&gt;-A input -s 0/0 -d 0/0 25 -p tcp -y -j ACCEPT&lt;BR&gt;-A =
input -s 0/0=20
-d 0/0 80 -p tcp -y -j ACCEPT&lt;BR&gt;-A input -s 0/0 -d 0/0 21 -p tcp -y -j=20
ACCEPT&lt;BR&gt;-A input -s 0/0 -d 0/0 -i lo -j ACCEPT&lt;BR&gt;-A input -s 0/0 -d =
0/0 -i=20
eth0 -j ACCEPT&lt;BR&gt;-A input -s 192.168.1.10 53 -d 0/0 -p udp -j =
ACCEPT&lt;BR&gt;-A=20
input -s 192.168.1.5 53 -d 0/0 -p udp -j ACCEPT&lt;BR&gt;-A input -s 0/0 -d =
0/0 -p tcp=20
-y -j REJECT&lt;BR&gt;-A input -s 0/0 -d 0/0 -p udp -j REJECT&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Thanks&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Wayne&lt;/DIV&gt;&lt;/FONT&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------=_NextPart_000_004C_01C1AFF7.B5AE3380--


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
