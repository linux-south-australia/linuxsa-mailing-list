<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: kernel/module build help" -->
<!-- FromName="'nik [tm]'" -->
<!-- FromEmail="tmcruisin@sond.com.au" -->
<!-- ToName="'Anthony Symons'" -->
<!-- ToEmail="ant@sa.pracom.com.au" -->
<!-- Date="Thu, 14 Feb 2002 14:19:20 +1030" -->
<!-- Id="007e01c1b50a$986ff8e0$0301a8c0@nick" -->
<!-- Reference="001001c1b4f2$54039210$0301a8c0@nick" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: kernel/module build help</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: nik [tm] &lt;<I><A HREF="mailto:tmcruisin@sond.com.au">tmcruisin@sond.com.au</A></I>&gt;
  To  : Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  Date: Thu, 14 Feb 2002 14:19:20 +1030
</PRE>
<H1>Re: kernel/module build help</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Nah I think this is a symptom of having 2 kernels sharing one set of
&gt; modules. And some are missing for one of the kernels or something like
&gt; that.

they are not sharing modules..
they are two seperate installs on different hard disks and I remove one to
boot into the other.
I just mount the LFS drive in redhat to put the kernel and modules in place
and run lilo (lilo -r /LFS_MOUNT)

in affect all I have done in the redhat machine (which is the one not
working) is used it kernel source to compile the kernel,

make mrproper
make menuconfig
make dep
then copied the /lib/modules/2.4.2-2/ folder tree to a backup folder
make modules
make modules_install
copied the new modules folder to the LFS mount (with the new kernel and
modules) and then copied the old modules folder back to where it was..

I havent touched redhats lilo config, or /boot folder or modules.conf or
modprobe or insmod'd anything etc..
I can boot into the new LFS kernel fine, its just the redhat which now
doesnt work.
what exactly does 'make modules_install' change? I guess it puts the newly
compiled modules into /lib/modules/VERSION/ folder but how does it affect
the map? files?


&gt; &gt; I'd have a look at modprobe and modules.conf.  I think you might need to
&gt; &gt; specify where it looks for the correct modules.

seems to be in place but when I now modprobe the module for the NIC
(8139too) it give unresolved symbol errors.
maybe I didnt copy the modules correctly and they did get overwritten..
I think I will have to build a new kernel for redhat.. Instead of trying to
fix up the one I had... I was trying to avoid this, not sure why!?! spent
more time trying to fix it than making another..

cheers for all the advice

nik [tm]

·´¯`·.¸¸..&gt;&lt;((((º&gt;.·´¯`·.¸¸.·´¯`·.¸
 &gt;&lt;((((º&gt;`·.¸¸.·´¯`·.¸&gt;&lt;((((º&gt;`·.¸


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
