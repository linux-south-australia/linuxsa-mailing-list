<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: forwarding ports to another machine" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="'Michael Kratz'" -->
<!-- ToEmail="mkratz@internode.on.net" -->
<!-- Date="Tue, 5 Feb 2002 17:15:59 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.33.0202051713520.3921-100000@localhost.localdomain" -->
<!-- Reference="004b01c1ae0f$9cf5a010$a60f5c8f@michael" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: forwarding ports to another machine</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : Michael Kratz &lt;<I><A HREF="mailto:mkratz@internode.on.net">mkratz@internode.on.net</A></I>&gt;
  Date: Tue, 5 Feb 2002 17:15:59 +1030 (CST)
</PRE>
<H1>Re: forwarding ports to another machine</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Yep, just add the required bits to the line, like you would in other rules.

On Tue, 5 Feb 2002, Michael Kratz wrote:

&gt; &gt; iptables is your friend here.
&gt; &gt;
&gt; &gt; Firstly, do you have real IPs for all the machines involved, or is there
&gt; &gt; some masquerading required?
&gt; &gt;
&gt; &gt; Either way, add a rule to the PREROUTING part of the nat stage like this:
&gt; &gt;
&gt; &gt; iptables -t nat -A PREROUTING -p tcp --destination-port 1234 -j DNAT
&gt; &gt; --to-destination mail.isp.com:110
&gt; &gt;
&gt; &gt; That's the complex bit, the rest is just modifying the forwarding ruleset
&gt; to
&gt; &gt; allow the packets thru.
&gt; &gt;
&gt;
&gt; Thanks for replying Toby, one other thing is that it has to be on one single
&gt; ip address, the address is internet routable, ie. it uses another common
&gt; port, and thus i want it to only do this to a certain ip address. like this
&gt;
&gt; if the machine receives a connection on 'this address' on 'this port' then
&gt; pass the connection on to 'this isp at this address' but only do it for the
&gt; above.
&gt;
&gt; thanks
&gt;
&gt; Regards,
&gt;
&gt; Michael
&gt;
&gt;

-- 
 Toby Corkindale
 UNIX Developer, Core Tech R&D
 Technology SA, Pracom Ltd
 288 Glen Osmond Road
 Fullarton,	5063
 South Australia
 Tel: +61 8 8202 9075
 Fax: +61 8 8202 9001
 mailto:<A HREF="mailto:Toby.Corkindale@sa.pracom.com.au">Toby.Corkindale@sa.pracom.com.au</A>
 <A HREF="http://www.sa.pracom.com.au/">http://www.sa.pracom.com.au/</A>

                  PRIVILEGED - PRIVATE AND CONFIDENTIAL

   Privileged/Confidential Information may be contained in this message.
   If you are not the addressee indicated in this message, you may not
   copy or deliver this message to anyone.  In such case, you should
   destroy this message and notify the sender by reply email. Opinions,
   conclusions and other information in this message that do not relate
   to the official business of this organisation shall be understood as
   neither given nor endorsed by it.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
