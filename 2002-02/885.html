<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="new perl module Proc::NiceSleep" -->
<!-- FromName="'Josh Rabinowitz'" -->
<!-- FromEmail="joshr-proc-nicesleep-discuss@joshr.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 26 Feb 2002 07:39:30 -0500" -->
<!-- Id="p05100300b8a1318d166e@[192.168.0.2]" -->
<!-- Reference="001301c1bead$05dd66a0$0c00a8c0@albert" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: new perl module Proc::NiceSleep</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Josh Rabinowitz &lt;<I><A HREF="mailto:joshr-proc-nicesleep-discuss@joshr.com">joshr-proc-nicesleep-discuss@joshr.com</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 26 Feb 2002 07:39:30 -0500
</PRE>
<H1>new perl module Proc::NiceSleep</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hey Everyone:

Just wanted to de-lurk and make you all aware of this new perl module 
I wrote called Proc::NiceSleep. Available at a cpan archive near use, 
anc can be installed (if you use CPAN) via

   perl -MCPAN -e 'install Proc::NiceSleep'

I'm interested to hear any feedback from people on this subject.

Full distribution can be found at <A HREF="http://joshr.com/src/">http://joshr.com/src/</A>

 From the Proc::NiceSleep man page:

NAME
     Proc::NiceSleep - yield system in a quasi-intelligent fashion

SYNOPSIS
       use Proc::NiceSleep qw( sleepfactor minruntime maybesleep nice );
       nice(5);                 # lower our priority, if our OS supports it
       maxload(1.1);            # max load we allow, if Sys::CpuLoad found
       sleepfactor(.5);         # sleep 50% as long as we run
       minruntime(2);           # run at least 2 seconds without sleep
       while($somecondition) {
         dosomething();
         $slept = maybesleep(); # sleep some amount of time if appropriate
       }
...

     maybesleep ()
         Checks to see if this process should yield use of the system by
         issuing some kind of sleep at this point, and if so, does so for an
         appropriate amount of time. Returns 0 if no sleep was performed,
         otherwise returns the amount of seconds we think maybesleep()
         actually slept for.

     maxload ()
         Set or gets the maximum 1-minute average load allowed to occur
         before a sleep call will be issued by maybesleep(). The default
         value of 0 disables this feature; setting the maximum load will only
         have an effect if Sys::CpuLoad is successfully loaded. This module
         will check the system load no more than about once per second. If
         both sleepfactor() and maxload() are used then maybesleep() will
         yield the system if either condition is met.

     sleepfactor ()
         Sets or gets the sleep factor depending on whether a number is
         passed or not. A sleep factor of 1 means to sleep an equal amount of
         time as we run, 2 means to sleep twice as long, and so on. The
         default value is 0.1. If the sleep factor is set to zero, then this
         feature is disabled. If both sleepfactor() and maxload() are used
         then maybesleep() will yield the system if either condition is met.

     nice ()
         Sets or gets the priority of the process, as understood by the
         operating system. If passed an integer, nice() attempts to set
         priority of the process to the value specified, and returns that
         value. If no parameter is passed, nice() attempts to query the
         operating system for the priority of the process and return it. If
         your OS doesn't support priorities then nice() will likely always
         return 0.

         The exact nice() values returned and recognized, and their meanings
         to the system, are system dependent but usually range from about -20
         (highest priority) to 20 (lowest priority, 'nicest').

     minruntime ()
         Sets or gets the minimum run time, in seconds, depending on whether
         a number is passed or not. The minumum run time is the least amount
         of time that Proc::NiceSleep will allow the process to run between
         sleeps. The default value is 1 second.

     minsleeptime ()
         Sets or gets the minimum amount time, in seconds, that maybesleep()
         will sleep for if it detects that a sleep is appropriate. Setting
         the minimum sleep time to zero (which is also the default value)
         will disable this feature.

Thanks again for any comments, concerns or questions!
Sincerely,
   Josh Rabinowitz

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
