<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: QT Free Edition and Static Compilation" -->
<!-- FromName="'*Malcolm McGrath - Ardec - MIS'" -->
<!-- FromEmail="mmcgrath@ardec.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="Alex.Wilkinson@dsto.defence.gov.au, David Lloyd <lloy0076@rebel.net.au>" -->
<!-- Date="Wed, 27 Feb 2002 11:15:02 +1030" -->
<!-- Id="3C7C2C0E.5040205@ardec.com.au" -->
<!-- Reference="20020227101947.G38457-100000@squirm.dsto.defence.gov.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: QT Free Edition and Static Compilation</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: *Malcolm McGrath - Ardec - MIS &lt;<I><A HREF="mailto:mmcgrath@ardec.com.au">mmcgrath@ardec.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:Alex.Wilkinson@dsto.defence.gov.au">Alex.Wilkinson@dsto.defence.gov.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto: David Lloyd <lloy0076@rebel.net.au>"> David Lloyd <lloy0076@rebel.net.au></A></I>&gt;
  Date: Wed, 27 Feb 2002 11:15:02 +1030
</PRE>
<H1>Re: QT Free Edition and Static Compilation</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Wilkinson,Alex wrote:

&gt;If you are compiling from source, you may be able to pass the configure script
&gt;something like this:
&gt;
&gt;shell&gt; ./configure  --enable-static[=PKGS]
&gt;
&gt;eg for MySQL you specfiy it like this:
&gt;
&gt; --with-mysqld-ldflags=-all-static
&gt;
David Lloyd wrote:

 &gt;If you're compiling from source you can also try:
 &gt;
 &gt;./configure --help | less
 &gt;
 &gt;And see whether the Qt developers are helpful enough to actually tell 
you the exact flag for what you want to do.
 &gt;
 &gt;DSL


Thanks for the response guys, but tried that one. Then proceded to hit 
the man pages for gcc and ld. :). [before mailing to list].

Already had successfully made the static version of qt3, but failed to 
realise that just because something compiles fine using dynamically 
loaded libs, does not mean that sufficent are included for Static, 
currently tracking down one last problem, perhaps a pointer in the right 
direction ;p~.

g++ --static  -o psi sslfilter.o jabstream.o jabcommon.o jabreq.o 
jabio.o jabtasks.o jabber.o jabcon.o userlist.o mainwin.o contactview.o 
msgmle.o eventdlg.o logindlg.o adduserdlg.o common.o anim.o historydlg.o 
message.o logwindow.o showtextdlg.o uniquewindow.o statusdlg.o 
optionsdlg.o chatdlg.o statuspresetlist.o servicesdlg.o browsedb.o 
busywidget.o infodlg.o info.o searchdlg.o idle.o filetrans.o 
offermaindlg.o trayicon.o trayicon_x11.o ui_options.o ui_services.o 
ui_info.o ui_search.o ui_login.o ui_offermain.o ui_adduser.o 
moc_sslfilter.o moc_jabstream.o moc_jabio.o moc_jabtasks.o moc_jabber.o 
moc_jabcon.o moc_mainwin.o moc_contactview.o moc_msgmle.o moc_eventdlg.o 
moc_logindlg.o moc_adduserdlg.o moc_historydlg.o moc_logwindow.o 
moc_statusdlg.o moc_optionsdlg.o moc_chatdlg.o moc_servicesdlg.o 
moc_busywidget.o moc_infodlg.o moc_searchdlg.o moc_idle.o 
moc_filetrans.o moc_offermaindlg.o moc_trayicon.o moc_ui_options.o 
moc_ui_services.o moc_ui_info.o moc_ui_search.o moc_ui_login.o 
moc_ui_offermain.o moc_ui_adduser.o  
-Wl,-rpath,/usr/qt-x11-free-3.0.1//lib -L/usr/qt-x11-free-3.0.1//lib 
-L/usr/X11R6/lib -lXss -lqt-mt -lpthread -lXext -lX11 -lm -lqt -lXrender 
-lXinerama -lICE -lSM -ldl
/usr/X11R6/lib/libSM.a(sm_client.o): In function `SmcOpenConnection':
sm_client.o(.text+0x73): undefined reference to 
`IceRegisterForProtocolSetup'
sm_client.o(.text+0x16c): undefined reference to `IceProtocolSetup'
collect2: ld returned 1 exit status
make: *** [psi] Error 1

The libs i am including from the Makefile
LIBS     = $(SUBLIBS) -Wl,-rpath,$(QTDIR)/lib -L$(QTDIR)/lib 
-L/usr/X11R6/lib -lXss -lqt-mt -lpthread -lXext -lX11 -lm -lqt -lXrender 
-lXinerama -lICE -lSM -ldl

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
