<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: forwarding ports to another machine" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="'Michael Kratz'" -->
<!-- ToEmail="mkratz@internode.on.net" -->
<!-- Date="Tue, 5 Feb 2002 00:10:21 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.33.0202050005200.3203-100000@localhost.localdomain" -->
<!-- Reference="000701c1ad72$e6b6c820$a60f5c8f@michael" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: forwarding ports to another machine</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : Michael Kratz &lt;<I><A HREF="mailto:mkratz@internode.on.net">mkratz@internode.on.net</A></I>&gt;
  Date: Tue, 5 Feb 2002 00:10:21 +1030 (CST)
</PRE>
<H1>Re: forwarding ports to another machine</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
iptables is your friend here.

Firstly, do you have real IPs for all the machines involved, or is there
some masquerading required?

Either way, add a rule to the PREROUTING part of the nat stage like this:

iptables -t nat -A PREROUTING -p tcp --destination-port 1234 -j DNAT
--to-destination mail.isp.com:110

That's the complex bit, the rest is just modifying the forwarding ruleset to
allow the packets thru.

TjC

On Mon, 4 Feb 2002, Michael Kratz wrote:

&gt; Hi all,
&gt;
&gt; I would like to know how to do the following, is there any simple way of
&gt; doing it..
&gt;
&gt; I have a machine that can only connect on a certian port to get email.. I
&gt; have a linux server which has pop3/smtp setup on that port... I have an ISP
&gt; whos mail server is not setup on that port. What I would like to know is how
&gt; I can use my linux server on that port to get mail from my isp via pop3.
&gt;
&gt; ie. i want to connect to a ip/port on my linux machine which passes the
&gt; connection on to my isps mail server on the correct normal pop3 port, and
&gt; thus the mail comes back to me through my server. The server does not need
&gt; to store the mail, I just want it to pass the connection on, but on the
&gt; correct ports... is this possible??
&gt;
&gt; Thanks, regards,
&gt;
&gt; Michael
&gt;
&gt;

-- 
 Toby Corkindale
 UNIX Developer, Core Tech R&D
 Technology SA, Pracom Ltd
 288 Glen Osmond Road
 Fullarton,	5063
 South Australia
 Tel: +61 8 8202 9075
 Fax: +61 8 8202 9001
 mailto:<A HREF="mailto:Toby.Corkindale@sa.pracom.com.au">Toby.Corkindale@sa.pracom.com.au</A>
 <A HREF="http://www.sa.pracom.com.au/">http://www.sa.pracom.com.au/</A>

                  PRIVILEGED - PRIVATE AND CONFIDENTIAL

   Privileged/Confidential Information may be contained in this message.
   If you are not the addressee indicated in this message, you may not
   copy or deliver this message to anyone.  In such case, you should
   destroy this message and notify the sender by reply email. Opinions,
   conclusions and other information in this message that do not relate
   to the official business of this organisation shall be understood as
   neither given nor endorsed by it.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
