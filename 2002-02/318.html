<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: terminals losing keyboard signals under rh 7.2" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 11 Feb 2002 15:14:11 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.33.0202111513280.20149-100000@localhost.localdomain" -->
<!-- Reference="Pine.LNX.4.33.0202111502320.20149-100000@localhost.localdomain" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: terminals losing keyboard signals under rh 7.2</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Mon, 11 Feb 2002 15:14:11 +1030 (CST)
</PRE>
<H1>Re: terminals losing keyboard signals under rh 7.2</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Ah-ha.. Found this:
<A HREF="http://www.redhat.com/support/errata/RHBA-2001-153.html">http://www.redhat.com/support/errata/RHBA-2001-153.html</A>

"Login fails to set controlling terminal"

Thanks,

Toby

On Mon, 11 Feb 2002, Toby Corkindale wrote:

&gt; On Mon, 11 Feb 2002, Mark Newton wrote:
&gt;
&gt; &gt; On Mon, Feb 11, 2002 at 02:50:32PM +1030, Toby Corkindale wrote:
&gt; &gt;
&gt; &gt;  &gt; we've noticed an odd apparent bug on some redhat 7.2 machines.
&gt; &gt;  &gt; Sometimes the terminals just don't seem to get signals from pressing Ctrl-C,
&gt; &gt;  &gt; Ctrl-Z, Ctrl-\, etc.
&gt; &gt;  &gt; You can send a signal from another terminal by using kill and the signal
&gt; &gt;  &gt; number. (eg. kill -1 to simulate hitting Ctrl-C)
&gt; &gt;
&gt; &gt; kill -1 simulates hanging up the modem.  kill -3 (or kill -INT) simulates
&gt; &gt; ^C.
&gt;
&gt; Ah, yes. My mistake.
&gt;
&gt; &gt;
&gt; &gt;  &gt; Also, when you're in a terminal like this, if you run su, the new shell will
&gt; &gt;  &gt; warn you that there is "No job control in this shell".
&gt; &gt;
&gt; &gt; Ok - it sounds like the terminal isn't being placed into the process group
&gt; &gt; of the login shell.
&gt; &gt;
&gt; &gt; You're not actually using /bin/login to start a shell on this terminal,
&gt; &gt; are you?  Have you perhaps used some kind of custom software which
&gt; &gt; exec()'s a shell?
&gt;
&gt; I'm logging in with rlogin, and i think some others are using either that or
&gt; telnet. So, there shouldn't be any funny business here.
&gt; I can run a gnome-terminal on my desktop, and login, get a bad login, then
&gt; logout and login straight away from the same gnome-terminal, and it can be
&gt; OK again. Seems fairly random as to whether theres a problem or not.
&gt;
&gt; I *hate* intermittent problems!
&gt;
&gt; &gt;
&gt; &gt; If so, you need to look at the TIOCSPGRP tty ioctl(), and the setpgrp()
&gt; &gt; system call.
&gt;
&gt; Hmm. Curiously, if i try to run something under gdb, when i'm already in one
&gt; of these "bad logins", i was getting some errors coming up about tiocspgrp
&gt; doing something with an invalid ioctl.. I can't get the error to pop up
&gt; again right now though.. (typical)
&gt;
&gt; Sounds like its related.
&gt;
&gt; I see there are some PAM updates for rh7.2 - might they be at all related?
&gt;
&gt; Toby
&gt;
&gt;

-- 
 Toby Corkindale
 UNIX Developer, Core Tech R&D
 Technology SA, Pracom Ltd
 288 Glen Osmond Road
 Fullarton,	5063
 South Australia
 Tel: +61 8 8202 9075
 Fax: +61 8 8202 9001
 mailto:<A HREF="mailto:Toby.Corkindale@sa.pracom.com.au">Toby.Corkindale@sa.pracom.com.au</A>
 <A HREF="http://www.sa.pracom.com.au/">http://www.sa.pracom.com.au/</A>

                  PRIVILEGED - PRIVATE AND CONFIDENTIAL

   Privileged/Confidential Information may be contained in this message.
   If you are not the addressee indicated in this message, you may not
   copy or deliver this message to anyone.  In such case, you should
   destroy this message and notify the sender by reply email. Opinions,
   conclusions and other information in this message that do not relate
   to the official business of this organisation shall be understood as
   neither given nor endorsed by it.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
