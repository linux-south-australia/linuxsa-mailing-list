<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: kernel/module build help" -->
<!-- FromName="'Anthony Symons'" -->
<!-- FromEmail="ant@sa.pracom.com.au" -->
<!-- ToName="'nik [tm]'" -->
<!-- ToEmail="tmcruisin@sond.com.au" -->
<!-- Date="14 Feb 2002 11:31:03 +1030" -->
<!-- Id="1013648463.14487.382.camel@ant.internal" -->
<!-- Reference="001001c1b4f2$54039210$0301a8c0@nick" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: kernel/module build help</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Anthony Symons &lt;<I><A HREF="mailto:ant@sa.pracom.com.au">ant@sa.pracom.com.au</A></I>&gt;
  To  : nik [tm] &lt;<I><A HREF="mailto:tmcruisin@sond.com.au">tmcruisin@sond.com.au</A></I>&gt;
  Date: 14 Feb 2002 11:31:03 +1030
</PRE>
<H1>Re: kernel/module build help</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Sounds like your getting your versions mixed up. Try grabbing a current
kernel source from kernel.org - or a mirror like:

&lt;<A HREF="http://mirror.aarnet.edu.au/pub/linux/kernel/v2.4/linux-2.4.17.tar.bz2&gt">http://mirror.aarnet.edu.au/pub/linux/kernel/v2.4/linux-2.4.17.tar.bz2&gt</A>;

Then use that and all your new libs will go in /lib/modules/2.4.17 and
wont conflict with your 2.4.2 stuff. I dont completely understand what
youve done with your versions, but I'd just forget 2.4.2 and get 2.4.17
going.

Ant

On Thu, 2002-02-14 at 11:25, nik [tm] wrote:
&gt; Hi all,
&gt; 
&gt; I am a bit of a newbie with kernels, but have successfully build a couple
&gt; before.
&gt; 
&gt; I got a bit of a problem with a redhat 7.1 system I am working on after
&gt; re-compiling a new kernel.
&gt; 
&gt; I am making a sort of linux from scratch system which is working, so used
&gt; the 2.4.2-2 source to build it a new kernel.
&gt; I do all the building in a standard redhat 7.1 install, with downloaded
&gt; source.
&gt; the LFS is in a drive (hdc) mounted at /shore/
&gt; 
&gt; I did the usual stuff
&gt; cd /usr/src/linux-2.4.2-2/
&gt; make mrproper
&gt; make menuconfig (built a kernel that uses mainly modules to load as was
&gt; having some issues gettong eth0 to work)
&gt; make dep
&gt; make bzImage
&gt; make modules
&gt; make modules_install
&gt; 
&gt; I made a backup copy /lib/modules/2.4.2-2/ so it would change any of the
&gt; modules from the redhat install (as the kernel is for the LFS system)
&gt; 
&gt; then copied the kernel to /shore/boot/
&gt; I then copied (cp -rdva) the modules from /lib/modules/2.4.2-2/ into
&gt; /shore/lib/modules/2.4.2-2/
&gt; and copied the backup copy of the redhat modules back into
&gt; /lib/modules/2.4.2-2 (so the directory tree is identical)
&gt; all seemed ok
&gt; 
&gt; then run /sbin/lilo -r /shore to install the boot loader to the LFS drive.
&gt; 
&gt; when I then booted into the LFS it booted ok but maybe the kernel was too
&gt; thin for my needs
&gt; this isnt the problem as I can rebuild that kernel,
&gt; when I then booted back into redhat it says it cant load various modules
&gt; (USB-hci,eth0,auto-fs,char-major-6) with the error cannot locate module or
&gt; cannot load module: failed)
&gt; what I dont understand is how the stock redhat kernel has changed as I have
&gt; done nothing in /boot
&gt; and I thouhgt the stock redhat kernel had the drivers compiled in as there
&gt; was very few modules before I started.
&gt; I cant get an output of dmesg or messages or lilo.conf as networking isnt
&gt; going.
&gt; but if you wish to see any critical parts I can type them up..
&gt; 
&gt; can anyone help!!
&gt; 
&gt; cheers
&gt; nik [tm]
&gt; 
&gt; ·´¯`·.¸¸..&gt;&lt;((((º&gt;.·´¯`·.¸¸.·´¯`·.¸
&gt;  &gt;&lt;((((º&gt;`·.¸¸.·´¯`·.¸&gt;&lt;((((º&gt;`·.¸
&gt; 
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 
-- 
Systems Administrator       
Pracom Ltd.             
+61 8 82029074 -=- +61 402 100 671 
<A HREF="mailto:anthony.symons@sa.pracom.com.au">anthony.symons@sa.pracom.com.au</A>

PRIVILEGED - PRIVATE AND CONFIDENTIAL
This electronic mail is solely for the use of the addressee and may
contain information which is confidential or privileged.
If you receive this electronic mail in error, please delete it from
your system immediately and notify the sender by electronic mail or
using any of the above contact details.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
