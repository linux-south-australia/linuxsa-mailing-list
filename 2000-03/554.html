<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Login time restriction" -->
<!-- FromName="Glen Turner" -->
<!-- FromEmail="glen.turner@aarnet.edu.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 22 Mar 2000 23:40:34 +1030" -->
<!-- Id="38D8C64A.ED632718@aarnet.edu.au" -->
<!-- Reference="Pine.BSF.3.96.1000322175824.12108H-100000@augustus.tellurian.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Login time restriction</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Glen Turner &lt;<I><A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Wed, 22 Mar 2000 23:40:34 +1030
</PRE>
<H1>Re: Login time restriction</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
David Newall wrote:
&gt; 
&gt; On Wed, 22 Mar 2000, Jose N. de Vera Jr. wrote:
&gt; &gt; I would like User A to login only for about 30 Hrs. and User B is
&gt; &gt; restricted to log only for 9 Hrs.
&gt; 
&gt; Write a program which reads the output of who to see who is logged on
&gt; and how long they have been on.  If they are overtime read the output
&gt; of ps looking for processes on their login terminal and kill them.  Run
&gt; the program from cron every hour, or however long makes sense for you.

Alternatively, write a login program that reads a config file and spawns
the user's shell with the login option.  Set an alarm().  Now select()
on nothing.

Check to see why you've been select()ed.  If your bash child exited,
then you exit.  If the alarm() has rung, then you send a HUP signal
to your child, reap their return code and exit.  Otherwise loop around
and re-select().

A quick search on www.freshmeat.net for "login time" shows a few programs
that look as though they do this.

-- 
 Glen Turner                                 Network Engineer
 (08) 8303 3936      Australian Academic and Research Network
 <A HREF="mailto:glen.turner@aarnet.edu.au">glen.turner@aarnet.edu.au</A>          <A HREF="http://www.aarnet.edu.au/">http://www.aarnet.edu.au/</A>
--
 Earth is a single point of failure

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
