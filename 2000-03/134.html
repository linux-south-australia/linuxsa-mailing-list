<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Getting the process ID of a specific ppp device" -->
<!-- FromName="Darryl Ross" -->
<!-- FromEmail="darryl@bachblue.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 7 Mar 2000 23:47:18 +1030" -->
<!-- Id="004901bf8837$8692a700$0f64a8c0@office.bachblue.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Getting the process ID of a specific ppp device</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Darryl Ross &lt;<I><A HREF="mailto:darryl@bachblue.com.au">darryl@bachblue.com.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Tue, 7 Mar 2000 23:47:18 +1030
</PRE>
<H1>Getting the process ID of a specific ppp device</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hey All,

I think that I'm in a position that I need to be able to either tell pppd
what PID file to use for a specific connection, or which ppp device number
to give a specific connection.

For work, we have 3 linux gateway machines at our branch offices, each with
a connection back to our central server room and also a connection to a
government system. Both of these connections are using analog modems and are
ppp connections. The link back to the central server room needs to be open
24 hours a day, the link to the government system is only open during
business hours.

I have written a script to bring the links up, and then back down again,
which work fine, and I have crontab entrys for the government link, so it is
opened in the morning, and closed in the afternoon.

pppd stores the pid file for each connection (at least on my RH6 systems) in
/var/run/pppX.pid, where X is the link number, ppp0 or ppp1. Now, if I bring
up the link back to our server room first, then it is given ppp0. Then when
I bring up the government link, it is given ppp1. That's fine.

If the server room link drops out (for whatever reason) just before the
government link is meant to come up, and the government link does actually
come up before the server room link comes back up, will the device numbers
change position, ie, the government connection become ppp0 and the server
room link become ppp1? If I use the persist option, if the connection drops
out, does it continue to use the same device number, and just redial? If
this is not the case, how can I tell pppd where to save the pid file for a
specific connection, so that when it comes time to kill the government link
for the day, I can send a SIGTERM signal to that specific pppd process?

Hope this makes sense!

Darryl Ross
System Administrator
Service to Youth Council, Inc

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
