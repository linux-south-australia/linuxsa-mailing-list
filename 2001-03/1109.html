<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: adding line breaks" -->
<!-- FromName="'Richard Sharpe'" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="'Daryl Tester','linuxsa'" -->
<!-- ToEmail="Daryl.Tester@iocane.com.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 28 Mar 2001 08:59:15 +0900" -->
<!-- Id="3.0.6.32.20010328085915.00ef15d0@10.0.2.1" -->
<!-- Reference="HKEMJGGDNENEDGGDCJBBCEOKCEAA.richard.russell@bigpond.com" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: adding line breaks</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : Daryl Tester &lt;<I><A HREF="mailto:Daryl.Tester@iocane.com.au">Daryl.Tester@iocane.com.au</A></I>&gt;<BR>        linuxsa &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 28 Mar 2001 08:59:15 +0900
</PRE>
<H1>Re: adding line breaks</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 08:35 AM 3/28/01 +0930, Daryl Tester wrote:
&gt;"Richard Russell" &lt;<A HREF="mailto:richard.russell@bigpond.com">richard.russell@bigpond.com</A>&gt; wrote:
&gt;
&gt;&gt; well thanks, david, but what I asked was why isn't the "more * &gt; file" also
&gt;&gt; a "basic recipe"?
&gt;
&gt;Because it's not guaranteed to work consistently across multiple
&gt;platforms (I've struck "more"s that don't do this), whereas David's
&gt;"one-liner" is.  And at the risk of going new-age paradigm on you,
&gt;it is a pattern that occurs frequently under Unix.

It is worth explaining what is going on in David's example. From memory, it
was something like:

&gt;for f in * do; echo "$f:"; cat "$f"; echo -e "--- end of $f ---\n"; done

When you are putting lots of commands together on one line, the shell
insists that you insert a little, ummm, syntactic sugar, so it (the shell)
can figure out what you mean. The semi-colons (;) tell the shell that we
have multiple commands.

The for command ends with do, so you need a semicolon at the end.

Each of the commands 'echo "$f:"', 'cat "$f"', and 'echo "--- end of $f
---\n" write their output to standad out, so the output all ends up on
standard out, one after the other, and you can redirect the whole lot,
rather than redirecting each individual bit.

Now, at the risk of flattering David, and I know how he dislikes flattery,
the really cool bit is the seeminly redundent double-quotes around the
variable, $f, in each command. This distinguishes the real shell hacker
from the dilletante (and I had to look that word up in the big dictionary I
keep on the shelf for cases like this).

They ensure that file names with spaces in them (actually, with the IFS
characters in them) are handled correctly in the output. To see the
difference, create a file with two characters in its name, one after
another, and try the above and see the result. Eg:

   touch A\ file\ \ with\ spaces # I used backslash to make it explicit
   for f in * do; echo $f; done

&gt;Regards,
&gt;  Daryl Tester
&gt;
&gt;-- 
&gt;LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt;To unsubscribe from the LinuxSA list:
&gt;  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt;

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.ethereal.com)
Contributing author, SAMS Teach Yourself Samba in 24 Hours
Author, Special Edition, Using Samba


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
