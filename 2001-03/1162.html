<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Files and redirection" -->
<!-- FromName="'Richard Russell'" -->
<!-- FromEmail="richard.russell@bigpond.com" -->
<!-- ToName="'Nicholas Morrison'" -->
<!-- ToEmail="NMorrison@adelaidecasino.com.au,linuxsa@linuxsa.org.au" -->
<!-- Date="Wed, 28 Mar 2001 20:12:43 +0930" -->
<!-- Id="HKEMJGGDNENEDGGDCJBBOEPHCEAA.richard.russell@bigpond.com" -->
<!-- Reference="01Mar28.141841cst.119044@gateway.adelaidecasino.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Files and redirection</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Russell &lt;<I><A HREF="mailto:richard.russell@bigpond.com">richard.russell@bigpond.com</A></I>&gt;
  To  : Nicholas Morrison &lt;<I><A HREF="mailto:NMorrison@adelaidecasino.com.au">NMorrison@adelaidecasino.com.au</A></I>&gt;<BR>        &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Wed, 28 Mar 2001 20:12:43 +0930
</PRE>
<H1>RE: Files and redirection</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; Is there anything wrong with the following command?

well, it's commented out, but ;)

&gt; # cat /etc/shells | grep -v csh &gt; /etc/shells
&gt;
&gt;  or, for that matter:
&gt;
&gt; # grep -v csh /etc/shells &gt; /etc/shells

In my messing about just now, they seem to work fine. However, I wouldn't be
surprised if they don't always do so...

here's a test:

------------
<A HREF="mailto:sysrar@mullet">sysrar@mullet</A>:~$ cat testfile
a line
another line
csh
and another line
<A HREF="mailto:sysrar@mullet">sysrar@mullet</A>:~$ ( sleep 1; cat ./testfile )|grep -v csh &gt; ./testfile
<A HREF="mailto:sysrar@mullet">sysrar@mullet</A>:~$ cat testfile
<A HREF="mailto:sysrar@mullet">sysrar@mullet</A>:~$
------------

As you can see, the shell opens the output redirect before cat does...
without the sleep command (and subshell), my experience is that cat opens it
first. Grep will be the same. If it opens the file fast enough, it will get
it before the shell clobbers it. If not, you end up with an empty input
file. Just trying the grep version indicates that grep is slower than the
shell...

Intriguing, no? :)

rr


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
