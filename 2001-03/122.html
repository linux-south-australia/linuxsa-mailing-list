<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: CVS is fine (modulo 4 days of struggle)" -->
<!-- FromName="'Mark Newton'" -->
<!-- FromEmail="newton@atdot.dotat.org" -->
<!-- ToName="'Alan Kennington'" -->
<!-- ToEmail="akenning@dog.topology.org" -->
<!-- Date="Sun, 4 Mar 2001 19:51:44 +1030" -->
<!-- Id="20010304195144.A13420@atdot.dotat.org" -->
<!-- Reference="20010304132441.A11727@dog.topology.org" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: CVS is fine (modulo 4 days of struggle)</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Newton &lt;<I><A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A></I>&gt;
  To  : Alan Kennington &lt;<I><A HREF="mailto:akenning@dog.topology.org">akenning@dog.topology.org</A></I>&gt;
  Date: Sun, 4 Mar 2001 19:51:44 +1030
</PRE>
<H1>Re: CVS is fine (modulo 4 days of struggle)</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Sun, Mar 04, 2001 at 01:24:41PM +1030, Alan Kennington wrote:

 &gt; The CVS software turns out to do most of what I wanted.
 &gt; It does have a single point of failure though - the repository.

Well duh.

 &gt; The real struggle, though, comes in managing revision numbers.
 &gt; I still have found no documentation of how to do this.

You don't "manage" revision numbers - Revision numbers manage themselves,
and developers don't usually care about them.

 &gt; A. To start work on revision 0.1.0:
 
Here's a good question:  Why is it important to start with 0.1.0 as your
initial revision?

CVS revision Id's aren't the same as release versions;  they're just
arbitrary numbers you use to distinguish between two versions of the same
file.

To start a new repository, I usually just create a directory for it, 
copy the files into it, and cvs add them.  If I care about a fixed version
identifier, I'll use cvs tag to label them;  Other than that, I don't 
care whether something is version 0.1.0, 1.5 or whatever.  

If you do care about those numbers, perhaps you're trying to use them
for something which they're not intended to be used for.  A good hint to
confirm this suspicion is that there doesn't appear to be any easy way
to do what you're trying to do (which is usually a bit of a give-away 
that what you're trying to do isn't supported or intended).

 &gt; B. To create revisions 0.2.0, 0.3.0 etc.
 &gt; 
 &gt; cd ~/src
 &gt; cvs checkout -d xyz-0.2.0 -r0.1 src/xyz
 &gt; cd xyz-0.2.0
 &gt; cvs commit -m "blah" -r0.2
 &gt; cvs commit -m "blah" -r0.2.0
 &gt; 
 &gt; I.e. first you checkout revision 0.1, and then you
 &gt; upgrade it to 0.2, and _then_ you create branch 0.2.0.
 &gt; The only documented method for creating new branches
 &gt; that I found was to use "cvs tag" and "cvs rtag",
 &gt; which automatically allocate the revision numbers for
 &gt; you, not necessarily anything like what you wanted.
 
To change files in your repository:

     cvs checkout .      # checks-out the HEAD revision of the whole
			 # repository recursively, starting at your current
			 # directory;  Use things other than "." for repository
			 # sub-trees.

... then edit your files, then:

      cvs commit

That's all.  Nothing else.  Let CVS look after revision numbers;  It'll
automatically bump them to *new* arbitrary numeric tags.  Again, if you're
interested in having a non-opaque tag on the files, you can run:

      cvs tag RELEASE_ID

where "RELEASE_ID" is the name of the tag you want to lay-down.  Again,
it's that simple;  No rocket science, very basic.

 &gt; --------------------------------------------------
 &gt; C. When working on version 1.1.1 in ~/src/xyz-1.1.1,
 &gt;    add new file "file1".
 &gt; 
 &gt; cd ~/src/xyz-1.1.1
 &gt; cvs add -m "blah" file1
 &gt; cvs commit -m "blah" -r1.1 file1
 &gt; cvs commit -m "blah" -r1.1.1 file
 &gt; 
 &gt; The CVS will not let you just add file1 directly to the
 &gt; branch. 

It will if you use the versioning system in the way it's intended.  You 
can use "cvs add filename" with no further arguments if you're not attempting
to enforce your own idea of version numbers onto CVS's versioning system.


 &gt; If the above know-how is not documented anywhere already,
 &gt; I'll consider writing it up and putting it on my web-site.

But why?

   - mark

--------------------------------------------------------------------
I tried an internal modem,                    <A HREF="mailto:newton@atdot.dotat.org">newton@atdot.dotat.org</A>
     but it hurt when I walked.                          Mark Newton
----- Voice: +61-4-1620-2223 ------------- Fax: +61-8-82231777 -----

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
