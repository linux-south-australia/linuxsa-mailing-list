<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="GNU Grep 2.5.1 speedup patches follow..." -->
<!-- FromName="'behoffski'" -->
<!-- FromEmail="behoffski@grouse.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Tue, 16 Dec 2003 22:03:27 +1030" -->
<!-- Id="3FDEED87.1000202@grouse.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: GNU Grep 2.5.1 speedup patches follow...</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: behoffski &lt;<I><A HREF="mailto:behoffski@grouse.com.au">behoffski@grouse.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Tue, 16 Dec 2003 22:03:27 +1030
</PRE>
<H1>GNU Grep 2.5.1 speedup patches follow...</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
G'day,

Over the last nine years, I've been playing with grep in various
incarnations, interested in optimising the search for speed.
The main code I've released in that time is Grouse Grep, with an
MS-DOS-based version released in 1997 and an enhanced
Linux/GCC-based version released in 2000.

While Grouse Grep has fewer features and some significant
performance holes in its current form, it does outperform GNU
Grep in a number of areas.  I had assumed that after the 2000
release, others would write patches for GNU Grep that addressed
some or all of the cases where Grouse Grep had excelled... but,
to date, none have appeared.  So I've decided to write a few
patches, selecting some cases where improvements can be achieved
by patches that are (hopefully) not too invasive.

I've created four patches:
	- Convert single-member classes to literals, as the
		optimisations available for literals far
		outweigh the optimisations available for
		classes;
	- Optimise case-insensitive searches;
	- Modify the string search to use the Self-Tuning
		Boyer-Moore (STBM) algorithm, instead of the
		Tuned Boyer-Moore, mainly as this algorithm is
		less vulnerable to some pathological cases; and
	- A combined case insensitivity/STBM patch, as these
		patches interact and cannot be applied as a
		pair of individual patches.

Earlier revisions of these patches have been submitted to the
GNU Grep maintainers, but the risks associated in adopting the
relatively large changes have prevented their inclusion to
date -- grep is a core utility, and stability, portability and
correctness are major concerns.

My hope is that by posting these patches to this list, the
wider programming community can help make the patches less
risky for the GNU Grep maintainers to adopt.  The main hope
is to establish a record of good performance and good
reliability, partially by having the code operate in a wide
range of systems, and partially by having the changes
inspected by a wider audience.  I also hope that other
components of code quality, such as coding style and
portability, can also be improved by this exposure.

The patches are contained in following emails.

cheers,

behoffski

-- 
behoffski (Brenton Hoff)  | Software Engineer
<A HREF="mailto:behoffski@grouse.com.au">behoffski@grouse.com.au</A>   | Grouse Software Pty Ltd








-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
