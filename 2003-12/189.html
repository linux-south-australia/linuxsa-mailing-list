<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Error compiling 2.4.18-26.7.x kernel" -->
<!-- FromName="" -->
<!-- FromEmail="markthurston@ihug.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 5 Dec 2003 06:11:51 GMT" -->
<!-- Id="E1AS9Bv-0000QQ-00@noir.ihug.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Error compiling 2.4.18-26.7.x kernel</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: &lt;<I><A HREF="mailto:markthurston@ihug.com.au">markthurston@ihug.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A></I>&gt;
  Date: Fri, 5 Dec 2003 06:11:51 GMT
</PRE>
<H1>Error compiling 2.4.18-26.7.x kernel</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
I am trying to compile a kernel. The source I am using is Redhat 7.3.
The kernel version is 2.4.18-26.7.x
I am using the source from /usr/src/linux-2.4.18-26.7.x. (copied to 
a /home/user directory)
The configuration file I'm using is kernel-2.4.18-i686.config 
from /usr/src/linux-2.4.18-26.7.x/configs.
I copied the file to my /home/user directory and renamed it to .config
The processor on the machine is an Intel Xeon (single cpu).

I then ran:

make oldconfig
make dep
make bzImage

These all worked without problems.

I then ran:

make modules

This doesn't work. The error looks like:

..

/home/ODA_User/KernelBuild/include/linux/netdevice.h:481: nondigits in number 
and not hexadecimal
/home/ODA_User/KernelBuild/include/linux/netdevice.h:481: nondigits in number 
and not hexadecimal
/home/ODA_User/KernelBuild/include/linux/netdevice.h:481: parse error before 
`8fddc84c'
/home/ODA_User/KernelBuild/include/linux/netdevice.h:481: 
`dev_new_index_R_ver_str' declared as function returning a function
/home/ODA_User/KernelBuild/include/linux/netdevice.h:481: warning: function 
declaration isn't a prototype
/home/ODA_User/KernelBuild/include/linux/netdevice.h: In function 
`__netif_schedule':
/home/ODA_User/KernelBuild/include/linux/netdevice.h:525: `d01f3ee8' 
undeclared (first use in this function)
/home/ODA_User/KernelBuild/include/linux/netdevice.h:525: called object is not 
a function
/home/ODA_User/KernelBuild/include/linux/netdevice.h: In function 
`dev_kfree_skb_irq':
/home/ODA_User/KernelBuild/include/linux/netdevice.h:575: `d01f3ee8' 
undeclared (first use in this function)
/home/ODA_User/KernelBuild/include/linux/netdevice.h:575: called object is not 
a function
/home/ODA_User/KernelBuild/include/linux/netdevice.h: At top level:
/home/ODA_User/KernelBuild/include/linux/netdevice.h:591: 
`net_call_rx_atomic_R_ver_str' declared as function returning a function
/home/ODA_User/KernelBuild/include/linux/netdevice.h:591: warning: parameter 
names (without types) in function declaration
/home/ODA_User/KernelBuild/include/linux/netdevice.h:596: nondigits in number 
and not hexadecimal
/home/ODA_User/KernelBuild/include/linux/netdevice.h:596: nondigits in number 
and not hexadecimal
/home/ODA_User/KernelBuild/include/linux/netdevice.h:596: parse error before 
`387c78a5'
/home/ODA_User/KernelBuild/include/linux/netdevice.h:596: 
`dev_ioctl_R_ver_str' declared as function returning a function
/home/ODA_User/KernelBuild/include/linux/netdevice.h:596: warning: function 
declaration isn't a prototype
/home/ODA_User/KernelBuild/include/linux/netdevice.h: In function 
`netif_rx_ni':
/home/ODA_User/KernelBuild/include/linux/netdevice.h:611: `f0a529b7' 
undeclared (first use in this function)
/home/ODA_User/KernelBuild/include/linux/netdevice.h:611: called object is not 
a function
In file included from /home/ODA_User/KernelBuild/include/net/dst.h:12,
                 from /home/ODA_User/KernelBuild/include/net/sock.h:107,
                 from cipe.h:69,
                 from module.c:15:
/home/ODA_User/KernelBuild/include/net/neighbour.h: In function 
`neigh_confirm':
/home/ODA_User/KernelBuild/include/net/neighbour.h:233: `jiffies_R0da02d67' 
undeclared (first use in this function)
/home/ODA_User/KernelBuild/include/net/neighbour.h: In function 
`neigh_event_send':
/home/ODA_User/KernelBuild/include/net/neighbour.h:248: `jiffies_R0da02d67' 
undeclared (first use in this function)
In file included from /home/ODA_User/KernelBuild/include/net/sock.h:107,
                 from cipe.h:69,
                 from module.c:15:
/home/ODA_User/KernelBuild/include/net/dst.h: In function `dst_set_expires':
/home/ODA_User/KernelBuild/include/net/dst.h:149: `jiffies_R0da02d67' 
undeclared (first use in this function)
In file included from cipe.h:69,
                 from module.c:15:
/home/ODA_User/KernelBuild/include/net/sock.h: In function `sk_filter_release':
/home/ODA_User/KernelBuild/include/net/sock.h:934: warning: implicit 
declaration of function `kfree_R037a0cba'
/home/ODA_User/KernelBuild/include/net/sock.h: In function `sock_orphan':
/home/ODA_User/KernelBuild/include/net/sock.h:1009: `do_softirq_Rf0a529b7' 
undeclared (first use in this function)
/home/ODA_User/KernelBuild/include/net/sock.h: In function `sock_graft':
/home/ODA_User/KernelBuild/include/net/sock.h:1018: `do_softirq_Rf0a529b7' 
undeclared (first use in this function)
/home/ODA_User/KernelBuild/include/net/sock.h: In function 
`sock_recv_timestamp':
/home/ODA_User/KernelBuild/include/net/sock.h:1266: warning: implicit 
declaration of function `put_cmsg_Rf39bf4d9'
module.c: In function `cipe_check_kernel':
module.c:73: warning: implicit declaration of function `printk_R1b7d4074'
make[3]: *** [module.o] Error 1
make[3]: Leaving directory `/home/ODA_User/KernelBuild/drivers/addon/cipe'
make[2]: *** [_modsubdir_cipe] Error 2
make[2]: Leaving directory `/home/ODA_User/KernelBuild/drivers/addon'
make[1]: *** [_modsubdir_addon] Error 2
make[1]: Leaving directory `/home/ODA_User/KernelBuild/drivers'
make: *** [_mod_drivers] Error 2

There are hundreds of lines with the error:

nondigits in number and not hexadecimal

The errors start when it tries to make the cipe modules:

..

make -C aep modules
make[3]: Entering directory `/home/ODA_User/KernelBuild/drivers/addon/aep'
gcc -D__KERNEL__ -I/home/ODA_User/KernelBuild/include -Wall -Wstrict-
prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-
pointer -pipe -mpreferred-stack-boundary=2 -march=i686 -DMODULE -DMODVERSIONS -
include /home/ODA_User/KernelBuild/include/linux/modversions.h  -nostdinc -
I /usr/lib/gcc-lib/i386-redhat-linux/2.96/include -DKBUILD_BASENAME=paep  -c -
o paep.o paep.c
make[3]: Leaving directory `/home/ODA_User/KernelBuild/drivers/addon/aep'
make -C cipe modules
make[3]: Entering directory `/home/ODA_User/KernelBuild/drivers/addon/cipe'
gcc -D__KERNEL__ -I/home/ODA_User/KernelBuild/include -Wall -Wstrict-
prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-
pointer -pipe -mpreferred-stack-boundary=2 -march=i686 -DMODULE -DMODVERSIONS -
include /home/ODA_User/KernelBuild/include/linux/modversions.h  -nostdinc -
I /usr/lib/gcc-lib/i386-redhat-linux/2.96/include -DKBUILD_BASENAME=module  -
c -o module.o module.c
In file included from /home/ODA_User/KernelBuild/include/linux/if.h:23,
                 from cipe.h:21,
                 from module.c:15:
/home/ODA_User/KernelBuild/include/linux/socket.h:249: nondigits in number and 
not hexadecimal
/home/ODA_User/KernelBuild/include/linux/socket.h:249: nondigits in number and 
not hexadecimal
/home/ODA_User/KernelBuild/include/linux/socket.h:249: nondigits in number and 
not hexadecimal
/home/ODA_User/KernelBuild/include/linux/socket.h:249: nondigits in number and 
not hexadecimal
/home/ODA_User/KernelBuild/include/linux/socket.h:249: parse error before 
`9fb3dd30'
/home/ODA_User/KernelBuild/include/linux/socket.h:249: 
`memcpy_fromiovec_R_ver_str' declared as function returning a function
/home/ODA_User/KernelBuild/include/linux/socket.h:249: warning: function 
declaration isn't a prototype
/home/ODA_User/KernelBuild/include/linux/socket.h:258: nondigits in number and 
not hexadecimal
/home/ODA_User/KernelBuild/include/linux/socket.h:258: floating constant 
exponent has no digits
/home/ODA_User/KernelBuild/include/linux/socket.h:258: missing white space 
after number `9ce'
/home/ODA_User/KernelBuild/include/linux/socket.h:258: parse error before `9ce'
/home/ODA_User/KernelBuild/include/linux/socket.h:258: 
`memcpy_toiovec_R_ver_str' declared as function returning a function
/home/ODA_User/KernelBuild/include/linux/socket.h:258: warning: function 
declaration isn't a prototype

..


The versions of tools I'm using are:
gcc:  2.96
make: 3.79.1
libc: 2.2.5

Can anyone suggest what the problem may be?

thanks.




-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A> IRC: #linuxsa on irc.freenode.net
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
