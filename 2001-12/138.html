<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: VIA & UDMA HDD Woes" -->
<!-- FromName="'Toby Corkindale'" -->
<!-- FromEmail="tjcorkin@sa.pracom.com.au" -->
<!-- ToName="" -->
<!-- ToEmail="Matthew.Cook@tekelek.com.au" -->
<!-- Date="Thu, 6 Dec 2001 15:43:18 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.33.0112061539310.11647-100000@localhost.localdomain" -->
<!-- Reference="OF24257341.FE8AD497-ONE9256B19.00808041@LocalDomain" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: VIA & UDMA HDD Woes</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Toby Corkindale &lt;<I><A HREF="mailto:tjcorkin@sa.pracom.com.au">tjcorkin@sa.pracom.com.au</A></I>&gt;
  To  : &lt;<I><A HREF="mailto:Matthew.Cook@tekelek.com.au">Matthew.Cook@tekelek.com.au</A></I>&gt;
  Date: Thu, 6 Dec 2001 15:43:18 +1030 (CST)
</PRE>
<H1>Re: VIA & UDMA HDD Woes</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hmm
If it helps, i have this IDE controller on my work machine's MB:
00:07.1 IDE interface: VIA Technologies, Inc. VT82C586 IDE [Apollo] (rev 10)

nfo from proc:
----------VIA BusMastering IDE Configuration----------------
Driver Version:                     3.29
South Bridge:                       VIA vt82c686a
Revision:                           ISA 0x22 IDE 0x10
Highest DMA rate:                   UDMA66
BM-DMA base:                        0xffa0
PCI clock:                          33MHz
Master Read  Cycle IRDY:            0ws
Master Write Cycle IRDY:            0ws
BM IDE Status Register Read Retry:  yes
Max DRDY Pulse Width:               No limit
-----------------------Primary IDE-------Secondary IDE------
Read DMA FIFO flush:          yes                 yes
End Sector FIFO flush:         no                  no
Prefetch Buffer:               no                  no
Post Write Buffer:             no                  no
Enabled:                      yes                 yes
Simplex only:                  no                  no
Cable Type:                   80w                 40w
-------------------drive0----drive1----drive2----drive3-----
Transfer Mode:       UDMA       PIO      UDMA       PIO
Address Setup:       30ns     120ns      30ns     120ns
Cmd Active:          90ns      90ns      90ns      90ns
Cmd Recovery:        30ns      30ns      30ns      30ns
Data Active:         90ns     330ns      90ns     330ns
Data Recovery:       30ns     270ns      30ns     270ns
Cycle Time:          30ns     600ns      60ns     600ns
Transfer Rate:   66.0MB/s   3.3MB/s  33.0MB/s   3.3MB/s


As you can see, I'm running UDMA/66.

This all works fine for me, and has done for ages.

it's worth noting that i'm running 2.4.16 at the moment, so thats a fair
leap ahead of your kernel though.

-Toby

On Thu, 6 Dec 2001 <A HREF="mailto:Matthew.Cook@tekelek.com.au">Matthew.Cook@tekelek.com.au</A> wrote:

&gt; Greetings,
&gt;
&gt; Does anyone have any experience with VIA chipsets and UDMA HDD's ???   I
&gt; have a no-name motherboard with a VIA 82C598/596/586 chipset on it with a
&gt; Western Digital 40Gb ATA100 HDD attached.   The unified driver is detecting
&gt; all said and sundary ok, but it is operating the drive in PIO mode 4 (yuck
&gt; !).   Now searching the web bad things happen when you enable UDMA on some
&gt; VIA chipsets and other WD HDD's are also blackbanned for UDMA operation...
&gt; hmm quandry..   Has anyone on the list used this combo before I go zorching
&gt; 12 odd tapes on a backup ??   I have a 2.2.19 kernal installed, has taken
&gt; me a while to figure out why the performance of the machine is so low.
&gt; Any suggestions ???
&gt;
&gt; M.
&gt;
&gt;
&gt;

-- 
 Toby Corkindale
 UNIX Developer, Core Tech R&D
 Technology SA, Pracom Ltd
 288 Glen Osmond Road
 Fullarton,	5063
 South Australia
 Tel: +61 8 8202 9075
 Fax: +61 8 8202 9001
 mailto:<A HREF="mailto:Toby.Corkindale@sa.pracom.com.au">Toby.Corkindale@sa.pracom.com.au</A>
 <A HREF="http://www.sa.pracom.com.au/">http://www.sa.pracom.com.au/</A>

                  PRIVILEGED - PRIVATE AND CONFIDENTIAL

   Privileged/Confidential Information may be contained in this message.
   If you are not the addressee indicated in this message, you may not
   copy or deliver this message to anyone.  In such case, you should
   destroy this message and notify the sender by reply email. Opinions,
   conclusions and other information in this message that do not relate
   to the official business of this organisation shall be understood as
   neither given nor endorsed by it.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
