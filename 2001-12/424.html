<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Network Card IRQ problems" -->
<!-- FromName="'Daniel Callan'" -->
<!-- FromEmail="dcallan@wias.net.au" -->
<!-- ToName="'Tim Riley'" -->
<!-- ToEmail="tr@rebel.net.au" -->
<!-- Date="Tue, 18 Dec 2001 23:23:51 +1000" -->
<!-- Id="4.3.1.20011218225203.00a77190@mail.wias.net.au" -->
<!-- Reference="20011218224616.A362@rebel.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Network Card IRQ problems</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Daniel Callan &lt;<I><A HREF="mailto:dcallan@wias.net.au">dcallan@wias.net.au</A></I>&gt;
  To  : Tim Riley &lt;<I><A HREF="mailto:tr@rebel.net.au">tr@rebel.net.au</A></I>&gt;
  Date: Tue, 18 Dec 2001 23:23:51 +1000
</PRE>
<H1>Re: Network Card IRQ problems</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi Tim,

The first thing you should do, is pull out the card(s) and check your
/proc/interrupts info in its base state. You need to know what would
normally want to use IRQ 12.

At 10:46  18/12/01 +1030, Tim wrote:
&gt;Upon further inspection, some nasty-looking IRQ errors in dmesg turned up,
&gt;and they are included below:
&gt;
&gt;PCI: Found IRQ 12 for device 00:0b.0
&gt;IRQ routing conflict in pirq table for device 00:0b.0
&gt;es1371: found chip, vendor id 0x1274 device id 0x1371 revision 0x08
&gt;es1371: found es1371 rev 8 at io 0xec00 irq 9
&gt;es1371: features: joystick 0x0
&gt;ac97_codec: AC97 Audio codec, id: 0x8384:0x7609 (SigmaTel STAC9721/23)

Just taking a punt here, but is that one of those 'onboard' AC97's on
an ASUS (or similar) motherboard?
If so, you might simplify your diagnosis of the ether card by turning the
thing off (in the BIOS) until you get all your conflicts sorted.
While you're at it, bugger off any onboard modem-riser crap that you find 
too ;-)
I have no good or bad experience with that sound device (it is turned off
permanently on the pair of new boxes here that came with it), so I'm
not saying it _is_ your problem BUT it is experiencing the same problem
as your network-card and will distract your diagnosis.

On that track, if you really are cramped for IRQ's, you could probably turn
off your USB device too (if your not using any USB devices).
However, if you are dual booting this machine with Windows, I can see why you
would need to have sound and USB working normally. So these bits are
just to diagnose what the offending device is. (see below)

&gt;8139too Fast Ethernet driver 0.9.17
&gt;PCI: Found IRQ 11 for device 00:0a.0
&gt;IRQ routing conflict in pirq table for device 00:0a.0
&gt;eth0: RealTek RTL8139 Fast Ethernet at 0xcc84c000, 00:40:f4:2c:94:e2, IRQ
&gt;12
&gt;eth0:  Identified 8139 chip type 'RTL-8139C'
&gt;eth0: Setting 100mbps full-duplex based on auto-negotiated partner ability
&gt;41e1.
&gt;
&gt;&lt;SNIP&gt;
&gt;
&gt;It was suggested that I go into the BIOS and reserve the IRQ of the NIC
&gt;for use by ISA devices, thus causing it to use another IRQ, hence avoiding
&gt;possible conflicts, but this made no difference.

I would undo that change :-)

If you want to do something specific like that, you'd be better off using the
setup program (under DOS/Win command prompt) that is on your Realtek driver 
disk.
Usually on the root level of the floppy, you will find a "SETUP.EXE" (and 
occasioanlly
it might be "INSTALL.EXE" but you get the idea ;-)  Anyway, this program will
allow you to change the card from being in Plug-n-Pray mode to "Jumperless" 
mode.
Then you can set the card to specific resources (ie: hard-set the IRQ/IO 
and other settings)
Use ones that you know are not in use by other devices (IRQ 10 appeared to 
be free in
your system) and make sure you follow any instructions about powering off 
after using
the program (which may be necessary for changes to effect).

Good luck,

-Daniel


-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
