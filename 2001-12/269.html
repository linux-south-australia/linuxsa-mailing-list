<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Chmod <to same as that file> this_file" -->
<!-- FromName="'michael'" -->
<!-- FromEmail="michael@home.lyppard.com.au" -->
<!-- ToName="'Richard Russell'" -->
<!-- ToEmail="richard@yellowgoanna.com" -->
<!-- Date="Wed, 12 Dec 2001 18:50:12 +1030 (CST)" -->
<!-- Id="Pine.LNX.4.10.10112121821480.12207-100000@sandwich.home.lyppard.com.au" -->
<!-- Reference="000b01c182c6$9711dbb0$0200a8c0@albert" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Chmod &lt;to same as that file&gt; this_file</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: michael &lt;<I><A HREF="mailto:michael@home.lyppard.com.au">michael@home.lyppard.com.au</A></I>&gt;
  To  : Richard Russell &lt;<I><A HREF="mailto:richard@yellowgoanna.com">richard@yellowgoanna.com</A></I>&gt;
  Date: Wed, 12 Dec 2001 18:50:12 +1030 (CST)
</PRE>
<H1>RE: Chmod &lt;to same as that file&gt; this_file</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi.

If you are trying to quickly duplicate the permissions, and --reference is
not available, I'd be looking at stat. You can stat one file and chmod the
other with it's numerical mode. In fact, I'd be surprised if it would be
very hard to write a script to do the job:

-------------------------------------------
#!/bin/bash
echo
echo "        This command copies the permissions from"
echo "           the first argument to the second"
echo
mode=`stat $1 |grep Uid|cut -b10,11,12,13`
 
echo "file $1 is mode $mode"
 
chmod $mode $2
 
ls -l $1 $2

-------------------------------------------

Might need a bit of tuning on another unix, but works on MDK 8.0

For production use, I would be adding some error checking into this
script. Usual disclaimers, etc.

Regards,

Michael


On Wed, 12 Dec 2001, Richard Russell wrote:

&gt; Doesn't appear to be an option on FreeBSD chmod...
&gt; 
&gt; Ah well.. All seems to be ok, if a little irritating...
&gt; 
&gt; rr
&gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: <A HREF="mailto:mikey@keyworks.com.au">mikey@keyworks.com.au</A> [mailto:<A HREF="mailto:mikey@keyworks.com.au">mikey@keyworks.com.au</A>] On 
&gt; &gt; Behalf Of Michael Neuling
&gt; &gt; Sent: Wednesday, 12 December 2001 2:57 PM
&gt; &gt; To: Richard Russell
&gt; &gt; Cc: 'linuxsa'
&gt; &gt; Subject: Re: Chmod &lt;to same as that file&gt; this_file 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Richard,
&gt; &gt; 
&gt; &gt; &gt; Is there a way to chmod a file to have the same mode as 
&gt; &gt; another file?  
&gt; &gt; &gt; I'd rather not go parsing ls output if possible, but that's 
&gt; &gt; the only 
&gt; &gt; &gt; way I can think of doing ig... (this is on FreeBSD, but I 
&gt; &gt; suspect the 
&gt; &gt; &gt; tools will be similar)
&gt; &gt; 
&gt; &gt; chmod --reference=file1 file2
&gt; &gt; 
&gt; &gt; Regards,
&gt; &gt; Michael
&gt; &gt; --
&gt; &gt;   "I don't have to be careful.  I got a gun."
&gt; &gt;     Homer J. Simpson
&gt; &gt; 
&gt; &gt; 
&gt; 
&gt; 
&gt; -- 
&gt; LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
&gt; To unsubscribe from the LinuxSA list:
&gt;   mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject
&gt; 

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
[<A HREF="stats.html">stats</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
