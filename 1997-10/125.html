<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: New  CD- R formats" -->
<!-- FromName="Mark Pulford" -->
<!-- FromEmail="wmpulfor@teaching.cs.adelaide.edu.au" -->
<!-- ToName="Jim Bickford" -->
<!-- ToEmail="Jim.Bickford@flinders.edu.au" -->
<!-- Date="Fri, 31 Oct 1997 15:38:22 +1030 (CST)" -->
<!-- Id="Pine.SV4.3.93.971031151126.8281A-100000@neon.teaching.cs.adelaide.edu.au" -->
<!-- Reference="199710310407.OAA31414@gamgee.cc.flinders.edu.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: New  CD- R formats</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Mark Pulford &lt;<I><A HREF="mailto:wmpulfor@teaching.cs.adelaide.edu.au">wmpulfor@teaching.cs.adelaide.edu.au</A></I>&gt;
  To  : Jim Bickford &lt;<I><A HREF="mailto:Jim.Bickford@flinders.edu.au">Jim.Bickford@flinders.edu.au</A></I>&gt;
  Date: Fri, 31 Oct 1997 15:38:22 +1030 (CST)
</PRE>
<H1>Re: New  CD- R formats</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
On Fri, 31 Oct 1997, Jim Bickford wrote:

&gt; &gt; Also you shouldn't need joliet support to use mount joliet cdroms. You
&gt; &gt; just need it for the long filenames.

&gt; Thanks for your reply.... It seems something went wrong when I was 
&gt; applying the patch. I've compiled a few kernels but this is the first 
&gt; patching I've tried. But as you say Joliet might not be the problem.
&gt; 
&gt; What I did was to download a bunch of rpm's from GDB's redhat/contrib 
&gt; ftp server onto a NT box and the burn them across the net to an HP 
&gt; SureStore CD-R on a W95 box. The files appear OK on the M$ boxen but 
&gt; those larger tan about 300k are broken up into 2 or more parts when 
&gt; listed on my 2 Linux boxes. Some of the unsplit ones have installed 
&gt; OK but the others naturally don't.

The first thing you should try is to patch the 2.0.30 kernel with the
proper fat32+joliet patch. I would also recommend removing the rpms for
the kernel source and headers if you are using them. Get the
<A HREF="ftp://linux.kernel.org/pub/linux/kernel/v2.0/linux-2.0.30.tar.gz">ftp://linux.kernel.org/pub/linux/kernel/v2.0/linux-2.0.30.tar.gz</A>
instead. The 2.0.30 kernel that Redhat uses isn't the same, they added
some patches that were floating around to try to make it a bit better. It
may stop the patch from applying properly, but I doubt it.

To patch it go to /usr/src and do something like:
zcat ~/fat32+joliet-patch.gz | patch -p0 &gt;& patch.log
Have a look at patch.log after to make sure nothing 'failed'. This should
work but if the patch wasn't created using standard conventions then you
may need to be in another directory or use '-p1' instead. If it didn't
work send me the first few lines of the patch and I'll tell you what to
do.

The version of the patch you need to use is a little raw in places wrt the
kernel config and compilation. I think you will need to compile joliet,
fat32 and nls into the kernel (not modules). You can compile the nls
stuff as modules. I think you will need the 430 codepage and iso8859-1.
I am not sure on the above numbers, just read the help on the nls stuff to
see if it applies. If you don't compile it like this it may fail when
compiling. Kerneld should load the nls stuff when you need it anyway.

If the new kernel doesn't work with the cdrom then it could be one of
several things:
- The patch isn't complete or contains a bug so it doesn't work on some
  cdroms. It would most probably be fixed in later versions.
- The format of the burnt cdroms doesn't follow the joliet 'standard'.
- Something I haven't thought of :).

Hopefully patching the kernel will work fine.

Regards,
Mark

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
