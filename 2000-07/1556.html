<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="RE: Installing rpm version 4.0 raw hide..." -->
<!-- FromName="Martin Sheppard" -->
<!-- FromEmail="martin.sheppard@scurvy.dhn.csiro.au" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Mon, 31 Jul 2000 10:57:47 +0930" -->
<!-- Id="4.3.0.20000731101418.00cb53d0@pop.dhn.csiro.au" -->
<!-- Reference="39832E3D.A779C64@konectanet.com.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: RE: Installing rpm version 4.0 raw hide...</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Martin Sheppard &lt;<I><A HREF="mailto:martin.sheppard@scurvy.dhn.csiro.au">martin.sheppard@scurvy.dhn.csiro.au</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Mon, 31 Jul 2000 10:57:47 +0930
</PRE>
<H1>RE: Installing rpm version 4.0 raw hide...</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
At 14:25 30/07/00 +0930, you wrote:
&gt;* Wishing to upgrade to postgres 7.0.2...
&gt;* Results:
&gt;* bash]# rpm -Uvh postgresql-server-7.0.2-10.i386.rpm
&gt;* only packages with major numbers &lt;= 3 are supported by this version of
&gt;* RPM
&gt;* error: postgresql-server-7.0.2-10.i386.rpm cannot be installed
&gt;*
&gt;* I assume it's refering to the version of rpm...
&gt;* Found rpm-4.0-0.56.i386.rpm....
&gt;*
&gt;* bash]# rpm -Uvh rpm-4.0-0.56.i386.rpm
&gt;* only packages with major numbers &lt;= 3 are supported by this version of
&gt;* RPM
&gt;* error: rpm-4.0-0.56.i386.rpm cannot be installed
&gt;
&gt;Heheheheh... I think it *was* talked about recently, but perhaps not about
&gt;postgres. Apparently, you need to find an rpm 4 package in rpm 3 format. ;)
&gt;I can't remember whether the solution was to get such an rpm 3 format
&gt;package, or just compile the source....

The following commands should upgrade a RedHat 6.2 box to rpm v4:

rpm -i 
<A HREF="http://mirror.aarnet.edu.au/disks/.32/redhat-addons/security/6.2/i386/db3-3.1.14-0.2.6x.i386.rpm">http://mirror.aarnet.edu.au/disks/.32/redhat-addons/security/6.2/i386/db3-3.1.14-0.2.6x.i386.rpm</A>
rpm -i 
<A HREF="http://mirror.aarnet.edu.au/disks/.32/redhat-addons/security/6.2/i386/db3-devel-3.1.14-0.2.6x.i386.rpm">http://mirror.aarnet.edu.au/disks/.32/redhat-addons/security/6.2/i386/db3-devel-3.1.14-0.2.6x.i386.rpm</A>
rpm -i 
<A HREF="http://mirror.aarnet.edu.au/redhat/redhat-6.2/i386/RedHat/RPMS/python-devel-1.5.2-13.i386.rpm">http://mirror.aarnet.edu.au/redhat/redhat-6.2/i386/RedHat/RPMS/python-devel-1.5.2-13.i386.rpm</A>
wget 
<A HREF="http://mirror.aarnet.edu.au/redhat/rawhide/i386/RedHat/instimage/usr/bin/rpm">http://mirror.aarnet.edu.au/redhat/rawhide/i386/RedHat/instimage/usr/bin/rpm</A>
./rpm -i 
<A HREF="http://mirror.aarnet.edu.au/redhat/rawhide/SRPMS/SRPMS/rpm-4.0-0.56.src.rpm">http://mirror.aarnet.edu.au/redhat/rawhide/SRPMS/SRPMS/rpm-4.0-0.56.src.rpm</A>
rpm -bb /usr/src/redhat/SPECS/rpm.spec
rpm -U 
/usr/src/redhat/RPMS/rpm{-,-devel-,-build-,-python-}4.0-0.56.i386.rpm 
/usr/src/redhat/RPMS/i386/popt-1.6-0.56.i386.rpm

I'm not sure if there are any issues with the rpm v4 using the existing rpm 
databases. I haven't tried using it to install packages and if it kills 
your rpm databases then it isn't my fault. I have tried querying the 
database, which works fine apart from complaining about "dbiSetConfig: 
unrecognized db option: "db3" ignored".

If anyone wants a copy of the resulting rpm v4 rpms in rpm v3 format then I 
can provide them. It might be best if someone (Netcraft?) made them 
available for download.

Cheers,

Martin.

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
