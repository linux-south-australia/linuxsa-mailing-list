<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="IO Performance with a RAID controller from 2.0.36 to 2.2.16" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="LinuxSA@linuxsa.org.au" -->
<!-- Date="Sun, 09 Jul 2000 18:02:09 +0900" -->
<!-- Id="3.0.6.32.20000709180209.009b05e0@203.16.214.248" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: IO Performance with a RAID controller from 2.0.36 to 2.2.16</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:LinuxSA@linuxsa.org.au">LinuxSA@linuxsa.org.au</A>
  Date: Sun, 09 Jul 2000 18:02:09 +0900
</PRE>
<H1>IO Performance with a RAID controller from 2.0.36 to 2.2.16</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

As some people know, I manage a large Linux site in Adelaide. This site the
possible distinction of using Linux in a mission critical role, in that its
main businesss applications run on Linux. 

That is, we are not only using it as a firewall and web server and dhcp
server, etc, but also running the main application.

This main application runs on a dual PentiumPro 200 system, with 256MB of
memory, and a DAC960PG raid controller with 32MB cache (configured as
Write-Thru) and three Seagate 10,000 RPM 9GB drives in a RAID-5
configuration (actually, there are 7 drives, two three drive logical disks
and a standby drive).

There are actually two of these machines, exact duplicates of each other.
The second one is a backup for the first.

I am in the process of doing a rolling upgrade, and I have one system up
under Linux 2.2.16 (using a distro) and the other is still running 2.0.36.

I though, what a great opportunity to check what the improvement in IO
performance is between 2.0.36 and 2.2.16.  So, I grabbed Bonnie and ioperf
and generated some results for Bonnie. I haven't done ioperf yet.

Here are the results.  The file used in each case was 512MB long to prevent
any caching effects.

         Sequential Output             Sequential Input
         Per Char  Block     Rewrite   Per Char   Block
2.0.36   3049k/s   5632k/S   3747k/s   3960k/s    24,648k/s  
2.2.16   3166k/s   6381k/s   3637k/s   3078k/s    22,496k/s

I have removed the CPU utilization figures for space reasons, but they did
not vary markedly, I think.

This is really interesting.  Write performance has gone up about 15%, while
read performance has gone down around 10%.

Each machine has exactly the same configuration, except for the OS version,
and that under 2.0.36, the DAC960 driver is built into the kernel, while at
2.2.16, it is loaded as a module.

More results from ioperf when I have run them in a while ...

Now, on to upgrading the other system so I can run drbd between the two
machines and mirror the disks across the network. Then, on to high
availability.

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.zing.org)
Co-author, SAMS Teach Yourself Samba in 24 Hours
Author: First Australian 5-day, intensive, hands-on Linux SysAdmin course
Author: First Australian 2-day, intensive, hands-on Samba course

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
