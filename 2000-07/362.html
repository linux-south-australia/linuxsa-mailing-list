<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Sendmail and DNS and firewalls" -->
<!-- FromName="Richard Sharpe" -->
<!-- FromEmail="sharpe@ns.aus.com" -->
<!-- ToName="" -->
<!-- ToEmail="LinuxSA@linuxsa.org.au" -->
<!-- Date="Mon, 10 Jul 2000 23:57:00 +0900" -->
<!-- Id="3.0.6.32.20000710235700.009cd6f0@203.16.214.248" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Sendmail and DNS and firewalls</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Richard Sharpe &lt;<I><A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A></I>&gt;
  To  : <A HREF="mailto:LinuxSA@linuxsa.org.au">LinuxSA@linuxsa.org.au</A>
  Date: Mon, 10 Jul 2000 23:57:00 +0900
</PRE>
<H1>Sendmail and DNS and firewalls</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi,

I have just spent a frustrating day with Sendmail.

One of my customer sites sits behind a firewall, and we have lots of
internal mail etc.

On the weekend I upgraded from RH5.0 to RH6.0 and sendmail went up quite a
few versions.

This caused big problems, one of the main ones being with sendmail and DNS
interaction.

The problem is that sendmail wants to look up each destination and if it
cannot, as it can't in our case, because of the firewall, insists on
marking the mail messages as Deferred, address lookup failed or somesuch.
This was despite having defined an SMART_HOST.

A quick check of the FAQ turned up a neat option, ServiceSwitchFile and
suggested that editing dns out of the hosts entry in /etc/nsswitch.conf
would do the job. Alas, it did not seem to.

So, more drastic action was taken. All occurrences in the sendmail.cf file
that use DNS to look up names were removed ($[ ... ]). 

Things have now settled down after some annoying mail loops, but what I
have done is non-standard and a maintenance headache.

What do other people do with this. What .mc changes to people normally use
fir this?

Regards
-------
Richard Sharpe, <A HREF="mailto:sharpe@ns.aus.com">sharpe@ns.aus.com</A>
Samba (Team member, www.samba.org), Ethereal (Team member, www.zing.org)
Co-author, SAMS Teach Yourself Samba in 24 Hours
Author: First Australian 5-day, intensive, hands-on Linux SysAdmin course
Author: First Australian 2-day, intensive, hands-on Samba course

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
