<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="Re: Annoying Problem" -->
<!-- FromName="Alex Garner" -->
<!-- FromEmail="alex@netcraft.com.au" -->
<!-- ToName="David Lloyd" -->
<!-- ToEmail="lloy0076@rebel.net.au" -->
<!-- Date="Tue, 18 Jul 2000 13:09:43 +0930 (CST)" -->
<!-- Id="200007180339.NAA14377@Kara.netcraft.com.au" -->
<!-- Reference="3973CE8A.707C20A8@rebel.net.au" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: Re: Annoying Problem</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Alex Garner &lt;<I><A HREF="mailto:alex@netcraft.com.au">alex@netcraft.com.au</A></I>&gt;
  To  : David Lloyd &lt;<I><A HREF="mailto:lloy0076@rebel.net.au">lloy0076@rebel.net.au</A></I>&gt;
  Date: Tue, 18 Jul 2000 13:09:43 +0930 (CST)
</PRE>
<H1>Re: Annoying Problem</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
&gt; &gt; &gt; options {
&gt; &gt; &gt;   directory "/etc/named";
&gt; &gt; &gt;   forwarders { 203.20.69.2; };
&gt; &gt; &gt; };
&gt; &gt; 
&gt; &gt; Is that 203.20.69.2 your ISP? What are you trying to do here? Why
&gt; &gt; are you using the forwarder statment?
&gt; 
&gt; Essentially I am online for spans of hours (like 16 hours) at a
&gt; time.  I'm running a caching, forwarding name server because I tend
&gt; to stay within a small number of sites. Rebel's name server is slow
&gt; (well the name server isn't slow the Internet connection is), so
&gt; it's MUCH faster for me to have a local, caching name server.

Right. In that case you have set this up to do the exact opposite of
that. You are saying here that you don't want the domain lookup to be
done at your machine, but at Rebel's. Read my post from last week
explaining what a forwarder is weeks.

&gt; &gt; Don't use this file anymore, it has been superceeded. Use
&gt; &gt; /etc/nsswitch.conf
&gt; 
&gt; Oh, of course. It still says files dns though.

Good.

&gt; &gt; Try putting in an IP address that named is actually using. I
&gt; &gt; suspect that 0.0.0.0 is invalid as it usually means 'the default
&gt; &gt; route'
&gt; 
&gt; According to the DNS & BIND book by O'Reilly that is an appropriate
&gt; address. Besides, I know it works because I only ever talk to
&gt; 0.0.0.0, there's no name server running at my dynamically assigned
&gt; IP address and ethereal the packet sniffer can see the two name
&gt; servers talking to each other.

Try chaning it to 127.0.0.1.

&gt; &gt; That's a pretty dodgey way of assuming that name service is
&gt; &gt; happening.  You could get a bind stats dump from named, or use
&gt; &gt; tcpdump to watch the packets.
&gt; 
&gt; Yes, I know I should. I probably should have said that I determined
&gt; how my system behaves by using ethereal. Essentially, Netscape
&gt; especially hangs on DNS lookups. Essentially I'm trying to work out
&gt; why, even though my hosts.conf and nsswitch.conf both point to
&gt; "files" or "host" to do DNS lookups, it suddenly decides that
&gt; localhost does not exist and hence waits for my name servers to time
&gt; out before realising it does exist in host.conf :-(

Are you sure it's looking up the localhost name? Pull apart the TCP
packet on port 53 with ethereal, and check which name server it's
querying AND what its asking it. It should all be there.

Cheers

Alex!
 


-- 

Alex Garner &lt;<A HREF="mailto:alex@netcraft.com.au">alex@netcraft.com.au</A>&gt;

NetCraft Australia
Phone (08) 8370 3650
<A HREF="http://www.netcraft.com.au">http://www.netcraft.com.au</A>

"#define QUESTION ((bb) || !(bb)) // Shakespeare."

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
