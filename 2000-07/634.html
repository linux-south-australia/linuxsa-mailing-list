<HTML>
<!-- EmailData="Start" -->
<!-- Version="1.1" -->
<!-- Subject="fetchmail woes continued." -->
<!-- FromName="Thomas Duterme" -->
<!-- FromEmail="thomas@madeforchina.com" -->
<!-- ToName="" -->
<!-- ToEmail="linuxsa@linuxsa.org.au" -->
<!-- Date="Fri, 14 Jul 2000 11:02:45 +0000" -->
<!-- Id="200007140309.MAA28031@Elizabeth.netcraft.com.au" -->
<!-- Reference="" -->
<!-- X-Face="" -->
<!-- X-URL="" -->
<!-- EmailData="End" -->
<HEAD>
<TITLE>LinuxSA Mailing List: fetchmail woes continued.</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF><H1>LinuxSA Mailing list archives</H1>
<!-- IndexControl1="Start" -->
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<HR>
<!-- IndexControl1="End" -->
<!-- Header="Start" -->
<PRE>
  From: Thomas Duterme &lt;<I><A HREF="mailto:thomas@madeforchina.com">thomas@madeforchina.com</A></I>&gt;
  To  : <A HREF="mailto:linuxsa@linuxsa.org.au">linuxsa@linuxsa.org.au</A>
  Date: Fri, 14 Jul 2000 11:02:45 +0000
</PRE>
<H1>fetchmail woes continued.</H1>
<!-- Header="End" -->
<!-- Body="Start" -->
<PRE>
Hi folks,

I'm still a bit confused on how to use Fetchmail properly and hope
some of you can help.

We have a remote server which uses one cyrus imap account for the entire
company mail.  Joe, bob, and john all have @madeforchina.com accounts 
which (unless have .qmail aliases) will go to the default which is 
an imap account called 'temp'.  I'd like to fetch 'temp' down to a local
server and have mail sorted by user on local.

1) Fetch from the imap account called 'company'
2) fetchmail pops all mail to local which pipes it to local smtp
3) local SMTP uses default --smtpname (ie <A HREF="mailto:root@localhost">root@localhost</A>)
4) qmail can't deliver to <A HREF="mailto:root@localhost">root@localhost</A> and so all mail bounces

I've got a gut feeling I am missing something really obvious.  Basically,
I need smtpname to be set to the orginal rcpt of the message.

So, the idea is to change fetchmail source so that fetchmail will 
use the original messages 'Delivered-To' header line for the local SMTP 
transactions RCPT line.  This will ensure correct sorting of email on 
localhost.

Using MDA doesn't solve the problem since it may lose mail if the 
mail address doesn't exist (ie no bounced mails)  Also, with MDA
if I forward my existing webmail to the remote server and then fetch
mail back down to localhost, this forwarded mail gets lost.  

Any help on the above would be appreciated.

Thomas

-- 
LinuxSA WWW: <A HREF="http://www.linuxsa.org.au/">http://www.linuxsa.org.au/</A>  IRC: #linuxsa on irc.linux.org.au
To unsubscribe from the LinuxSA list:
  mail <A HREF="mailto:linuxsa-request@linuxsa.org.au">linuxsa-request@linuxsa.org.au</A> with "unsubscribe" as the subject

</PRE>
<!-- Body="End" -->
<!-- IndexControl2="Start" -->
<HR>
Index:
[<A HREF="thread.html">thread</A>]
[<A HREF="date.html">date</A>]
[<A HREF="subject.html">subject</A>]
[<A HREF="author.html">author</A>]
<!-- IndexControl2="End" -->
<HR><FONT SIZE=+1>Return to the <A HREF=/mailing-list/>LinuxSA Mailing List Information</A> Page</FONT></BODY>
</HTML>
